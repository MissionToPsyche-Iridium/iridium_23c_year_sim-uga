(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var cx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bM={exports:{}},an={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN;function uV(){if(vN)return an;vN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=v&&q[v]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,M={};function A(q,se,pe){this.props=q,this.context=se,this.refs=M,this.updater=pe||b}A.prototype.isReactComponent={},A.prototype.setState=function(q,se){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,se,"setState")},A.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function S(){}S.prototype=A.prototype;function w(q,se,pe){this.props=q,this.context=se,this.refs=M,this.updater=pe||b}var C=w.prototype=new S;C.constructor=w,_(C,A.prototype),C.isPureReactComponent=!0;var R=Array.isArray,D={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function L(q,se,pe,Se,oe,Te){return pe=Te.ref,{$$typeof:n,type:q,key:se,ref:pe!==void 0?pe:null,props:Te}}function z(q,se){return L(q.type,se,void 0,void 0,void 0,q.props)}function P(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function U(q){var se={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(pe){return se[pe]})}var H=/\/+/g;function J(q,se){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):se.toString(36)}function V(){}function ne(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(V,V):(q.status="pending",q.then(function(se){q.status==="pending"&&(q.status="fulfilled",q.value=se)},function(se){q.status==="pending"&&(q.status="rejected",q.reason=se)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function ee(q,se,pe,Se,oe){var Te=typeof q;(Te==="undefined"||Te==="boolean")&&(q=null);var Ue=!1;if(q===null)Ue=!0;else switch(Te){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(q.$$typeof){case n:case e:Ue=!0;break;case p:return Ue=q._init,ee(Ue(q._payload),se,pe,Se,oe)}}if(Ue)return oe=oe(q),Ue=Se===""?"."+J(q,0):Se,R(oe)?(pe="",Ue!=null&&(pe=Ue.replace(H,"$&/")+"/"),ee(oe,se,pe,"",function(Le){return Le})):oe!=null&&(P(oe)&&(oe=z(oe,pe+(oe.key==null||q&&q.key===oe.key?"":(""+oe.key).replace(H,"$&/")+"/")+Ue)),se.push(oe)),1;Ue=0;var We=Se===""?".":Se+":";if(R(q))for(var qe=0;qe<q.length;qe++)Se=q[qe],Te=We+J(Se,qe),Ue+=ee(Se,se,pe,Te,oe);else if(qe=g(q),typeof qe=="function")for(q=qe.call(q),qe=0;!(Se=q.next()).done;)Se=Se.value,Te=We+J(Se,qe++),Ue+=ee(Se,se,pe,Te,oe);else if(Te==="object"){if(typeof q.then=="function")return ee(ne(q),se,pe,Se,oe);throw se=String(q),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function Y(q,se,pe){if(q==null)return q;var Se=[],oe=0;return ee(q,Se,"","",function(Te){return se.call(pe,Te,oe++)}),Se}function re(q){if(q._status===-1){var se=q._result;se=se(),se.then(function(pe){(q._status===0||q._status===-1)&&(q._status=1,q._result=pe)},function(pe){(q._status===0||q._status===-1)&&(q._status=2,q._result=pe)}),q._status===-1&&(q._status=0,q._result=se)}if(q._status===1)return q._result.default;throw q._result}var ie=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function he(){}return an.Children={map:Y,forEach:function(q,se,pe){Y(q,function(){se.apply(this,arguments)},pe)},count:function(q){var se=0;return Y(q,function(){se++}),se},toArray:function(q){return Y(q,function(se){return se})||[]},only:function(q){if(!P(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},an.Component=A,an.Fragment=t,an.Profiler=r,an.PureComponent=w,an.StrictMode=i,an.Suspense=u,an.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,an.act=function(){throw Error("act(...) is not supported in production builds of React.")},an.cache=function(q){return function(){return q.apply(null,arguments)}},an.cloneElement=function(q,se,pe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Se=_({},q.props),oe=q.key,Te=void 0;if(se!=null)for(Ue in se.ref!==void 0&&(Te=void 0),se.key!==void 0&&(oe=""+se.key),se)!N.call(se,Ue)||Ue==="key"||Ue==="__self"||Ue==="__source"||Ue==="ref"&&se.ref===void 0||(Se[Ue]=se[Ue]);var Ue=arguments.length-2;if(Ue===1)Se.children=pe;else if(1<Ue){for(var We=Array(Ue),qe=0;qe<Ue;qe++)We[qe]=arguments[qe+2];Se.children=We}return L(q.type,oe,void 0,void 0,Te,Se)},an.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},an.createElement=function(q,se,pe){var Se,oe={},Te=null;if(se!=null)for(Se in se.key!==void 0&&(Te=""+se.key),se)N.call(se,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(oe[Se]=se[Se]);var Ue=arguments.length-2;if(Ue===1)oe.children=pe;else if(1<Ue){for(var We=Array(Ue),qe=0;qe<Ue;qe++)We[qe]=arguments[qe+2];oe.children=We}if(q&&q.defaultProps)for(Se in Ue=q.defaultProps,Ue)oe[Se]===void 0&&(oe[Se]=Ue[Se]);return L(q,Te,void 0,void 0,null,oe)},an.createRef=function(){return{current:null}},an.forwardRef=function(q){return{$$typeof:l,render:q}},an.isValidElement=P,an.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:re}},an.memo=function(q,se){return{$$typeof:f,type:q,compare:se===void 0?null:se}},an.startTransition=function(q){var se=D.T,pe={};D.T=pe;try{var Se=q(),oe=D.S;oe!==null&&oe(pe,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(he,ie)}catch(Te){ie(Te)}finally{D.T=se}},an.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},an.use=function(q){return D.H.use(q)},an.useActionState=function(q,se,pe){return D.H.useActionState(q,se,pe)},an.useCallback=function(q,se){return D.H.useCallback(q,se)},an.useContext=function(q){return D.H.useContext(q)},an.useDebugValue=function(){},an.useDeferredValue=function(q,se){return D.H.useDeferredValue(q,se)},an.useEffect=function(q,se){return D.H.useEffect(q,se)},an.useId=function(){return D.H.useId()},an.useImperativeHandle=function(q,se,pe){return D.H.useImperativeHandle(q,se,pe)},an.useInsertionEffect=function(q,se){return D.H.useInsertionEffect(q,se)},an.useLayoutEffect=function(q,se){return D.H.useLayoutEffect(q,se)},an.useMemo=function(q,se){return D.H.useMemo(q,se)},an.useOptimistic=function(q,se){return D.H.useOptimistic(q,se)},an.useReducer=function(q,se,pe){return D.H.useReducer(q,se,pe)},an.useRef=function(q){return D.H.useRef(q)},an.useState=function(q){return D.H.useState(q)},an.useSyncExternalStore=function(q,se,pe){return D.H.useSyncExternalStore(q,se,pe)},an.useTransition=function(){return D.H.useTransition()},an.version="19.0.0",an}var gN;function Xm(){return gN||(gN=1,bM.exports=uV()),bM.exports}var Z=Xm();const ut=Jn(Z);var xM={exports:{}},Ag={},_M={exports:{}},AM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN;function cV(){return yN||(yN=1,function(n){function e(Y,re){var ie=Y.length;Y.push(re);e:for(;0<ie;){var he=ie-1>>>1,q=Y[he];if(0<r(q,re))Y[he]=re,Y[ie]=q,ie=he;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var re=Y[0],ie=Y.pop();if(ie!==re){Y[0]=ie;e:for(var he=0,q=Y.length,se=q>>>1;he<se;){var pe=2*(he+1)-1,Se=Y[pe],oe=pe+1,Te=Y[oe];if(0>r(Se,ie))oe<q&&0>r(Te,Se)?(Y[he]=Te,Y[oe]=ie,he=oe):(Y[he]=Se,Y[pe]=ie,he=pe);else if(oe<q&&0>r(Te,ie))Y[he]=Te,Y[oe]=ie,he=oe;else break e}}return re}function r(Y,re){var ie=Y.sortIndex-re.sortIndex;return ie!==0?ie:Y.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var u=[],f=[],p=1,v=null,g=3,b=!1,_=!1,M=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function C(Y){for(var re=t(f);re!==null;){if(re.callback===null)i(f);else if(re.startTime<=Y)i(f),re.sortIndex=re.expirationTime,e(u,re);else break;re=t(f)}}function R(Y){if(M=!1,C(Y),!_)if(t(u)!==null)_=!0,ne();else{var re=t(f);re!==null&&ee(R,re.startTime-Y)}}var D=!1,N=-1,L=5,z=-1;function P(){return!(n.unstable_now()-z<L)}function U(){if(D){var Y=n.unstable_now();z=Y;var re=!0;try{e:{_=!1,M&&(M=!1,S(N),N=-1),b=!0;var ie=g;try{t:{for(C(Y),v=t(u);v!==null&&!(v.expirationTime>Y&&P());){var he=v.callback;if(typeof he=="function"){v.callback=null,g=v.priorityLevel;var q=he(v.expirationTime<=Y);if(Y=n.unstable_now(),typeof q=="function"){v.callback=q,C(Y),re=!0;break t}v===t(u)&&i(u),C(Y)}else i(u);v=t(u)}if(v!==null)re=!0;else{var se=t(f);se!==null&&ee(R,se.startTime-Y),re=!1}}break e}finally{v=null,g=ie,b=!1}re=void 0}}finally{re?H():D=!1}}}var H;if(typeof w=="function")H=function(){w(U)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,V=J.port2;J.port1.onmessage=U,H=function(){V.postMessage(null)}}else H=function(){A(U,0)};function ne(){D||(D=!0,H())}function ee(Y,re){N=A(function(){Y(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){_||b||(_=!0,ne())},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var ie=g;g=re;try{return Y()}finally{g=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ie=g;g=Y;try{return re()}finally{g=ie}},n.unstable_scheduleCallback=function(Y,re,ie){var he=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?he+ie:he):ie=he,Y){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ie+q,Y={id:p++,callback:re,priorityLevel:Y,startTime:ie,expirationTime:q,sortIndex:-1},ie>he?(Y.sortIndex=ie,e(f,Y),t(u)===null&&Y===t(f)&&(M?(S(N),N=-1):M=!0,ee(R,ie-he))):(Y.sortIndex=q,e(u,Y),_||b||(_=!0,ne())),Y},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(Y){var re=g;return function(){var ie=g;g=re;try{return Y.apply(this,arguments)}finally{g=ie}}}}(AM)),AM}var bN;function SO(){return bN||(bN=1,_M.exports=cV()),_M.exports}var SM={exports:{}},sa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN;function fV(){if(xN)return sa;xN=1;var n=Xm();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(u,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:u,containerInfo:f,implementation:p}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return sa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sa.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,p)},sa.flushSync=function(u){var f=s.T,p=i.p;try{if(s.T=null,i.p=2,u)return u()}finally{s.T=f,i.p=p,i.d.f()}},sa.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(u,f))},sa.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},sa.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,v=l(p,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:g,fetchPriority:b}):p==="script"&&i.d.X(u,{crossOrigin:v,integrity:g,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},sa.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);i.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(u)},sa.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=l(p,f.crossOrigin);i.d.L(u,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},sa.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=l(f.as,f.crossOrigin);i.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(u)},sa.requestFormReset=function(u){i.d.r(u)},sa.unstable_batchedUpdates=function(u,f){return u(f)},sa.useFormState=function(u,f,p){return s.H.useFormState(u,f,p)},sa.useFormStatus=function(){return s.H.useHostTransitionStatus()},sa.version="19.0.0",sa}var _N;function hV(){if(_N)return SM.exports;_N=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),SM.exports=fV(),SM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AN;function dV(){if(AN)return Ag;AN=1;var n=SO(),e=Xm(),t=hV();function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}var a=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),b=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),R=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function N(o){return o===null||typeof o!="object"?null:(o=D&&o[D]||o["@@iterator"],typeof o=="function"?o:null)}var L=Symbol.for("react.client.reference");function z(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===L?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case u:return"Fragment";case l:return"Portal";case p:return"Profiler";case f:return"StrictMode";case M:return"Suspense";case A:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case b:return(o.displayName||"Context")+".Provider";case g:return(o._context.displayName||"Context")+".Consumer";case _:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case S:return c=o.displayName||null,c!==null?c:z(o.type)||"Memo";case w:c=o._payload,o=o._init;try{return z(o(c))}catch{}}return null}var P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign,H,J;function V(o){if(H===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);H=c&&c[1]||"",J=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+H+o+J}var ne=!1;function ee(o,c){if(!o||ne)return"";ne=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(c){var $e=function(){throw Error()};if(Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(Fe){var Re=Fe}Reflect.construct(o,[],$e)}else{try{$e.call()}catch(Fe){Re=Fe}o.call($e.prototype)}}else{try{throw Error()}catch(Fe){Re=Fe}($e=o())&&typeof $e.catch=="function"&&$e.catch(function(){})}}catch(Fe){if(Fe&&Re&&typeof Fe.stack=="string")return[Fe.stack,Re.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=y.DetermineComponentFrameRoot(),G=O[0],X=O[1];if(G&&X){var ae=G.split(`
`),ve=X.split(`
`);for(E=y=0;y<ae.length&&!ae[y].includes("DetermineComponentFrameRoot");)y++;for(;E<ve.length&&!ve[E].includes("DetermineComponentFrameRoot");)E++;if(y===ae.length||E===ve.length)for(y=ae.length-1,E=ve.length-1;1<=y&&0<=E&&ae[y]!==ve[E];)E--;for(;1<=y&&0<=E;y--,E--)if(ae[y]!==ve[E]){if(y!==1||E!==1)do if(y--,E--,0>E||ae[y]!==ve[E]){var je=`
`+ae[y].replace(" at new "," at ");return o.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",o.displayName)),je}while(1<=y&&0<=E);break}}}finally{ne=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?V(m):""}function Y(o){switch(o.tag){case 26:case 27:case 5:return V(o.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 15:return o=ee(o.type,!1),o;case 11:return o=ee(o.type.render,!1),o;case 1:return o=ee(o.type,!0),o;default:return""}}function re(o){try{var c="";do c+=Y(o),o=o.return;while(o);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function ie(o){var c=o,m=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(m=c.return),o=c.return;while(o)}return c.tag===3?m:null}function he(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function q(o){if(ie(o)!==o)throw Error(i(188))}function se(o){var c=o.alternate;if(!c){if(c=ie(o),c===null)throw Error(i(188));return c!==o?null:o}for(var m=o,y=c;;){var E=m.return;if(E===null)break;var O=E.alternate;if(O===null){if(y=E.return,y!==null){m=y;continue}break}if(E.child===O.child){for(O=E.child;O;){if(O===m)return q(E),o;if(O===y)return q(E),c;O=O.sibling}throw Error(i(188))}if(m.return!==y.return)m=E,y=O;else{for(var G=!1,X=E.child;X;){if(X===m){G=!0,m=E,y=O;break}if(X===y){G=!0,y=E,m=O;break}X=X.sibling}if(!G){for(X=O.child;X;){if(X===m){G=!0,m=O,y=E;break}if(X===y){G=!0,y=O,m=E;break}X=X.sibling}if(!G)throw Error(i(189))}}if(m.alternate!==y)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?o:c}function pe(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=pe(o),c!==null)return c;o=o.sibling}return null}var Se=Array.isArray,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},Ue=[],We=-1;function qe(o){return{current:o}}function Le(o){0>We||(o.current=Ue[We],Ue[We]=null,We--)}function De(o,c){We++,Ue[We]=o.current,o.current=c}var Xe=qe(null),fe=qe(null),Ce=qe(null),K=qe(null);function st(o,c){switch(De(Ce,c),De(fe,o),De(Xe,null),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)&&(c=c.namespaceURI)?qD(c):0;break;default:if(o=o===8?c.parentNode:c,c=o.tagName,o=o.namespaceURI)o=qD(o),c=XD(o,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}Le(Xe),De(Xe,c)}function Ie(){Le(Xe),Le(fe),Le(Ce)}function Ze(o){o.memoizedState!==null&&De(K,o);var c=Xe.current,m=XD(c,o.type);c!==m&&(De(fe,o),De(Xe,m))}function Je(o){fe.current===o&&(Le(Xe),Le(fe)),K.current===o&&(Le(K),gg._currentValue=Te)}var At=Object.prototype.hasOwnProperty,rt=n.unstable_scheduleCallback,$=n.unstable_cancelCallback,k=n.unstable_shouldYield,_e=n.unstable_requestPaint,Ne=n.unstable_now,Ye=n.unstable_getCurrentPriorityLevel,He=n.unstable_ImmediatePriority,vt=n.unstable_UserBlockingPriority,lt=n.unstable_NormalPriority,_t=n.unstable_LowPriority,Jt=n.unstable_IdlePriority,tt=n.log,St=n.unstable_setDisableYieldValue,Tt=null,Mt=null;function xt(o){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Tt,o,void 0,(o.current.flags&128)===128)}catch{}}function ce(o){if(typeof tt=="function"&&St(o),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Tt,o)}catch{}}var Pe=Math.clz32?Math.clz32:it,ft=Math.log,ue=Math.LN2;function it(o){return o>>>=0,o===0?32:31-(ft(o)/ue|0)|0}var Be=128,Ge=4194304;function ct(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ht(o,c){var m=o.pendingLanes;if(m===0)return 0;var y=0,E=o.suspendedLanes,O=o.pingedLanes,G=o.warmLanes;o=o.finishedLanes!==0;var X=m&134217727;return X!==0?(m=X&~E,m!==0?y=ct(m):(O&=X,O!==0?y=ct(O):o||(G=X&~G,G!==0&&(y=ct(G))))):(X=m&~E,X!==0?y=ct(X):O!==0?y=ct(O):o||(G=m&~G,G!==0&&(y=ct(G)))),y===0?0:c!==0&&c!==y&&(c&E)===0&&(E=y&-y,G=c&-c,E>=G||E===32&&(G&4194176)!==0)?c:y}function Rt(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function un(o,c){switch(o){case 1:case 2:case 4:case 8:return c+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function In(){var o=Be;return Be<<=1,(Be&4194176)===0&&(Be=128),o}function Zt(){var o=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),o}function di(o){for(var c=[],m=0;31>m;m++)c.push(o);return c}function Ai(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Pf(o,c,m,y,E,O){var G=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var X=o.entanglements,ae=o.expirationTimes,ve=o.hiddenUpdates;for(m=G&~m;0<m;){var je=31-Pe(m),$e=1<<je;X[je]=0,ae[je]=-1;var Re=ve[je];if(Re!==null)for(ve[je]=null,je=0;je<Re.length;je++){var Fe=Re[je];Fe!==null&&(Fe.lane&=-536870913)}m&=~$e}y!==0&&ou(o,y,0),O!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=O&~(G&~c))}function ou(o,c,m){o.pendingLanes|=c,o.suspendedLanes&=~c;var y=31-Pe(c);o.entangledLanes|=c,o.entanglements[y]=o.entanglements[y]|1073741824|m&4194218}function Pa(o,c){var m=o.entangledLanes|=c;for(o=o.entanglements;m;){var y=31-Pe(m),E=1<<y;E&c|o[y]&c&&(o[y]|=c),m&=~E}}function ga(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function yc(){var o=oe.p;return o!==0?o:(o=window.event,o===void 0?32:cN(o.type))}function is(o,c){var m=oe.p;try{return oe.p=o,c()}finally{oe.p=m}}var Si=Math.random().toString(36).slice(2),pi="__reactFiber$"+Si,tn="__reactProps$"+Si,rs="__reactContainer$"+Si,sl="__reactEvents$"+Si,Pd="__reactListeners$"+Si,Ld="__reactHandles$"+Si,Ud="__reactResources$"+Si,so="__reactMarker$"+Si;function lu(o){delete o[pi],delete o[tn],delete o[sl],delete o[Pd],delete o[Ld]}function as(o){var c=o[pi];if(c)return c;for(var m=o.parentNode;m;){if(c=m[rs]||m[pi]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(o=KD(o);o!==null;){if(m=o[pi])return m;o=KD(o)}return c}o=m,m=o.parentNode}return null}function j(o){if(o=o[pi]||o[rs]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function de(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(i(33))}function Ee(o){var c=o[Ud];return c||(c=o[Ud]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ae(o){o[so]=!0}var ge=new Set,Qe={};function ot(o,c){yt(o,c),yt(o+"Capture",c)}function yt(o,c){for(Qe[o]=c,o=0;o<c.length;o++)ge.add(c[o])}var gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ht={},Dt={};function mn(o){return At.call(Dt,o)?!0:At.call(Ht,o)?!1:zt.test(o)?Dt[o]=!0:(Ht[o]=!0,!1)}function vn(o,c,m){if(mn(c))if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var y=c.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+m)}}function Zn(o,c,m){if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+m)}}function _n(o,c,m,y){if(y===null)o.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(c,m,""+y)}}function jt(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Nt(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Pi(o){var c=Nt(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),y=""+o[c];if(!o.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,O=m.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return E.call(this)},set:function(G){y=""+G,O.call(this,G)}}),Object.defineProperty(o,c,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(G){y=""+G},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function gn(o){o._valueTracker||(o._valueTracker=Pi(o))}function Pr(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var m=c.getValue(),y="";return o&&(y=Nt(o)?o.checked?"true":"false":o.value),o=y,o!==m?(c.setValue(o),!0):!1}function ya(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var br=/[\n"\\]/g;function Xi(o){return o.replace(br,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Fn(o,c,m,y,E,O,G,X){o.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?o.type=G:o.removeAttribute("type"),c!=null?G==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+jt(c)):o.value!==""+jt(c)&&(o.value=""+jt(c)):G!=="submit"&&G!=="reset"||o.removeAttribute("value"),c!=null?ar(o,G,jt(c)):m!=null?ar(o,G,jt(m)):y!=null&&o.removeAttribute("value"),E==null&&O!=null&&(o.defaultChecked=!!O),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?o.name=""+jt(X):o.removeAttribute("name")}function xr(o,c,m,y,E,O,G,X){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.type=O),c!=null||m!=null){if(!(O!=="submit"&&O!=="reset"||c!=null))return;m=m!=null?""+jt(m):"",c=c!=null?""+jt(c):m,X||c===o.value||(o.value=c),o.defaultValue=c}y=y??E,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=X?o.checked:!!y,o.defaultChecked=!!y,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(o.name=G)}function ar(o,c,m){c==="number"&&ya(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function mi(o,c,m,y){if(o=o.options,c){c={};for(var E=0;E<m.length;E++)c["$"+m[E]]=!0;for(m=0;m<o.length;m++)E=c.hasOwnProperty("$"+o[m].value),o[m].selected!==E&&(o[m].selected=E),E&&y&&(o[m].defaultSelected=!0)}else{for(m=""+jt(m),c=null,E=0;E<o.length;E++){if(o[E].value===m){o[E].selected=!0,y&&(o[E].defaultSelected=!0);return}c!==null||o[E].disabled||(c=o[E])}c!==null&&(c.selected=!0)}}function Qi(o,c,m){if(c!=null&&(c=""+jt(c),c!==o.value&&(o.value=c),m==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=m!=null?""+jt(m):""}function ss(o,c,m,y){if(c==null){if(y!=null){if(m!=null)throw Error(i(92));if(Se(y)){if(1<y.length)throw Error(i(93));y=y[0]}m=y}m==null&&(m=""),c=m}m=jt(c),o.defaultValue=m,y=o.textContent,y===m&&y!==""&&y!==null&&(o.value=y)}function Lr(o,c){if(c){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=c;return}}o.textContent=c}var Id=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lf(o,c,m){var y=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?y?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":y?o.setProperty(c,m):typeof m!="number"||m===0||Id.has(c)?c==="float"?o.cssFloat=m:o[c]=(""+m).trim():o[c]=m+"px"}function fv(o,c,m){if(c!=null&&typeof c!="object")throw Error(i(62));if(o=o.style,m!=null){for(var y in m)!m.hasOwnProperty(y)||c!=null&&c.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var E in c)y=c[E],c.hasOwnProperty(E)&&m[E]!==y&&Lf(o,E,y)}else for(var O in c)c.hasOwnProperty(O)&&Lf(o,O,c[O])}function Uf(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),U0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function If(o){return U0.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Fd=null;function Ff(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var uu=null,cu=null;function zd(o){var c=j(o);if(c&&(o=c.stateNode)){var m=o[tn]||null;e:switch(o=c.stateNode,c.type){case"input":if(Fn(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Xi(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var y=m[c];if(y!==o&&y.form===o.form){var E=y[tn]||null;if(!E)throw Error(i(90));Fn(y,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<m.length;c++)y=m[c],y.form===o.form&&Pr(y)}break e;case"textarea":Qi(o,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&mi(o,!!m.multiple,c,!1)}}}var Hd=!1;function hv(o,c,m){if(Hd)return o(c,m);Hd=!0;try{var y=o(c);return y}finally{if(Hd=!1,(uu!==null||cu!==null)&&(Du(),uu&&(c=uu,o=cu,cu=uu=null,zd(c),o)))for(c=0;c<o.length;c++)zd(o[c])}}function bc(o,c){var m=o.stateNode;if(m===null)return null;var y=m[tn]||null;if(y===null)return null;m=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(i(231,c,typeof m));return m}var zf=!1;if(gt)try{var xc={};Object.defineProperty(xc,"passive",{get:function(){zf=!0}}),window.addEventListener("test",xc,xc),window.removeEventListener("test",xc,xc)}catch{zf=!1}var oo=null,dv=null,Gd=null;function pv(){if(Gd)return Gd;var o,c=dv,m=c.length,y,E="value"in oo?oo.value:oo.textContent,O=E.length;for(o=0;o<m&&c[o]===E[o];o++);var G=m-o;for(y=1;y<=G&&c[m-y]===E[O-y];y++);return Gd=E.slice(o,1<y?1-y:void 0)}function ol(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function _c(){return!0}function Hf(){return!1}function Ur(o){function c(m,y,E,O,G){this._reactName=m,this._targetInst=E,this.type=y,this.nativeEvent=O,this.target=G,this.currentTarget=null;for(var X in o)o.hasOwnProperty(X)&&(m=o[X],this[X]=m?m(O):O[X]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?_c:Hf,this.isPropagationStopped=Hf,this}return U(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=_c)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=_c)},persist:function(){},isPersistent:_c}),c}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=Ur(ll),Sc=U({},ll,{view:0,detail:0}),I0=Ur(Sc),lo,Mc,Ec,Tc=U({},Sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kf,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ec&&(Ec&&o.type==="mousemove"?(lo=o.screenX-Ec.screenX,Mc=o.screenY-Ec.screenY):Mc=lo=0,Ec=o),lo)},movementY:function(o){return"movementY"in o?o.movementY:Mc}}),mv=Ur(Tc),F0=U({},Tc,{dataTransfer:0}),F1=Ur(F0),sr=U({},Sc,{relatedTarget:0}),kd=Ur(sr),z0=U({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),H0=Ur(z0),G0=U({},ll,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),k0=Ur(G0),Gf=U({},ll,{data:0}),Vd=Ur(Gf),V0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vv(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=q0[o])?!!c[o]:!1}function kf(){return vv}var X0=U({},Sc,{key:function(o){if(o.key){var c=V0[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=ol(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?j0[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kf,charCode:function(o){return o.type==="keypress"?ol(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ol(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),gv=Ur(X0),yv=U({},Tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jd=Ur(yv),W0=U({},Sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kf}),bv=Ur(W0),Y0=U({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),uo=Ur(Y0),xv=U({},Tc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),z1=Ur(xv),K0=U({},ll,{newState:0,oldState:0}),ul=Ur(K0),co=[9,13,27,32],Vf=gt&&"CompositionEvent"in window,fu=null;gt&&"documentMode"in document&&(fu=document.documentMode);var jf=gt&&"TextEvent"in window&&!fu,qf=gt&&(!Vf||fu&&8<fu&&11>=fu),cl=" ",or=!1;function Xf(o,c){switch(o){case"keyup":return co.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _v(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var fl=!1;function Wf(o,c){switch(o){case"compositionend":return _v(c);case"keypress":return c.which!==32?null:(or=!0,cl);case"textInput":return o=c.data,o===cl&&or?null:o;default:return null}}function Av(o,c){if(fl)return o==="compositionend"||!Vf&&Xf(o,c)?(o=pv(),Gd=dv=oo=null,fl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return qf&&c.locale!=="ko"?null:c.data;default:return null}}var qd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sv(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!qd[o.type]:c==="textarea"}function Jr(o,c,m,y){uu?cu?cu.push(y):cu=[y]:uu=y,c=Kb(c,"onChange"),0<c.length&&(m=new Ac("onChange","change",null,m,y),o.push({event:m,listeners:c}))}var wc=null,hu=null;function J0(o){HD(o,0)}function Yf(o){var c=de(o);if(Pr(c))return o}function Xd(o,c){if(o==="change")return c}var Wd=!1;if(gt){var Yd;if(gt){var Cc="oninput"in document;if(!Cc){var Rc=document.createElement("div");Rc.setAttribute("oninput","return;"),Cc=typeof Rc.oninput=="function"}Yd=Cc}else Yd=!1;Wd=Yd&&(!document.documentMode||9<document.documentMode)}function si(){wc&&(wc.detachEvent("onpropertychange",Z0),hu=wc=null)}function Z0(o){if(o.propertyName==="value"&&Yf(hu)){var c=[];Jr(c,hu,o,Ff(o)),hv(J0,c)}}function H1(o,c,m){o==="focusin"?(si(),wc=c,hu=m,wc.attachEvent("onpropertychange",Z0)):o==="focusout"&&si()}function Q0(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Yf(hu)}function Kf(o,c){if(o==="click")return Yf(c)}function hl(o,c){if(o==="input"||o==="change")return Yf(c)}function $0(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Zr=typeof Object.is=="function"?Object.is:$0;function os(o,c){if(Zr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var m=Object.keys(o),y=Object.keys(c);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var E=m[y];if(!At.call(c,E)||!Zr(o[E],c[E]))return!1}return!0}function Qr(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Mv(o,c){var m=Qr(o);o=0;for(var y;m;){if(m.nodeType===3){if(y=o+m.textContent.length,o<=c&&y>=c)return{node:m,offset:c-o};o=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Qr(m)}}function Ev(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Ev(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Tv(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=ya(o.document);c instanceof o.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)o=c.contentWindow;else break;c=ya(o.document)}return c}function Jf(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function wv(o,c){var m=Tv(c);c=o.focusedElem;var y=o.selectionRange;if(m!==c&&c&&c.ownerDocument&&Ev(c.ownerDocument.documentElement,c)){if(y!==null&&Jf(c)){if(o=y.start,m=y.end,m===void 0&&(m=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(m,c.value.length);else if(m=(o=c.ownerDocument||document)&&o.defaultView||window,m.getSelection){m=m.getSelection();var E=c.textContent.length,O=Math.min(y.start,E);y=y.end===void 0?O:Math.min(y.end,E),!m.extend&&O>y&&(E=y,y=O,O=E),E=Mv(c,O);var G=Mv(c,y);E&&G&&(m.rangeCount!==1||m.anchorNode!==E.node||m.anchorOffset!==E.offset||m.focusNode!==G.node||m.focusOffset!==G.offset)&&(o=o.createRange(),o.setStart(E.node,E.offset),m.removeAllRanges(),O>y?(m.addRange(o),m.extend(G.node,G.offset)):(o.setEnd(G.node,G.offset),m.addRange(o)))}}for(o=[],m=c;m=m.parentNode;)m.nodeType===1&&o.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)m=o[c],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var Kd=gt&&"documentMode"in document&&11>=document.documentMode,du=null,Cv=null,Oc=null,Jd=!1;function La(o,c,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Jd||du==null||du!==ya(y)||(y=du,"selectionStart"in y&&Jf(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Oc&&os(Oc,y)||(Oc=y,y=Kb(Cv,"onSelect"),0<y.length&&(c=new Ac("onSelect","select",null,c,m),o.push({event:c,listeners:y}),c.target=du)))}function fo(o,c){var m={};return m[o.toLowerCase()]=c.toLowerCase(),m["Webkit"+o]="webkit"+c,m["Moz"+o]="moz"+c,m}var pu={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionrun:fo("Transition","TransitionRun"),transitionstart:fo("Transition","TransitionStart"),transitioncancel:fo("Transition","TransitionCancel"),transitionend:fo("Transition","TransitionEnd")},Rv={},Zd={};gt&&(Zd=document.createElement("div").style,"AnimationEvent"in window||(delete pu.animationend.animation,delete pu.animationiteration.animation,delete pu.animationstart.animation),"TransitionEvent"in window||delete pu.transitionend.transition);function Li(o){if(Rv[o])return Rv[o];if(!pu[o])return o;var c=pu[o],m;for(m in c)if(c.hasOwnProperty(m)&&m in Zd)return Rv[o]=c[m];return o}var Ov=Li("animationend"),$r=Li("animationiteration"),Bv=Li("animationstart"),ho=Li("transitionrun"),Bc=Li("transitionstart"),dl=Li("transitioncancel"),Qd=Li("transitionend"),$d=new Map,po="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ua(o,c){$d.set(o,c),ot(c,[o])}var lr=[],Ds=0,mo=0;function Zf(){for(var o=Ds,c=mo=Ds=0;c<o;){var m=lr[c];lr[c++]=null;var y=lr[c];lr[c++]=null;var E=lr[c];lr[c++]=null;var O=lr[c];if(lr[c++]=null,y!==null&&E!==null){var G=y.pending;G===null?E.next=E:(E.next=G.next,G.next=E),y.pending=E}O!==0&&$f(m,E,O)}}function Qf(o,c,m,y){lr[Ds++]=o,lr[Ds++]=c,lr[Ds++]=m,lr[Ds++]=y,mo|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function mu(o,c,m,y){return Qf(o,c,m,y),eh(o)}function vo(o,c){return Qf(o,null,null,c),eh(o)}function $f(o,c,m){o.lanes|=m;var y=o.alternate;y!==null&&(y.lanes|=m);for(var E=!1,O=o.return;O!==null;)O.childLanes|=m,y=O.alternate,y!==null&&(y.childLanes|=m),O.tag===22&&(o=O.stateNode,o===null||o._visibility&1||(E=!0)),o=O,O=O.return;E&&c!==null&&o.tag===3&&(O=o.stateNode,E=31-Pe(m),O=O.hiddenUpdates,o=O[E],o===null?O[E]=[c]:o.push(c),c.lane=m|536870912)}function eh(o){if(50<Xa)throw Xa=0,Io=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var pl={},ep=new WeakMap;function ea(o,c){if(typeof o=="object"&&o!==null){var m=ep.get(o);return m!==void 0?m:(c={value:o,source:c,stack:re(c)},ep.set(o,c),c)}return{value:o,source:c,stack:re(c)}}var vu=[],ml=0,_r=null,th=0,Qn=[],ba=0,go=null,Ns=1,yo="";function Ir(o,c){vu[ml++]=th,vu[ml++]=_r,_r=o,th=c}function Dv(o,c,m){Qn[ba++]=Ns,Qn[ba++]=yo,Qn[ba++]=go,go=o;var y=Ns;o=yo;var E=32-Pe(y)-1;y&=~(1<<E),m+=1;var O=32-Pe(c)+E;if(30<O){var G=E-E%5;O=(y&(1<<G)-1).toString(32),y>>=G,E-=G,Ns=1<<32-Pe(c)+E|m<<E|y,yo=O+o}else Ns=1<<O|m<<E|y,yo=o}function nh(o){o.return!==null&&(Ir(o,1),Dv(o,1,0))}function vl(o){for(;o===_r;)_r=vu[--ml],vu[ml]=null,th=vu[--ml],vu[ml]=null;for(;o===go;)go=Qn[--ba],Qn[ba]=null,yo=Qn[--ba],Qn[ba]=null,Ns=Qn[--ba],Qn[ba]=null}var Ar=null,$i=null,Sn=!1,Ia=null,Fa=!1,ih=Error(i(519));function gu(o){var c=Error(i(418,""));throw Ps(ea(c,o)),ih}function eb(o){var c=o.stateNode,m=o.type,y=o.memoizedProps;switch(c[pi]=o,c[tn]=y,m){case"dialog":En("cancel",c),En("close",c);break;case"iframe":case"object":case"embed":En("load",c);break;case"video":case"audio":for(m=0;m<hg.length;m++)En(hg[m],c);break;case"source":En("error",c);break;case"img":case"image":case"link":En("error",c),En("load",c);break;case"details":En("toggle",c);break;case"input":En("invalid",c),xr(c,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),gn(c);break;case"select":En("invalid",c);break;case"textarea":En("invalid",c),ss(c,y.value,y.defaultValue,y.children),gn(c)}m=y.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||y.suppressHydrationWarning===!0||jD(c.textContent,m)?(y.popover!=null&&(En("beforetoggle",c),En("toggle",c)),y.onScroll!=null&&En("scroll",c),y.onScrollEnd!=null&&En("scrollend",c),y.onClick!=null&&(c.onclick=Jb),c=!0):c=!1,c||gu(o)}function tb(o){for(Ar=o.return;Ar;)switch(Ar.tag){case 3:case 27:Fa=!0;return;case 5:case 13:Fa=!1;return;default:Ar=Ar.return}}function Dc(o){if(o!==Ar)return!1;if(!Sn)return tb(o),Sn=!0,!1;var c=!1,m;if((m=o.tag!==3&&o.tag!==27)&&((m=o.tag===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||sM(o.type,o.memoizedProps)),m=!m),m&&(c=!0),c&&$i&&gu(o),tb(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(m=o.data,m==="/$"){if(c===0){$i=zo(o.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++;o=o.nextSibling}$i=null}}else $i=Ar?zo(o.stateNode.nextSibling):null;return!0}function Nc(){$i=Ar=null,Sn=!1}function Ps(o){Ia===null?Ia=[o]:Ia.push(o)}var gl=Error(i(460)),Nv=Error(i(474)),tp={then:function(){}};function nb(o){return o=o.status,o==="fulfilled"||o==="rejected"}function rh(){}function yl(o,c,m){switch(m=o[m],m===void 0?o.push(c):m!==c&&(c.then(rh,rh),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,o===gl?Error(i(483)):o;default:if(typeof c.status=="string")c.then(rh,rh);else{if(o=kn,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(y){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=y}},function(y){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=y}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,o===gl?Error(i(483)):o}throw Pc=c,gl}}var Pc=null;function Nn(){if(Pc===null)throw Error(i(459));var o=Pc;return Pc=null,o}var bl=null,ah=0;function sh(o){var c=ah;return ah+=1,bl===null&&(bl=[]),yl(bl,o,c)}function oh(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function np(o,c){throw c.$$typeof===a?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function ib(o){var c=o._init;return c(o._payload)}function rb(o){function c(be,me){if(o){var Me=be.deletions;Me===null?(be.deletions=[me],be.flags|=16):Me.push(me)}}function m(be,me){if(!o)return null;for(;me!==null;)c(be,me),me=me.sibling;return null}function y(be){for(var me=new Map;be!==null;)be.key!==null?me.set(be.key,be):me.set(be.index,be),be=be.sibling;return me}function E(be,me){return be=Gr(be,me),be.index=0,be.sibling=null,be}function O(be,me,Me){return be.index=Me,o?(Me=be.alternate,Me!==null?(Me=Me.index,Me<me?(be.flags|=33554434,me):Me):(be.flags|=33554434,me)):(be.flags|=1048576,me)}function G(be){return o&&be.alternate===null&&(be.flags|=33554434),be}function X(be,me,Me,Ke){return me===null||me.tag!==6?(me=zi(Me,be.mode,Ke),me.return=be,me):(me=E(me,Me),me.return=be,me)}function ae(be,me,Me,Ke){var wt=Me.type;return wt===u?je(be,me,Me.props.children,Ke,Me.key):me!==null&&(me.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===w&&ib(wt)===me.type)?(me=E(me,Me.props),oh(me,Me),me.return=be,me):(me=Kc(Me.type,Me.key,Me.props,null,be.mode,Ke),oh(me,Me),me.return=be,me)}function ve(be,me,Me,Ke){return me===null||me.tag!==4||me.stateNode.containerInfo!==Me.containerInfo||me.stateNode.implementation!==Me.implementation?(me=bh(Me,be.mode,Ke),me.return=be,me):(me=E(me,Me.children||[]),me.return=be,me)}function je(be,me,Me,Ke,wt){return me===null||me.tag!==7?(me=Fl(Me,be.mode,Ke,wt),me.return=be,me):(me=E(me,Me),me.return=be,me)}function $e(be,me,Me){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=zi(""+me,be.mode,Me),me.return=be,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case s:return Me=Kc(me.type,me.key,me.props,null,be.mode,Me),oh(Me,me),Me.return=be,Me;case l:return me=bh(me,be.mode,Me),me.return=be,me;case w:var Ke=me._init;return me=Ke(me._payload),$e(be,me,Me)}if(Se(me)||N(me))return me=Fl(me,be.mode,Me,null),me.return=be,me;if(typeof me.then=="function")return $e(be,sh(me),Me);if(me.$$typeof===b)return $e(be,bp(be,me),Me);np(be,me)}return null}function Re(be,me,Me,Ke){var wt=me!==null?me.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return wt!==null?null:X(be,me,""+Me,Ke);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case s:return Me.key===wt?ae(be,me,Me,Ke):null;case l:return Me.key===wt?ve(be,me,Me,Ke):null;case w:return wt=Me._init,Me=wt(Me._payload),Re(be,me,Me,Ke)}if(Se(Me)||N(Me))return wt!==null?null:je(be,me,Me,Ke,null);if(typeof Me.then=="function")return Re(be,me,sh(Me),Ke);if(Me.$$typeof===b)return Re(be,me,bp(be,Me),Ke);np(be,Me)}return null}function Fe(be,me,Me,Ke,wt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return be=be.get(Me)||null,X(me,be,""+Ke,wt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case s:return be=be.get(Ke.key===null?Me:Ke.key)||null,ae(me,be,Ke,wt);case l:return be=be.get(Ke.key===null?Me:Ke.key)||null,ve(me,be,Ke,wt);case w:var bn=Ke._init;return Ke=bn(Ke._payload),Fe(be,me,Me,Ke,wt)}if(Se(Ke)||N(Ke))return be=be.get(Me)||null,je(me,be,Ke,wt,null);if(typeof Ke.then=="function")return Fe(be,me,Me,sh(Ke),wt);if(Ke.$$typeof===b)return Fe(be,me,Me,bp(me,Ke),wt);np(me,Ke)}return null}function Bt(be,me,Me,Ke){for(var wt=null,bn=null,Pt=me,kt=me=0,Rr=null;Pt!==null&&kt<Me.length;kt++){Pt.index>kt?(Rr=Pt,Pt=null):Rr=Pt.sibling;var Pn=Re(be,Pt,Me[kt],Ke);if(Pn===null){Pt===null&&(Pt=Rr);break}o&&Pt&&Pn.alternate===null&&c(be,Pt),me=O(Pn,me,kt),bn===null?wt=Pn:bn.sibling=Pn,bn=Pn,Pt=Rr}if(kt===Me.length)return m(be,Pt),Sn&&Ir(be,kt),wt;if(Pt===null){for(;kt<Me.length;kt++)Pt=$e(be,Me[kt],Ke),Pt!==null&&(me=O(Pt,me,kt),bn===null?wt=Pt:bn.sibling=Pt,bn=Pt);return Sn&&Ir(be,kt),wt}for(Pt=y(Pt);kt<Me.length;kt++)Rr=Fe(Pt,be,kt,Me[kt],Ke),Rr!==null&&(o&&Rr.alternate!==null&&Pt.delete(Rr.key===null?kt:Rr.key),me=O(Rr,me,kt),bn===null?wt=Rr:bn.sibling=Rr,bn=Rr);return o&&Pt.forEach(function(af){return c(be,af)}),Sn&&Ir(be,kt),wt}function Yt(be,me,Me,Ke){if(Me==null)throw Error(i(151));for(var wt=null,bn=null,Pt=me,kt=me=0,Rr=null,Pn=Me.next();Pt!==null&&!Pn.done;kt++,Pn=Me.next()){Pt.index>kt?(Rr=Pt,Pt=null):Rr=Pt.sibling;var af=Re(be,Pt,Pn.value,Ke);if(af===null){Pt===null&&(Pt=Rr);break}o&&Pt&&af.alternate===null&&c(be,Pt),me=O(af,me,kt),bn===null?wt=af:bn.sibling=af,bn=af,Pt=Rr}if(Pn.done)return m(be,Pt),Sn&&Ir(be,kt),wt;if(Pt===null){for(;!Pn.done;kt++,Pn=Me.next())Pn=$e(be,Pn.value,Ke),Pn!==null&&(me=O(Pn,me,kt),bn===null?wt=Pn:bn.sibling=Pn,bn=Pn);return Sn&&Ir(be,kt),wt}for(Pt=y(Pt);!Pn.done;kt++,Pn=Me.next())Pn=Fe(Pt,be,kt,Pn.value,Ke),Pn!==null&&(o&&Pn.alternate!==null&&Pt.delete(Pn.key===null?kt:Pn.key),me=O(Pn,me,kt),bn===null?wt=Pn:bn.sibling=Pn,bn=Pn);return o&&Pt.forEach(function(lV){return c(be,lV)}),Sn&&Ir(be,kt),wt}function ki(be,me,Me,Ke){if(typeof Me=="object"&&Me!==null&&Me.type===u&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case s:e:{for(var wt=Me.key;me!==null;){if(me.key===wt){if(wt=Me.type,wt===u){if(me.tag===7){m(be,me.sibling),Ke=E(me,Me.props.children),Ke.return=be,be=Ke;break e}}else if(me.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===w&&ib(wt)===me.type){m(be,me.sibling),Ke=E(me,Me.props),oh(Ke,Me),Ke.return=be,be=Ke;break e}m(be,me);break}else c(be,me);me=me.sibling}Me.type===u?(Ke=Fl(Me.props.children,be.mode,Ke,Me.key),Ke.return=be,be=Ke):(Ke=Kc(Me.type,Me.key,Me.props,null,be.mode,Ke),oh(Ke,Me),Ke.return=be,be=Ke)}return G(be);case l:e:{for(wt=Me.key;me!==null;){if(me.key===wt)if(me.tag===4&&me.stateNode.containerInfo===Me.containerInfo&&me.stateNode.implementation===Me.implementation){m(be,me.sibling),Ke=E(me,Me.children||[]),Ke.return=be,be=Ke;break e}else{m(be,me);break}else c(be,me);me=me.sibling}Ke=bh(Me,be.mode,Ke),Ke.return=be,be=Ke}return G(be);case w:return wt=Me._init,Me=wt(Me._payload),ki(be,me,Me,Ke)}if(Se(Me))return Bt(be,me,Me,Ke);if(N(Me)){if(wt=N(Me),typeof wt!="function")throw Error(i(150));return Me=wt.call(Me),Yt(be,me,Me,Ke)}if(typeof Me.then=="function")return ki(be,me,sh(Me),Ke);if(Me.$$typeof===b)return ki(be,me,bp(be,Me),Ke);np(be,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,me!==null&&me.tag===6?(m(be,me.sibling),Ke=E(me,Me),Ke.return=be,be=Ke):(m(be,me),Ke=zi(Me,be.mode,Ke),Ke.return=be,be=Ke),G(be)):m(be,me)}return function(be,me,Me,Ke){try{ah=0;var wt=ki(be,me,Me,Ke);return bl=null,wt}catch(Pt){if(Pt===gl)throw Pt;var bn=Oi(29,Pt,null,be.mode);return bn.lanes=Ke,bn.return=be,bn}finally{}}}var bo=rb(!0),xo=rb(!1),yu=qe(null),bu=qe(0);function xl(o,c){o=Uo,De(bu,o),De(yu,c),Uo=o|c.baseLanes}function ip(){De(bu,Uo),De(yu,yu.current)}function lh(){Uo=bu.current,Le(yu),Le(bu)}var ta=qe(null),Ls=null;function _o(o){var c=o.alternate;De(Ui,Ui.current&1),De(ta,o),Ls===null&&(c===null||yu.current!==null||c.memoizedState!==null)&&(Ls=o)}function Pv(o){if(o.tag===22){if(De(Ui,Ui.current),De(ta,o),Ls===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Ls=o)}}else Ao()}function Ao(){De(Ui,Ui.current),De(ta,ta.current)}function Us(o){Le(ta),Ls===o&&(Ls=null),Le(Ui)}var Ui=qe(0);function Lc(o){for(var c=o;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var cn=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(m,y){o.push(y)}};this.abort=function(){c.aborted=!0,o.forEach(function(m){return m()})}},G1=n.unstable_scheduleCallback,xa=n.unstable_NormalPriority,Mi={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lv(){return{controller:new cn,data:new Map,refCount:0}}function _l(o){o.refCount--,o.refCount===0&&G1(xa,function(){o.controller.abort()})}var Is=null,Al=0,xu=0,Sl=null;function k1(o,c){if(Is===null){var m=Is=[];Al=0,xu=Z1(),Sl={status:"pending",value:void 0,then:function(y){m.push(y)}}}return Al++,c.then(Uv,Uv),c}function Uv(){if(--Al===0&&Is!==null){Sl!==null&&(Sl.status="fulfilled");var o=Is;Is=null,xu=0,Sl=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function Ml(o,c){var m=[],y={status:"pending",value:null,reason:null,then:function(E){m.push(E)}};return o.then(function(){y.status="fulfilled",y.value=c;for(var E=0;E<m.length;E++)(0,m[E])(c)},function(E){for(y.status="rejected",y.reason=E,E=0;E<m.length;E++)(0,m[E])(void 0)}),y}var rp=P.S;P.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&k1(o,c),rp!==null&&rp(o,c)};var So=qe(null);function uh(){var o=So.current;return o!==null?o:kn.pooledCache}function Uc(o,c){c===null?De(So,So.current):De(So,c.pool)}function Mo(){var o=uh();return o===null?null:{parent:Mi._currentValue,pool:o}}var Eo=0,nn=null,zn=null,Ii=null,Gt=!1,El=!1,Tl=!1,Ic=0,wl=0,Fc=null,V1=0;function vi(){throw Error(i(321))}function _u(o,c){if(c===null)return!1;for(var m=0;m<c.length&&m<o.length;m++)if(!Zr(o[m],c[m]))return!1;return!0}function Iv(o,c,m,y,E,O){return Eo=O,nn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,P.H=o===null||o.memoizedState===null?Rl:wo,Tl=!1,O=m(y,E),Tl=!1,El&&(O=sb(c,m,y,E)),ab(o),O}function ab(o){P.H=zs;var c=zn!==null&&zn.next!==null;if(Eo=0,Ii=zn=nn=null,Gt=!1,wl=0,Fc=null,c)throw Error(i(300));o===null||Wi||(o=o.dependencies,o!==null&&Vc(o)&&(Wi=!0))}function sb(o,c,m,y){nn=o;var E=0;do{if(El&&(Fc=null),wl=0,El=!1,25<=E)throw Error(i(301));if(E+=1,Ii=zn=null,o.updateQueue!=null){var O=o.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}P.H=Mu,O=c(m,y)}while(El);return O}function j1(){var o=P.H,c=o.useState()[0];return c=typeof c.then=="function"?fh(c):c,o=o.useState()[0],(zn!==null?zn.memoizedState:null)!==o&&(nn.flags|=1024),c}function Fv(){var o=Ic!==0;return Ic=0,o}function ch(o,c,m){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~m}function ap(o){if(Gt){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Gt=!1}Eo=0,Ii=zn=nn=null,El=!1,wl=Ic=0,Fc=null}function ur(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ii===null?nn.memoizedState=Ii=o:Ii=Ii.next=o,Ii}function Ei(){if(zn===null){var o=nn.alternate;o=o!==null?o.memoizedState:null}else o=zn.next;var c=Ii===null?nn.memoizedState:Ii.next;if(c!==null)Ii=c,zn=o;else{if(o===null)throw nn.alternate===null?Error(i(467)):Error(i(310));zn=o,o={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Ii===null?nn.memoizedState=Ii=o:Ii=Ii.next=o}return Ii}var sp;sp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function fh(o){var c=wl;return wl+=1,Fc===null&&(Fc=[]),o=yl(Fc,o,c),c=nn,(Ii===null?c.memoizedState:Ii.next)===null&&(c=c.alternate,P.H=c===null||c.memoizedState===null?Rl:wo),o}function zc(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return fh(o);if(o.$$typeof===b)return Sr(o)}throw Error(i(438,String(o)))}function ls(o){var c=null,m=nn.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var y=nn.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(c={data:y.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=sp(),nn.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(o),y=0;y<o;y++)m[y]=R;return c.index++,m}function oi(o,c){return typeof c=="function"?c(o):c}function us(o){var c=Ei();return na(c,zn,o)}function na(o,c,m){var y=o.queue;if(y===null)throw Error(i(311));y.lastRenderedReducer=m;var E=o.baseQueue,O=y.pending;if(O!==null){if(E!==null){var G=E.next;E.next=O.next,O.next=G}c.baseQueue=E=O,y.pending=null}if(O=o.baseState,E===null)o.memoizedState=O;else{c=E.next;var X=G=null,ae=null,ve=c,je=!1;do{var $e=ve.lane&-536870913;if($e!==ve.lane?(Ut&$e)===$e:(Eo&$e)===$e){var Re=ve.revertLane;if(Re===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),$e===xu&&(je=!0);else if((Eo&Re)===Re){ve=ve.next,Re===xu&&(je=!0);continue}else $e={lane:0,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},ae===null?(X=ae=$e,G=O):ae=ae.next=$e,nn.lanes|=Re,vs|=Re;$e=ve.action,Tl&&m(O,$e),O=ve.hasEagerState?ve.eagerState:m(O,$e)}else Re={lane:$e,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},ae===null?(X=ae=Re,G=O):ae=ae.next=Re,nn.lanes|=$e,vs|=$e;ve=ve.next}while(ve!==null&&ve!==c);if(ae===null?G=O:ae.next=X,!Zr(O,o.memoizedState)&&(Wi=!0,je&&(m=Sl,m!==null)))throw m;o.memoizedState=O,o.baseState=G,o.baseQueue=ae,y.lastRenderedState=O}return E===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function op(o){var c=Ei(),m=c.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=o;var y=m.dispatch,E=m.pending,O=c.memoizedState;if(E!==null){m.pending=null;var G=E=E.next;do O=o(O,G.action),G=G.next;while(G!==E);Zr(O,c.memoizedState)||(Wi=!0),c.memoizedState=O,c.baseQueue===null&&(c.baseState=O),m.lastRenderedState=O}return[O,y]}function ob(o,c,m){var y=nn,E=Ei(),O=Sn;if(O){if(m===void 0)throw Error(i(407));m=m()}else m=c();var G=!Zr((zn||E).memoizedState,m);if(G&&(E.memoizedState=m,Wi=!0),E=E.queue,kv(lb.bind(null,y,E,o),[o]),E.getSnapshot!==c||G||Ii!==null&&Ii.memoizedState.tag&1){if(y.flags|=2048,Fs(9,Cl.bind(null,y,E,m,c),{destroy:void 0},null),kn===null)throw Error(i(349));O||(Eo&60)!==0||Fr(y,c,m)}return m}function Fr(o,c,m){o.flags|=16384,o={getSnapshot:c,value:m},c=nn.updateQueue,c===null?(c=sp(),nn.updateQueue=c,c.stores=[o]):(m=c.stores,m===null?c.stores=[o]:m.push(o))}function Cl(o,c,m,y){c.value=m,c.getSnapshot=y,ub(c)&&cb(o)}function lb(o,c,m){return m(function(){ub(c)&&cb(o)})}function ub(o){var c=o.getSnapshot;o=o.value;try{var m=c();return!Zr(o,m)}catch{return!0}}function cb(o){var c=vo(o,2);c!==null&&Gi(c,o,2)}function zv(o){var c=ur();if(typeof o=="function"){var m=o;if(o=m(),Tl){ce(!0);try{m()}finally{ce(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:o},c}function Hv(o,c,m,y){return o.baseState=m,na(o,zn,typeof y=="function"?y:oi)}function q1(o,c,m,y,E){if(hp(o))throw Error(i(485));if(o=c.action,o!==null){var O={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){O.listeners.push(G)}};P.T!==null?m(!0):O.isTransition=!1,y(O),m=c.pending,m===null?(O.next=c.pending=O,Gv(c,O)):(O.next=m.next,c.pending=m.next=O)}}function Gv(o,c){var m=c.action,y=c.payload,E=o.state;if(c.isTransition){var O=P.T,G={};P.T=G;try{var X=m(E,y),ae=P.S;ae!==null&&ae(G,X),fb(o,c,X)}catch(ve){To(o,c,ve)}finally{P.T=O}}else try{O=m(E,y),fb(o,c,O)}catch(ve){To(o,c,ve)}}function fb(o,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(y){Au(o,c,y)},function(y){return To(o,c,y)}):Au(o,c,m)}function Au(o,c,m){c.status="fulfilled",c.value=m,hb(c),o.state=m,c=o.pending,c!==null&&(m=c.next,m===c?o.pending=null:(m=m.next,c.next=m,Gv(o,m)))}function To(o,c,m){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do c.status="rejected",c.reason=m,hb(c),c=c.next;while(c!==y)}o.action=null}function hb(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function db(o,c){return c}function pb(o,c){if(Sn){var m=kn.formState;if(m!==null){e:{var y=nn;if(Sn){if($i){t:{for(var E=$i,O=Fa;E.nodeType!==8;){if(!O){E=null;break t}if(E=zo(E.nextSibling),E===null){E=null;break t}}O=E.data,E=O==="F!"||O==="F"?E:null}if(E){$i=zo(E.nextSibling),y=E.data==="F!";break e}}gu(y)}y=!1}y&&(c=m[0])}}return m=ur(),m.memoizedState=m.baseState=c,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:db,lastRenderedState:c},m.queue=y,m=Xv.bind(null,nn,y),y.dispatch=m,y=zv(!1),O=hh.bind(null,nn,!1,y.queue),y=ur(),E={state:c,dispatch:null,action:o,pending:null},y.queue=E,m=q1.bind(null,nn,E,O,m),E.dispatch=m,y.memoizedState=o,[c,m,!1]}function Hc(o){var c=Ei();return mb(c,zn,o)}function mb(o,c,m){c=na(o,c,db)[0],o=us(oi)[0],c=typeof c=="object"&&c!==null&&typeof c.then=="function"?fh(c):c;var y=Ei(),E=y.queue,O=E.dispatch;return m!==y.memoizedState&&(nn.flags|=2048,Fs(9,X1.bind(null,E,m),{destroy:void 0},null)),[c,O,o]}function X1(o,c){o.action=c}function vb(o){var c=Ei(),m=zn;if(m!==null)return mb(c,m,o);Ei(),c=c.memoizedState,m=Ei();var y=m.queue.dispatch;return m.memoizedState=o,[c,y,!1]}function Fs(o,c,m,y){return o={tag:o,create:c,inst:m,deps:y,next:null},c=nn.updateQueue,c===null&&(c=sp(),nn.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=o.next=o:(y=m.next,m.next=o,o.next=y,c.lastEffect=o),o}function gb(){return Ei().memoizedState}function lp(o,c,m,y){var E=ur();nn.flags|=o,E.memoizedState=Fs(1|c,m,{destroy:void 0},y===void 0?null:y)}function up(o,c,m,y){var E=Ei();y=y===void 0?null:y;var O=E.memoizedState.inst;zn!==null&&y!==null&&_u(y,zn.memoizedState.deps)?E.memoizedState=Fs(c,m,O,y):(nn.flags|=o,E.memoizedState=Fs(1|c,m,O,y))}function yb(o,c){lp(8390656,8,o,c)}function kv(o,c){up(2048,8,o,c)}function bb(o,c){return up(4,2,o,c)}function xb(o,c){return up(4,4,o,c)}function _b(o,c){if(typeof c=="function"){o=o();var m=c(o);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Ab(o,c,m){m=m!=null?m.concat([o]):null,up(4,4,_b.bind(null,c,o),m)}function Vv(){}function Sb(o,c){var m=Ei();c=c===void 0?null:c;var y=m.memoizedState;return c!==null&&_u(c,y[1])?y[0]:(m.memoizedState=[o,c],o)}function Mb(o,c){var m=Ei();c=c===void 0?null:c;var y=m.memoizedState;if(c!==null&&_u(c,y[1]))return y[0];if(y=o(),Tl){ce(!0);try{o()}finally{ce(!1)}}return m.memoizedState=[y,c],y}function cp(o,c,m){return m===void 0||(Eo&1073741824)!==0?o.memoizedState=c:(o.memoizedState=m,o=Ea(),nn.lanes|=o,vs|=o,m)}function Eb(o,c,m,y){return Zr(m,c)?m:yu.current!==null?(o=cp(o,m,y),Zr(o,c)||(Wi=!0),o):(Eo&42)===0?(Wi=!0,o.memoizedState=m):(o=Ea(),nn.lanes|=o,vs|=o,c)}function Tb(o,c,m,y,E){var O=oe.p;oe.p=O!==0&&8>O?O:8;var G=P.T,X={};P.T=X,hh(o,!1,c,m);try{var ae=E(),ve=P.S;if(ve!==null&&ve(X,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var je=Ml(ae,y);Su(o,c,je,Vr(o))}else Su(o,c,y,Vr(o))}catch($e){Su(o,c,{then:function(){},status:"rejected",reason:$e},Vr())}finally{oe.p=O,P.T=G}}function W1(){}function jv(o,c,m,y){if(o.tag!==5)throw Error(i(476));var E=wb(o).queue;Tb(o,E,c,Te,m===null?W1:function(){return Cb(o),m(y)})}function wb(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:Te},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:m},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Cb(o){var c=wb(o).next.queue;Su(o,c,{},Vr())}function fp(){return Sr(gg)}function qv(){return Ei().memoizedState}function Rb(){return Ei().memoizedState}function Ob(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var m=Vr();o=Sa(m);var y=Ma(c,o,m);y!==null&&(Gi(y,c,m),Dl(y,c,m)),c={cache:Lv()},o.payload=c;return}c=c.return}}function Bb(o,c,m){var y=Vr();m={lane:y,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},hp(o)?Db(c,m):(m=mu(o,c,m,y),m!==null&&(Gi(m,o,y),Nb(m,c,y)))}function Xv(o,c,m){var y=Vr();Su(o,c,m,y)}function Su(o,c,m,y){var E={lane:y,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(hp(o))Db(c,E);else{var O=o.alternate;if(o.lanes===0&&(O===null||O.lanes===0)&&(O=c.lastRenderedReducer,O!==null))try{var G=c.lastRenderedState,X=O(G,m);if(E.hasEagerState=!0,E.eagerState=X,Zr(X,G))return Qf(o,c,E,0),kn===null&&Zf(),!1}catch{}finally{}if(m=mu(o,c,E,y),m!==null)return Gi(m,o,y),Nb(m,c,y),!0}return!1}function hh(o,c,m,y){if(y={lane:2,revertLane:Z1(),action:y,hasEagerState:!1,eagerState:null,next:null},hp(o)){if(c)throw Error(i(479))}else c=mu(o,m,y,2),c!==null&&Gi(c,o,2)}function hp(o){var c=o.alternate;return o===nn||c!==null&&c===nn}function Db(o,c){El=Gt=!0;var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}function Nb(o,c,m){if((m&4194176)!==0){var y=c.lanes;y&=o.pendingLanes,m|=y,c.lanes=m,Pa(o,m)}}var zs={readContext:Sr,use:zc,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useLayoutEffect:vi,useInsertionEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useSyncExternalStore:vi,useId:vi};zs.useCacheRefresh=vi,zs.useMemoCache=vi,zs.useHostTransitionStatus=vi,zs.useFormState=vi,zs.useActionState=vi,zs.useOptimistic=vi;var Rl={readContext:Sr,use:zc,useCallback:function(o,c){return ur().memoizedState=[o,c===void 0?null:c],o},useContext:Sr,useEffect:yb,useImperativeHandle:function(o,c,m){m=m!=null?m.concat([o]):null,lp(4194308,4,_b.bind(null,c,o),m)},useLayoutEffect:function(o,c){return lp(4194308,4,o,c)},useInsertionEffect:function(o,c){lp(4,2,o,c)},useMemo:function(o,c){var m=ur();c=c===void 0?null:c;var y=o();if(Tl){ce(!0);try{o()}finally{ce(!1)}}return m.memoizedState=[y,c],y},useReducer:function(o,c,m){var y=ur();if(m!==void 0){var E=m(c);if(Tl){ce(!0);try{m(c)}finally{ce(!1)}}}else E=c;return y.memoizedState=y.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},y.queue=o,o=o.dispatch=Bb.bind(null,nn,o),[y.memoizedState,o]},useRef:function(o){var c=ur();return o={current:o},c.memoizedState=o},useState:function(o){o=zv(o);var c=o.queue,m=Xv.bind(null,nn,c);return c.dispatch=m,[o.memoizedState,m]},useDebugValue:Vv,useDeferredValue:function(o,c){var m=ur();return cp(m,o,c)},useTransition:function(){var o=zv(!1);return o=Tb.bind(null,nn,o.queue,!0,!1),ur().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,m){var y=nn,E=ur();if(Sn){if(m===void 0)throw Error(i(407));m=m()}else{if(m=c(),kn===null)throw Error(i(349));(Ut&60)!==0||Fr(y,c,m)}E.memoizedState=m;var O={value:m,getSnapshot:c};return E.queue=O,yb(lb.bind(null,y,O,o),[o]),y.flags|=2048,Fs(9,Cl.bind(null,y,O,m,c),{destroy:void 0},null),m},useId:function(){var o=ur(),c=kn.identifierPrefix;if(Sn){var m=yo,y=Ns;m=(y&~(1<<32-Pe(y)-1)).toString(32)+m,c=":"+c+"R"+m,m=Ic++,0<m&&(c+="H"+m.toString(32)),c+=":"}else m=V1++,c=":"+c+"r"+m.toString(32)+":";return o.memoizedState=c},useCacheRefresh:function(){return ur().memoizedState=Ob.bind(null,nn)}};Rl.useMemoCache=ls,Rl.useHostTransitionStatus=fp,Rl.useFormState=pb,Rl.useActionState=pb,Rl.useOptimistic=function(o){var c=ur();c.memoizedState=c.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=hh.bind(null,nn,!0,m),m.dispatch=c,[o,c]};var wo={readContext:Sr,use:zc,useCallback:Sb,useContext:Sr,useEffect:kv,useImperativeHandle:Ab,useInsertionEffect:bb,useLayoutEffect:xb,useMemo:Mb,useReducer:us,useRef:gb,useState:function(){return us(oi)},useDebugValue:Vv,useDeferredValue:function(o,c){var m=Ei();return Eb(m,zn.memoizedState,o,c)},useTransition:function(){var o=us(oi)[0],c=Ei().memoizedState;return[typeof o=="boolean"?o:fh(o),c]},useSyncExternalStore:ob,useId:qv};wo.useCacheRefresh=Rb,wo.useMemoCache=ls,wo.useHostTransitionStatus=fp,wo.useFormState=Hc,wo.useActionState=Hc,wo.useOptimistic=function(o,c){var m=Ei();return Hv(m,zn,o,c)};var Mu={readContext:Sr,use:zc,useCallback:Sb,useContext:Sr,useEffect:kv,useImperativeHandle:Ab,useInsertionEffect:bb,useLayoutEffect:xb,useMemo:Mb,useReducer:op,useRef:gb,useState:function(){return op(oi)},useDebugValue:Vv,useDeferredValue:function(o,c){var m=Ei();return zn===null?cp(m,o,c):Eb(m,zn.memoizedState,o,c)},useTransition:function(){var o=op(oi)[0],c=Ei().memoizedState;return[typeof o=="boolean"?o:fh(o),c]},useSyncExternalStore:ob,useId:qv};Mu.useCacheRefresh=Rb,Mu.useMemoCache=ls,Mu.useHostTransitionStatus=fp,Mu.useFormState=vb,Mu.useActionState=vb,Mu.useOptimistic=function(o,c){var m=Ei();return zn!==null?Hv(m,zn,o,c):(m.baseState=o,[o,m.queue.dispatch])};function Wv(o,c,m,y){c=o.memoizedState,m=m(y,c),m=m==null?c:U({},c,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var Yv={isMounted:function(o){return(o=o._reactInternals)?ie(o)===o:!1},enqueueSetState:function(o,c,m){o=o._reactInternals;var y=Vr(),E=Sa(y);E.payload=c,m!=null&&(E.callback=m),c=Ma(o,E,y),c!==null&&(Gi(c,o,y),Dl(c,o,y))},enqueueReplaceState:function(o,c,m){o=o._reactInternals;var y=Vr(),E=Sa(y);E.tag=1,E.payload=c,m!=null&&(E.callback=m),c=Ma(o,E,y),c!==null&&(Gi(c,o,y),Dl(c,o,y))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var m=Vr(),y=Sa(m);y.tag=2,c!=null&&(y.callback=c),c=Ma(o,y,m),c!==null&&(Gi(c,o,m),Dl(c,o,m))}};function Pb(o,c,m,y,E,O,G){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,O,G):c.prototype&&c.prototype.isPureReactComponent?!os(m,y)||!os(E,O):!0}function Lb(o,c,m,y){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,y),c.state!==o&&Yv.enqueueReplaceState(c,c.state,null)}function Eu(o,c){var m=c;if("ref"in c){m={};for(var y in c)y!=="ref"&&(m[y]=c[y])}if(o=o.defaultProps){m===c&&(m=U({},m));for(var E in o)m[E]===void 0&&(m[E]=o[E])}return m}var dp=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Ub(o){dp(o)}function Ib(o){console.error(o)}function Fb(o){dp(o)}function pp(o,c){try{var m=o.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(y){setTimeout(function(){throw y})}}function zb(o,c,m){try{var y=o.onCaughtError;y(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function Kv(o,c,m){return m=Sa(m),m.tag=3,m.payload={element:null},m.callback=function(){pp(o,c)},m}function Jv(o){return o=Sa(o),o.tag=3,o}function Hb(o,c,m,y){var E=m.type.getDerivedStateFromError;if(typeof E=="function"){var O=y.value;o.payload=function(){return E(O)},o.callback=function(){zb(c,m,y)}}var G=m.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(o.callback=function(){zb(c,m,y),typeof E!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var X=y.stack;this.componentDidCatch(y.value,{componentStack:X!==null?X:""})})}function Y1(o,c,m,y,E){if(m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(c=m.alternate,c!==null&&ph(c,m,E,!0),m=ta.current,m!==null){switch(m.tag){case 13:return Ls===null?Ah():m.alternate===null&&ri===0&&(ri=3),m.flags&=-257,m.flags|=65536,m.lanes=E,y===tp?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([y]):c.add(y),Wt(o,y,E)),!1;case 22:return m.flags|=65536,y===tp?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([y])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([y]):m.add(y)),Wt(o,y,E)),!1}throw Error(i(435,m.tag))}return Wt(o,y,E),Ah(),!1}if(Sn)return c=ta.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,y!==ih&&(o=Error(i(422),{cause:y}),Ps(ea(o,m)))):(y!==ih&&(c=Error(i(423),{cause:y}),Ps(ea(c,m))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,y=ea(y,m),E=Kv(o.stateNode,y,E),qc(o,E),ri!==4&&(ri=2)),!1;var O=Error(i(520),{cause:y});if(O=ea(O,m),_h===null?_h=[O]:_h.push(O),ri!==4&&(ri=2),c===null)return!0;y=ea(y,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,o=E&-E,m.lanes|=o,o=Kv(m.stateNode,y,o),qc(m,o),!1;case 1:if(c=m.type,O=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Hi===null||!Hi.has(O))))return m.flags|=65536,E&=-E,m.lanes|=E,E=Jv(E),Hb(E,o,m,y),qc(m,E),!1}m=m.return}while(m!==null);return!1}var _a=Error(i(461)),Wi=!1;function Yi(o,c,m,y){c.child=o===null?xo(c,null,m,y):bo(c,o.child,m,y)}function Zv(o,c,m,y,E){m=m.render;var O=c.ref;if("ref"in y){var G={};for(var X in y)X!=="ref"&&(G[X]=y[X])}else G=y;return wu(c),y=Iv(o,c,m,G,O,E),X=Fv(),o!==null&&!Wi?(ch(o,c,E),Ti(o,c,E)):(Sn&&X&&nh(c),c.flags|=1,Yi(o,c,y,E),c.child)}function Qv(o,c,m,y,E){if(o===null){var O=m.type;return typeof O=="function"&&!Po(O)&&O.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=O,$v(o,c,O,y,E)):(o=Kc(m.type,null,y,c,c.mode,E),o.ref=c.ref,o.return=c,c.child=o)}if(O=o.child,!sg(o,E)){var G=O.memoizedProps;if(m=m.compare,m=m!==null?m:os,m(G,y)&&o.ref===c.ref)return Ti(o,c,E)}return c.flags|=1,o=Gr(O,y),o.ref=c.ref,o.return=c,c.child=o}function $v(o,c,m,y,E){if(o!==null){var O=o.memoizedProps;if(os(O,y)&&o.ref===c.ref)if(Wi=!1,c.pendingProps=y=O,sg(o,E))(o.flags&131072)!==0&&(Wi=!0);else return c.lanes=o.lanes,Ti(o,c,E)}return tg(o,c,m,y,E)}function Gb(o,c,m){var y=c.pendingProps,E=y.children,O=(c.stateNode._pendingVisibility&2)!==0,G=o!==null?o.memoizedState:null;if(Gc(o,c),y.mode==="hidden"||O){if((c.flags&128)!==0){if(y=G!==null?G.baseLanes|m:m,o!==null){for(E=c.child=o.child,O=0;E!==null;)O=O|E.lanes|E.childLanes,E=E.sibling;c.childLanes=O&~y}else c.childLanes=0,c.child=null;return eg(o,c,y,m)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Uc(c,G!==null?G.cachePool:null),G!==null?xl(c,G):ip(),Pv(c);else return c.lanes=c.childLanes=536870912,eg(o,c,G!==null?G.baseLanes|m:m,m)}else G!==null?(Uc(c,G.cachePool),xl(c,G),Ao(),c.memoizedState=null):(o!==null&&Uc(c,null),ip(),Ao());return Yi(o,c,E,m),c.child}function eg(o,c,m,y){var E=uh();return E=E===null?null:{parent:Mi._currentValue,pool:E},c.memoizedState={baseLanes:m,cachePool:E},o!==null&&Uc(c,null),ip(),Pv(c),o!==null&&ph(o,c,y,!0),null}function Gc(o,c){var m=c.ref;if(m===null)o!==null&&o.ref!==null&&(c.flags|=2097664);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(o===null||o.ref!==m)&&(c.flags|=2097664)}}function tg(o,c,m,y,E){return wu(c),m=Iv(o,c,m,y,void 0,E),y=Fv(),o!==null&&!Wi?(ch(o,c,E),Ti(o,c,E)):(Sn&&y&&nh(c),c.flags|=1,Yi(o,c,m,E),c.child)}function kb(o,c,m,y,E,O){return wu(c),c.updateQueue=null,m=sb(c,y,m,E),ab(o),y=Fv(),o!==null&&!Wi?(ch(o,c,O),Ti(o,c,O)):(Sn&&y&&nh(c),c.flags|=1,Yi(o,c,m,O),c.child)}function Vb(o,c,m,y,E){if(wu(c),c.stateNode===null){var O=pl,G=m.contextType;typeof G=="object"&&G!==null&&(O=Sr(G)),O=new m(y,O),c.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Yv,c.stateNode=O,O._reactInternals=c,O=c.stateNode,O.props=y,O.state=c.memoizedState,O.refs={},zr(c),G=m.contextType,O.context=typeof G=="object"&&G!==null?Sr(G):pl,O.state=c.memoizedState,G=m.getDerivedStateFromProps,typeof G=="function"&&(Wv(c,m,G,y),O.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(G=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),G!==O.state&&Yv.enqueueReplaceState(O,O.state,null),fs(c,y,O,E),Mr(),O.state=c.memoizedState),typeof O.componentDidMount=="function"&&(c.flags|=4194308),y=!0}else if(o===null){O=c.stateNode;var X=c.memoizedProps,ae=Eu(m,X);O.props=ae;var ve=O.context,je=m.contextType;G=pl,typeof je=="object"&&je!==null&&(G=Sr(je));var $e=m.getDerivedStateFromProps;je=typeof $e=="function"||typeof O.getSnapshotBeforeUpdate=="function",X=c.pendingProps!==X,je||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(X||ve!==G)&&Lb(c,O,y,G),Fi=!1;var Re=c.memoizedState;O.state=Re,fs(c,y,O,E),Mr(),ve=c.memoizedState,X||Re!==ve||Fi?(typeof $e=="function"&&(Wv(c,m,$e,y),ve=c.memoizedState),(ae=Fi||Pb(c,m,ae,y,Re,ve,G))?(je||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(c.flags|=4194308)):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=ve),O.props=y,O.state=ve,O.context=G,y=ae):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{O=c.stateNode,xp(o,c),G=c.memoizedProps,je=Eu(m,G),O.props=je,$e=c.pendingProps,Re=O.context,ve=m.contextType,ae=pl,typeof ve=="object"&&ve!==null&&(ae=Sr(ve)),X=m.getDerivedStateFromProps,(ve=typeof X=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(G!==$e||Re!==ae)&&Lb(c,O,y,ae),Fi=!1,Re=c.memoizedState,O.state=Re,fs(c,y,O,E),Mr();var Fe=c.memoizedState;G!==$e||Re!==Fe||Fi||o!==null&&o.dependencies!==null&&Vc(o.dependencies)?(typeof X=="function"&&(Wv(c,m,X,y),Fe=c.memoizedState),(je=Fi||Pb(c,m,je,y,Re,Fe,ae)||o!==null&&o.dependencies!==null&&Vc(o.dependencies))?(ve||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(y,Fe,ae),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(y,Fe,ae)),typeof O.componentDidUpdate=="function"&&(c.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof O.componentDidUpdate!="function"||G===o.memoizedProps&&Re===o.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&Re===o.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Fe),O.props=y,O.state=Fe,O.context=ae,y=je):(typeof O.componentDidUpdate!="function"||G===o.memoizedProps&&Re===o.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&Re===o.memoizedState||(c.flags|=1024),y=!1)}return O=y,Gc(o,c),y=(c.flags&128)!==0,O||y?(O=c.stateNode,m=y&&typeof m.getDerivedStateFromError!="function"?null:O.render(),c.flags|=1,o!==null&&y?(c.child=bo(c,o.child,null,E),c.child=bo(c,null,m,E)):Yi(o,c,m,E),c.memoizedState=O.state,o=c.child):o=Ti(o,c,E),o}function ng(o,c,m,y){return Nc(),c.flags|=256,Yi(o,c,m,y),c.child}var ig={dehydrated:null,treeContext:null,retryLane:0};function er(o){return{baseLanes:o,cachePool:Mo()}}function mp(o,c,m){return o=o!==null?o.childLanes&~m:0,c&&(o|=kr),o}function jb(o,c,m){var y=c.pendingProps,E=!1,O=(c.flags&128)!==0,G;if((G=O)||(G=o!==null&&o.memoizedState===null?!1:(Ui.current&2)!==0),G&&(E=!0,c.flags&=-129),G=(c.flags&32)!==0,c.flags&=-33,o===null){if(Sn){if(E?_o(c):Ao(),Sn){var X=$i,ae;if(ae=X){e:{for(ae=X,X=Fa;ae.nodeType!==8;){if(!X){X=null;break e}if(ae=zo(ae.nextSibling),ae===null){X=null;break e}}X=ae}X!==null?(c.memoizedState={dehydrated:X,treeContext:go!==null?{id:Ns,overflow:yo}:null,retryLane:536870912},ae=Oi(18,null,null,0),ae.stateNode=X,ae.return=c,c.child=ae,Ar=c,$i=null,ae=!0):ae=!1}ae||gu(c)}if(X=c.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return X.data==="$!"?c.lanes=16:c.lanes=536870912,null;Us(c)}return X=y.children,y=y.fallback,E?(Ao(),E=c.mode,X=ag({mode:"hidden",children:X},E),y=Fl(y,E,m,null),X.return=c,y.return=c,X.sibling=y,c.child=X,E=c.child,E.memoizedState=er(m),E.childLanes=mp(o,G,m),c.memoizedState=ig,y):(_o(c),rg(c,X))}if(ae=o.memoizedState,ae!==null&&(X=ae.dehydrated,X!==null)){if(O)c.flags&256?(_o(c),c.flags&=-257,c=vp(o,c,m)):c.memoizedState!==null?(Ao(),c.child=o.child,c.flags|=128,c=null):(Ao(),E=y.fallback,X=c.mode,y=ag({mode:"visible",children:y.children},X),E=Fl(E,X,m,null),E.flags|=2,y.return=c,E.return=c,y.sibling=E,c.child=y,bo(c,o.child,null,m),y=c.child,y.memoizedState=er(m),y.childLanes=mp(o,G,m),c.memoizedState=ig,c=E);else if(_o(c),X.data==="$!"){if(G=X.nextSibling&&X.nextSibling.dataset,G)var ve=G.dgst;G=ve,y=Error(i(419)),y.stack="",y.digest=G,Ps({value:y,source:null,stack:null}),c=vp(o,c,m)}else if(Wi||ph(o,c,m,!1),G=(m&o.childLanes)!==0,Wi||G){if(G=kn,G!==null){if(y=m&-m,(y&42)!==0)y=1;else switch(y){case 2:y=1;break;case 8:y=4;break;case 32:y=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:y=64;break;case 268435456:y=134217728;break;default:y=0}if(y=(y&(G.suspendedLanes|m))!==0?0:y,y!==0&&y!==ae.retryLane)throw ae.retryLane=y,vo(o,y),Gi(G,o,y),_a}X.data==="$?"||Ah(),c=vp(o,c,m)}else X.data==="$?"?(c.flags|=128,c.child=o.child,c=Pu.bind(null,o),X._reactRetry=c,c=null):(o=ae.treeContext,$i=zo(X.nextSibling),Ar=c,Sn=!0,Ia=null,Fa=!1,o!==null&&(Qn[ba++]=Ns,Qn[ba++]=yo,Qn[ba++]=go,Ns=o.id,yo=o.overflow,go=c),c=rg(c,y.children),c.flags|=4096);return c}return E?(Ao(),E=y.fallback,X=c.mode,ae=o.child,ve=ae.sibling,y=Gr(ae,{mode:"hidden",children:y.children}),y.subtreeFlags=ae.subtreeFlags&31457280,ve!==null?E=Gr(ve,E):(E=Fl(E,X,m,null),E.flags|=2),E.return=c,y.return=c,y.sibling=E,c.child=y,y=E,E=c.child,X=o.child.memoizedState,X===null?X=er(m):(ae=X.cachePool,ae!==null?(ve=Mi._currentValue,ae=ae.parent!==ve?{parent:ve,pool:ve}:ae):ae=Mo(),X={baseLanes:X.baseLanes|m,cachePool:ae}),E.memoizedState=X,E.childLanes=mp(o,G,m),c.memoizedState=ig,y):(_o(c),m=o.child,o=m.sibling,m=Gr(m,{mode:"visible",children:y.children}),m.return=c,m.sibling=null,o!==null&&(G=c.deletions,G===null?(c.deletions=[o],c.flags|=16):G.push(o)),c.child=m,c.memoizedState=null,m)}function rg(o,c){return c=ag({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function ag(o,c){return lg(o,c,0,null)}function vp(o,c,m){return bo(c,o.child,null,m),o=rg(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function gp(o,c,m){o.lanes|=c;var y=o.alternate;y!==null&&(y.lanes|=c),Aa(o.return,c,m)}function Ol(o,c,m,y,E){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:E}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=y,O.tail=m,O.tailMode=E)}function Tu(o,c,m){var y=c.pendingProps,E=y.revealOrder,O=y.tail;if(Yi(o,c,y.children,m),y=Ui.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&gp(o,m,c);else if(o.tag===19)gp(o,m,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}switch(De(Ui,y),E){case"forwards":for(m=c.child,E=null;m!==null;)o=m.alternate,o!==null&&Lc(o)===null&&(E=m),m=m.sibling;m=E,m===null?(E=c.child,c.child=null):(E=m.sibling,m.sibling=null),Ol(c,!1,E,m,O);break;case"backwards":for(m=null,E=c.child,c.child=null;E!==null;){if(o=E.alternate,o!==null&&Lc(o)===null){c.child=E;break}o=E.sibling,E.sibling=m,m=E,E=o}Ol(c,!0,m,null,O);break;case"together":Ol(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Ti(o,c,m){if(o!==null&&(c.dependencies=o.dependencies),vs|=c.lanes,(m&c.childLanes)===0)if(o!==null){if(ph(o,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,m=Gr(o,o.pendingProps),c.child=m,m.return=c;o.sibling!==null;)o=o.sibling,m=m.sibling=Gr(o,o.pendingProps),m.return=c;m.sibling=null}return c.child}function sg(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Vc(o)))}function K1(o,c,m){switch(c.tag){case 3:st(c,c.stateNode.containerInfo),Bl(c,Mi,o.memoizedState.cache),Nc();break;case 27:case 5:Ze(c);break;case 4:st(c,c.stateNode.containerInfo);break;case 10:Bl(c,c.type,c.memoizedProps.value);break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?(_o(c),c.flags|=128,null):(m&c.child.childLanes)!==0?jb(o,c,m):(_o(c),o=Ti(o,c,m),o!==null?o.sibling:null);_o(c);break;case 19:var E=(o.flags&128)!==0;if(y=(m&c.childLanes)!==0,y||(ph(o,c,m,!1),y=(m&c.childLanes)!==0),E){if(y)return Tu(o,c,m);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),De(Ui,Ui.current),y)break;return null;case 22:case 23:return c.lanes=0,Gb(o,c,m);case 24:Bl(c,Mi,o.memoizedState.cache)}return Ti(o,c,m)}function dh(o,c,m){if(o!==null)if(o.memoizedProps!==c.pendingProps)Wi=!0;else{if(!sg(o,m)&&(c.flags&128)===0)return Wi=!1,K1(o,c,m);Wi=(o.flags&131072)!==0}else Wi=!1,Sn&&(c.flags&1048576)!==0&&Dv(c,th,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var y=c.elementType,E=y._init;if(y=E(y._payload),c.type=y,typeof y=="function")Po(y)?(o=Eu(y,o),c.tag=1,c=Vb(null,c,y,o,m)):(c.tag=0,c=tg(null,c,y,o,m));else{if(y!=null){if(E=y.$$typeof,E===_){c.tag=11,c=Zv(null,c,y,o,m);break e}else if(E===S){c.tag=14,c=Qv(null,c,y,o,m);break e}}throw c=z(y)||y,Error(i(306,c,""))}}return c;case 0:return tg(o,c,c.type,c.pendingProps,m);case 1:return y=c.type,E=Eu(y,c.pendingProps),Vb(o,c,y,E,m);case 3:e:{if(st(c,c.stateNode.containerInfo),o===null)throw Error(i(387));var O=c.pendingProps;E=c.memoizedState,y=E.element,xp(o,c),fs(c,O,null,m);var G=c.memoizedState;if(O=G.cache,Bl(c,Mi,O),O!==E.cache&&yp(c,[Mi],m,!0),Mr(),O=G.element,E.isDehydrated)if(E={element:O,isDehydrated:!1,cache:G.cache},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){c=ng(o,c,O,m);break e}else if(O!==y){y=ea(Error(i(424)),c),Ps(y),c=ng(o,c,O,m);break e}else for($i=zo(c.stateNode.containerInfo.firstChild),Ar=c,Sn=!0,Ia=null,Fa=!0,m=xo(c,null,O,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Nc(),O===y){c=Ti(o,c,m);break e}Yi(o,c,O,m)}c=c.child}return c;case 26:return Gc(o,c),o===null?(m=$D(c.type,null,c.pendingProps,null))?c.memoizedState=m:Sn||(m=c.type,o=c.pendingProps,y=Zb(Ce.current).createElement(m),y[pi]=c,y[tn]=o,jr(y,m,o),Ae(y),c.stateNode=y):c.memoizedState=$D(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ze(c),o===null&&Sn&&(y=c.stateNode=JD(c.type,c.pendingProps,Ce.current),Ar=c,Fa=!0,$i=zo(y.firstChild)),y=c.pendingProps.children,o!==null||Sn?Yi(o,c,y,m):c.child=bo(c,null,y,m),Gc(o,c),c.child;case 5:return o===null&&Sn&&((E=y=$i)&&(y=Fk(y,c.type,c.pendingProps,Fa),y!==null?(c.stateNode=y,Ar=c,$i=zo(y.firstChild),Fa=!1,E=!0):E=!1),E||gu(c)),Ze(c),E=c.type,O=c.pendingProps,G=o!==null?o.memoizedProps:null,y=O.children,sM(E,O)?y=null:G!==null&&sM(E,G)&&(c.flags|=32),c.memoizedState!==null&&(E=Iv(o,c,j1,null,null,m),gg._currentValue=E),Gc(o,c),Yi(o,c,y,m),c.child;case 6:return o===null&&Sn&&((o=m=$i)&&(m=zk(m,c.pendingProps,Fa),m!==null?(c.stateNode=m,Ar=c,$i=null,o=!0):o=!1),o||gu(c)),null;case 13:return jb(o,c,m);case 4:return st(c,c.stateNode.containerInfo),y=c.pendingProps,o===null?c.child=bo(c,null,y,m):Yi(o,c,y,m),c.child;case 11:return Zv(o,c,c.type,c.pendingProps,m);case 7:return Yi(o,c,c.pendingProps,m),c.child;case 8:return Yi(o,c,c.pendingProps.children,m),c.child;case 12:return Yi(o,c,c.pendingProps.children,m),c.child;case 10:return y=c.pendingProps,Bl(c,c.type,y.value),Yi(o,c,y.children,m),c.child;case 9:return E=c.type._context,y=c.pendingProps.children,wu(c),E=Sr(E),y=y(E),c.flags|=1,Yi(o,c,y,m),c.child;case 14:return Qv(o,c,c.type,c.pendingProps,m);case 15:return $v(o,c,c.type,c.pendingProps,m);case 19:return Tu(o,c,m);case 22:return Gb(o,c,m);case 24:return wu(c),y=Sr(Mi),o===null?(E=uh(),E===null&&(E=kn,O=Lv(),E.pooledCache=O,O.refCount++,O!==null&&(E.pooledCacheLanes|=m),E=O),c.memoizedState={parent:y,cache:E},zr(c),Bl(c,Mi,E)):((o.lanes&m)!==0&&(xp(o,c),fs(c,null,null,m),Mr()),E=o.memoizedState,O=c.memoizedState,E.parent!==y?(E={parent:y,cache:y},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),Bl(c,Mi,y)):(y=O.cache,Bl(c,Mi,y),y!==E.cache&&yp(c,[Mi],m,!0))),Yi(o,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}var kc=qe(null),Hs=null,cs=null;function Bl(o,c,m){De(kc,c._currentValue),c._currentValue=m}function Co(o){o._currentValue=kc.current,Le(kc)}function Aa(o,c,m){for(;o!==null;){var y=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),o===m)break;o=o.return}}function yp(o,c,m,y){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var O=E.dependencies;if(O!==null){var G=E.child;O=O.firstContext;e:for(;O!==null;){var X=O;O=E;for(var ae=0;ae<c.length;ae++)if(X.context===c[ae]){O.lanes|=m,X=O.alternate,X!==null&&(X.lanes|=m),Aa(O.return,m,o),y||(G=null);break e}O=X.next}}else if(E.tag===18){if(G=E.return,G===null)throw Error(i(341));G.lanes|=m,O=G.alternate,O!==null&&(O.lanes|=m),Aa(G,m,o),G=null}else G=E.child;if(G!==null)G.return=E;else for(G=E;G!==null;){if(G===o){G=null;break}if(E=G.sibling,E!==null){E.return=G.return,G=E;break}G=G.return}E=G}}function ph(o,c,m,y){o=null;for(var E=c,O=!1;E!==null;){if(!O){if((E.flags&524288)!==0)O=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var G=E.alternate;if(G===null)throw Error(i(387));if(G=G.memoizedProps,G!==null){var X=E.type;Zr(E.pendingProps.value,G.value)||(o!==null?o.push(X):o=[X])}}else if(E===K.current){if(G=E.alternate,G===null)throw Error(i(387));G.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(gg):o=[gg])}E=E.return}o!==null&&yp(c,o,m,y),c.flags|=262144}function Vc(o){for(o=o.firstContext;o!==null;){if(!Zr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function wu(o){Hs=o,cs=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Sr(o){return jc(Hs,o)}function bp(o,c){return Hs===null&&wu(o),jc(o,c)}function jc(o,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},cs===null){if(o===null)throw Error(i(308));cs=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else cs=cs.next=c;return m}var Fi=!1;function zr(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xp(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Sa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ma(o,c,m){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(Xt&2)!==0){var E=y.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),y.pending=c,c=eh(o),$f(o,null,m),c}return Qf(o,y,c,m),eh(o)}function Dl(o,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194176)!==0)){var y=c.lanes;y&=o.pendingLanes,m|=y,c.lanes=m,Pa(o,m)}}function qc(o,c){var m=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var E=null,O=null;if(m=m.firstBaseUpdate,m!==null){do{var G={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};O===null?E=O=G:O=O.next=G,m=m.next}while(m!==null);O===null?E=O=c:O=O.next=c}else E=O=c;m={baseState:y.baseState,firstBaseUpdate:E,lastBaseUpdate:O,shared:y.shared,callbacks:y.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=c}var ia=!1;function Mr(){if(ia){var o=Sl;if(o!==null)throw o}}function fs(o,c,m,y){ia=!1;var E=o.updateQueue;Fi=!1;var O=E.firstBaseUpdate,G=E.lastBaseUpdate,X=E.shared.pending;if(X!==null){E.shared.pending=null;var ae=X,ve=ae.next;ae.next=null,G===null?O=ve:G.next=ve,G=ae;var je=o.alternate;je!==null&&(je=je.updateQueue,X=je.lastBaseUpdate,X!==G&&(X===null?je.firstBaseUpdate=ve:X.next=ve,je.lastBaseUpdate=ae))}if(O!==null){var $e=E.baseState;G=0,je=ve=ae=null,X=O;do{var Re=X.lane&-536870913,Fe=Re!==X.lane;if(Fe?(Ut&Re)===Re:(y&Re)===Re){Re!==0&&Re===xu&&(ia=!0),je!==null&&(je=je.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var Bt=o,Yt=X;Re=c;var ki=m;switch(Yt.tag){case 1:if(Bt=Yt.payload,typeof Bt=="function"){$e=Bt.call(ki,$e,Re);break e}$e=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Yt.payload,Re=typeof Bt=="function"?Bt.call(ki,$e,Re):Bt,Re==null)break e;$e=U({},$e,Re);break e;case 2:Fi=!0}}Re=X.callback,Re!==null&&(o.flags|=64,Fe&&(o.flags|=8192),Fe=E.callbacks,Fe===null?E.callbacks=[Re]:Fe.push(Re))}else Fe={lane:Re,tag:X.tag,payload:X.payload,callback:X.callback,next:null},je===null?(ve=je=Fe,ae=$e):je=je.next=Fe,G|=Re;if(X=X.next,X===null){if(X=E.shared.pending,X===null)break;Fe=X,X=Fe.next,Fe.next=null,E.lastBaseUpdate=Fe,E.shared.pending=null}}while(!0);je===null&&(ae=$e),E.baseState=ae,E.firstBaseUpdate=ve,E.lastBaseUpdate=je,O===null&&(E.shared.lanes=0),vs|=G,o.lanes=G,o.memoizedState=$e}}function Gs(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function ks(o,c){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)Gs(m[o],c)}function wi(o,c){try{var m=c.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var E=y.next;m=E;do{if((m.tag&o)===o){y=void 0;var O=m.create,G=m.inst;y=O(),G.destroy=y}m=m.next}while(m!==E)}}catch(X){nt(c,c.return,X)}}function za(o,c,m){try{var y=c.updateQueue,E=y!==null?y.lastEffect:null;if(E!==null){var O=E.next;y=O;do{if((y.tag&o)===o){var G=y.inst,X=G.destroy;if(X!==void 0){G.destroy=void 0,E=c;var ae=m;try{X()}catch(ve){nt(E,ae,ve)}}}y=y.next}while(y!==O)}}catch(ve){nt(c,c.return,ve)}}function Ro(o){var c=o.updateQueue;if(c!==null){var m=o.stateNode;try{ks(c,m)}catch(y){nt(o,o.return,y)}}}function mh(o,c,m){m.props=Eu(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(y){nt(o,c,y)}}function Ci(o,c){try{var m=o.ref;if(m!==null){var y=o.stateNode;switch(o.tag){case 26:case 27:case 5:var E=y;break;default:E=y}typeof m=="function"?o.refCleanup=m(E):m.current=E}}catch(O){nt(o,c,O)}}function Gn(o,c){var m=o.ref,y=o.refCleanup;if(m!==null)if(typeof y=="function")try{y()}catch(E){nt(o,c,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(E){nt(o,c,E)}else m.current=null}function Mn(o){var c=o.type,m=o.memoizedProps,y=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&y.focus();break e;case"img":m.src?y.src=m.src:m.srcSet&&(y.srcset=m.srcSet)}}catch(E){nt(o,o.return,E)}}function Ha(o,c,m){try{var y=o.stateNode;Nk(y,o.type,m,c),y[tn]=c}catch(E){nt(o,o.return,E)}}function hs(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27||o.tag===4}function vh(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||hs(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==27&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ra(o,c,m){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?m.nodeType===8?m.parentNode.insertBefore(o,c):m.insertBefore(o,c):(m.nodeType===8?(c=m.parentNode,c.insertBefore(o,m)):(c=m,c.appendChild(o)),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Jb));else if(y!==4&&y!==27&&(o=o.child,o!==null))for(ra(o,c,m),o=o.sibling;o!==null;)ra(o,c,m),o=o.sibling}function Oo(o,c,m){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?m.insertBefore(o,c):m.appendChild(o);else if(y!==4&&y!==27&&(o=o.child,o!==null))for(Oo(o,c,m),o=o.sibling;o!==null;)Oo(o,c,m),o=o.sibling}var ds=!1,ni=!1,Nl=!1,_p=typeof WeakSet=="function"?WeakSet:Set,Ri=null,Ap=!1;function Xc(o,c){if(o=o.containerInfo,rM=ix,o=Tv(o),Jf(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var E=y.anchorOffset,O=y.focusNode;y=y.focusOffset;try{m.nodeType,O.nodeType}catch{m=null;break e}var G=0,X=-1,ae=-1,ve=0,je=0,$e=o,Re=null;t:for(;;){for(var Fe;$e!==m||E!==0&&$e.nodeType!==3||(X=G+E),$e!==O||y!==0&&$e.nodeType!==3||(ae=G+y),$e.nodeType===3&&(G+=$e.nodeValue.length),(Fe=$e.firstChild)!==null;)Re=$e,$e=Fe;for(;;){if($e===o)break t;if(Re===m&&++ve===E&&(X=G),Re===O&&++je===y&&(ae=G),(Fe=$e.nextSibling)!==null)break;$e=Re,Re=$e.parentNode}$e=Fe}m=X===-1||ae===-1?null:{start:X,end:ae}}else m=null}m=m||{start:0,end:0}}else m=null;for(aM={focusedElem:o,selectionRange:m},ix=!1,Ri=c;Ri!==null;)if(c=Ri,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Ri=o;else for(;Ri!==null;){switch(c=Ri,O=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&O!==null){o=void 0,m=c,E=O.memoizedProps,O=O.memoizedState,y=m.stateNode;try{var Bt=Eu(m.type,E,m.elementType===m.type);o=y.getSnapshotBeforeUpdate(Bt,O),y.__reactInternalSnapshotBeforeUpdate=o}catch(Yt){nt(m,m.return,Yt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,m=o.nodeType,m===9)uM(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":uM(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=c.sibling,o!==null){o.return=c.return,Ri=o;break}Ri=c.return}return Bt=Ap,Ap=!1,Bt}function Wc(o,c,m){var y=m.flags;switch(m.tag){case 0:case 11:case 15:Vs(o,m),y&4&&wi(5,m);break;case 1:if(Vs(o,m),y&4)if(o=m.stateNode,c===null)try{o.componentDidMount()}catch(X){nt(m,m.return,X)}else{var E=Eu(m.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(E,c,o.__reactInternalSnapshotBeforeUpdate)}catch(X){nt(m,m.return,X)}}y&64&&Ro(m),y&512&&Ci(m,m.return);break;case 3:if(Vs(o,m),y&64&&(y=m.updateQueue,y!==null)){if(o=null,m.child!==null)switch(m.child.tag){case 27:case 5:o=m.child.stateNode;break;case 1:o=m.child.stateNode}try{ks(y,o)}catch(X){nt(m,m.return,X)}}break;case 26:Vs(o,m),y&512&&Ci(m,m.return);break;case 27:case 5:Vs(o,m),c===null&&y&4&&Mn(m),y&512&&Ci(m,m.return);break;case 12:Vs(o,m);break;case 13:Vs(o,m),y&4&&qb(o,m);break;case 22:if(E=m.memoizedState!==null||ds,!E){c=c!==null&&c.memoizedState!==null||ni;var O=ds,G=ni;ds=E,(ni=c)&&!G?ms(o,m,(m.subtreeFlags&8772)!==0):Vs(o,m),ds=O,ni=G}y&512&&(m.memoizedProps.mode==="manual"?Ci(m,m.return):Gn(m,m.return));break;default:Vs(o,m)}}function Sp(o){var c=o.alternate;c!==null&&(o.alternate=null,Sp(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&lu(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var ii=null,tr=!1;function Er(o,c,m){for(m=m.child;m!==null;)Mp(o,c,m),m=m.sibling}function Mp(o,c,m){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Tt,m)}catch{}switch(m.tag){case 26:ni||Gn(m,c),Er(o,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:ni||Gn(m,c);var y=ii,E=tr;for(ii=m.stateNode,Er(o,c,m),m=m.stateNode,c=m.attributes;c.length;)m.removeAttributeNode(c[0]);lu(m),ii=y,tr=E;break;case 5:ni||Gn(m,c);case 6:E=ii;var O=tr;if(ii=null,Er(o,c,m),ii=E,tr=O,ii!==null)if(tr)try{o=ii,y=m.stateNode,o.nodeType===8?o.parentNode.removeChild(y):o.removeChild(y)}catch(G){nt(m,c,G)}else try{ii.removeChild(m.stateNode)}catch(G){nt(m,c,G)}break;case 18:ii!==null&&(tr?(c=ii,m=m.stateNode,c.nodeType===8?lM(c.parentNode,m):c.nodeType===1&&lM(c,m),_g(c)):lM(ii,m.stateNode));break;case 4:y=ii,E=tr,ii=m.stateNode.containerInfo,tr=!0,Er(o,c,m),ii=y,tr=E;break;case 0:case 11:case 14:case 15:ni||za(2,m,c),ni||za(4,m,c),Er(o,c,m);break;case 1:ni||(Gn(m,c),y=m.stateNode,typeof y.componentWillUnmount=="function"&&mh(m,c,y)),Er(o,c,m);break;case 21:Er(o,c,m);break;case 22:ni||Gn(m,c),ni=(y=ni)||m.memoizedState!==null,Er(o,c,m),ni=y;break;default:Er(o,c,m)}}function qb(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{_g(o)}catch(m){nt(c,c.return,m)}}function gh(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new _p),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new _p),c;default:throw Error(i(435,o.tag))}}function yh(o,c){var m=gh(o);c.forEach(function(y){var E=we.bind(null,o,y);m.has(y)||(m.add(y),y.then(E,E))})}function Hr(o,c){var m=c.deletions;if(m!==null)for(var y=0;y<m.length;y++){var E=m[y],O=o,G=c,X=G;e:for(;X!==null;){switch(X.tag){case 27:case 5:ii=X.stateNode,tr=!1;break e;case 3:ii=X.stateNode.containerInfo,tr=!0;break e;case 4:ii=X.stateNode.containerInfo,tr=!0;break e}X=X.return}if(ii===null)throw Error(i(160));Mp(O,G,E),ii=null,tr=!1,O=E.alternate,O!==null&&(O.return=null),E.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)Cu(c,o),c=c.sibling}var Tr=null;function Cu(o,c){var m=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Hr(c,o),wr(o),y&4&&(za(3,o,o.return),wi(3,o),za(5,o,o.return));break;case 1:Hr(c,o),wr(o),y&512&&(ni||m===null||Gn(m,m.return)),y&64&&ds&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?y:m.concat(y))));break;case 26:var E=Tr;if(Hr(c,o),wr(o),y&512&&(ni||m===null||Gn(m,m.return)),y&4){var O=m!==null?m.memoizedState:null;if(y=o.memoizedState,m===null)if(y===null)if(o.stateNode===null){e:{y=o.type,m=o.memoizedProps,E=E.ownerDocument||E;t:switch(y){case"title":O=E.getElementsByTagName("title")[0],(!O||O[so]||O[pi]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=E.createElement(y),E.head.insertBefore(O,E.querySelector("head > title"))),jr(O,y,m),O[pi]=o,Ae(O),y=O;break e;case"link":var G=nN("link","href",E).get(y+(m.href||""));if(G){for(var X=0;X<G.length;X++)if(O=G[X],O.getAttribute("href")===(m.href==null?null:m.href)&&O.getAttribute("rel")===(m.rel==null?null:m.rel)&&O.getAttribute("title")===(m.title==null?null:m.title)&&O.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){G.splice(X,1);break t}}O=E.createElement(y),jr(O,y,m),E.head.appendChild(O);break;case"meta":if(G=nN("meta","content",E).get(y+(m.content||""))){for(X=0;X<G.length;X++)if(O=G[X],O.getAttribute("content")===(m.content==null?null:""+m.content)&&O.getAttribute("name")===(m.name==null?null:m.name)&&O.getAttribute("property")===(m.property==null?null:m.property)&&O.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&O.getAttribute("charset")===(m.charSet==null?null:m.charSet)){G.splice(X,1);break t}}O=E.createElement(y),jr(O,y,m),E.head.appendChild(O);break;default:throw Error(i(468,y))}O[pi]=o,Ae(O),y=O}o.stateNode=y}else iN(E,o.type,o.stateNode);else o.stateNode=tN(E,y,o.memoizedProps);else O!==y?(O===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):O.count--,y===null?iN(E,o.type,o.stateNode):tN(E,y,o.memoizedProps)):y===null&&o.stateNode!==null&&Ha(o,o.memoizedProps,m.memoizedProps)}break;case 27:if(y&4&&o.alternate===null){E=o.stateNode,O=o.memoizedProps;try{for(var ae=E.firstChild;ae;){var ve=ae.nextSibling,je=ae.nodeName;ae[so]||je==="HEAD"||je==="BODY"||je==="SCRIPT"||je==="STYLE"||je==="LINK"&&ae.rel.toLowerCase()==="stylesheet"||E.removeChild(ae),ae=ve}for(var $e=o.type,Re=E.attributes;Re.length;)E.removeAttributeNode(Re[0]);jr(E,$e,O),E[pi]=o,E[tn]=O}catch(Bt){nt(o,o.return,Bt)}}case 5:if(Hr(c,o),wr(o),y&512&&(ni||m===null||Gn(m,m.return)),o.flags&32){E=o.stateNode;try{Lr(E,"")}catch(Bt){nt(o,o.return,Bt)}}y&4&&o.stateNode!=null&&(E=o.memoizedProps,Ha(o,E,m!==null?m.memoizedProps:E)),y&1024&&(Nl=!0);break;case 6:if(Hr(c,o),wr(o),y&4){if(o.stateNode===null)throw Error(i(162));y=o.memoizedProps,m=o.stateNode;try{m.nodeValue=y}catch(Bt){nt(o,o.return,Bt)}}break;case 3:if(ex=null,E=Tr,Tr=Qb(c.containerInfo),Hr(c,o),Tr=E,wr(o),y&4&&m!==null&&m.memoizedState.isDehydrated)try{_g(c.containerInfo)}catch(Bt){nt(o,o.return,Bt)}Nl&&(Nl=!1,Pl(o));break;case 4:y=Tr,Tr=Qb(o.stateNode.containerInfo),Hr(c,o),wr(o),Tr=y;break;case 12:Hr(c,o),wr(o);break;case 13:Hr(c,o),wr(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(rn=Ne()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,yh(o,y)));break;case 22:if(y&512&&(ni||m===null||Gn(m,m.return)),ae=o.memoizedState!==null,ve=m!==null&&m.memoizedState!==null,je=ds,$e=ni,ds=je||ae,ni=$e||ve,Hr(c,o),ni=$e,ds=je,wr(o),c=o.stateNode,c._current=o,c._visibility&=-3,c._visibility|=c._pendingVisibility&2,y&8192&&(c._visibility=ae?c._visibility&-2:c._visibility|1,ae&&(c=ds||ni,m===null||ve||c||ps(o)),o.memoizedProps===null||o.memoizedProps.mode!=="manual"))e:for(m=null,c=o;;){if(c.tag===5||c.tag===26||c.tag===27){if(m===null){ve=m=c;try{if(E=ve.stateNode,ae)O=E.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{G=ve.stateNode,X=ve.memoizedProps.style;var Fe=X!=null&&X.hasOwnProperty("display")?X.display:null;G.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch(Bt){nt(ve,ve.return,Bt)}}}else if(c.tag===6){if(m===null){ve=c;try{ve.stateNode.nodeValue=ae?"":ve.memoizedProps}catch(Bt){nt(ve,ve.return,Bt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}y&4&&(y=o.updateQueue,y!==null&&(m=y.retryQueue,m!==null&&(y.retryQueue=null,yh(o,m))));break;case 19:Hr(c,o),wr(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,yh(o,y)));break;case 21:break;default:Hr(c,o),wr(o)}}function wr(o){var c=o.flags;if(c&2){try{if(o.tag!==27){e:{for(var m=o.return;m!==null;){if(hs(m)){var y=m;break e}m=m.return}throw Error(i(160))}switch(y.tag){case 27:var E=y.stateNode,O=vh(o);Oo(o,O,E);break;case 5:var G=y.stateNode;y.flags&32&&(Lr(G,""),y.flags&=-33);var X=vh(o);Oo(o,X,G);break;case 3:case 4:var ae=y.stateNode.containerInfo,ve=vh(o);ra(o,ve,ae);break;default:throw Error(i(161))}}}catch(je){nt(o,o.return,je)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function Pl(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;Pl(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Vs(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Wc(o,c.alternate,c),c=c.sibling}function ps(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:za(4,c,c.return),ps(c);break;case 1:Gn(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&mh(c,c.return,m),ps(c);break;case 26:case 27:case 5:Gn(c,c.return),ps(c);break;case 22:Gn(c,c.return),c.memoizedState===null&&ps(c);break;default:ps(c)}o=o.sibling}}function ms(o,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var y=c.alternate,E=o,O=c,G=O.flags;switch(O.tag){case 0:case 11:case 15:ms(E,O,m),wi(4,O);break;case 1:if(ms(E,O,m),y=O,E=y.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(ve){nt(y,y.return,ve)}if(y=O,E=y.updateQueue,E!==null){var X=y.stateNode;try{var ae=E.shared.hiddenCallbacks;if(ae!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ae.length;E++)Gs(ae[E],X)}catch(ve){nt(y,y.return,ve)}}m&&G&64&&Ro(O),Ci(O,O.return);break;case 26:case 27:case 5:ms(E,O,m),m&&y===null&&G&4&&Mn(O),Ci(O,O.return);break;case 12:ms(E,O,m);break;case 13:ms(E,O,m),m&&G&4&&qb(E,O);break;case 22:O.memoizedState===null&&ms(E,O,m),Ci(O,O.return);break;default:ms(E,O,m)}c=c.sibling}}function aa(o,c){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&_l(m))}function Ga(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&_l(o))}function $n(o,c,m,y){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Bo(o,c,m,y),c=c.sibling}function Bo(o,c,m,y){var E=c.flags;switch(c.tag){case 0:case 11:case 15:$n(o,c,m,y),E&2048&&wi(9,c);break;case 3:$n(o,c,m,y),E&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&_l(o)));break;case 12:if(E&2048){$n(o,c,m,y),o=c.stateNode;try{var O=c.memoizedProps,G=O.id,X=O.onPostCommit;typeof X=="function"&&X(G,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ae){nt(c,c.return,ae)}}else $n(o,c,m,y);break;case 23:break;case 22:O=c.stateNode,c.memoizedState!==null?O._visibility&4?$n(o,c,m,y):Rn(o,c):O._visibility&4?$n(o,c,m,y):(O._visibility|=4,qt(o,c,m,y,(c.subtreeFlags&10256)!==0)),E&2048&&aa(c.alternate,c);break;case 24:$n(o,c,m,y),E&2048&&Ga(c.alternate,c);break;default:$n(o,c,m,y)}}function qt(o,c,m,y,E){for(E=E&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var O=o,G=c,X=m,ae=y,ve=G.flags;switch(G.tag){case 0:case 11:case 15:qt(O,G,X,ae,E),wi(8,G);break;case 23:break;case 22:var je=G.stateNode;G.memoizedState!==null?je._visibility&4?qt(O,G,X,ae,E):Rn(O,G):(je._visibility|=4,qt(O,G,X,ae,E)),E&&ve&2048&&aa(G.alternate,G);break;case 24:qt(O,G,X,ae,E),E&&ve&2048&&Ga(G.alternate,G);break;default:qt(O,G,X,ae,E)}c=c.sibling}}function Rn(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=o,y=c,E=y.flags;switch(y.tag){case 22:Rn(m,y),E&2048&&aa(y.alternate,y);break;case 24:Rn(m,y),E&2048&&Ga(y.alternate,y);break;default:Rn(m,y)}c=c.sibling}}var li=8192;function Do(o){if(o.subtreeFlags&li)for(o=o.child;o!==null;)Ru(o),o=o.sibling}function Ru(o){switch(o.tag){case 26:Do(o),o.flags&li&&o.memoizedState!==null&&Qk(Tr,o.memoizedState,o.memoizedProps);break;case 5:Do(o);break;case 3:case 4:var c=Tr;Tr=Qb(o.stateNode.containerInfo),Do(o),Tr=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=li,li=16777216,Do(o),li=c):Do(o));break;default:Do(o)}}function Ll(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Ul(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var y=c[m];Ri=y,Xb(y,o)}Ll(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Yc(o),o=o.sibling}function Yc(o){switch(o.tag){case 0:case 11:case 15:Ul(o),o.flags&2048&&za(9,o,o.return);break;case 3:Ul(o);break;case 12:Ul(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&4&&(o.return===null||o.return.tag!==13)?(c._visibility&=-5,No(o)):Ul(o);break;default:Ul(o)}}function No(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var y=c[m];Ri=y,Xb(y,o)}Ll(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:za(8,c,c.return),No(c);break;case 22:m=c.stateNode,m._visibility&4&&(m._visibility&=-5,No(c));break;default:No(c)}o=o.sibling}}function Xb(o,c){for(;Ri!==null;){var m=Ri;switch(m.tag){case 0:case 11:case 15:za(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var y=m.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:_l(m.memoizedState.cache)}if(y=m.child,y!==null)y.return=m,Ri=y;else e:for(m=o;Ri!==null;){y=Ri;var E=y.sibling,O=y.return;if(Sp(y),y===m){Ri=null;break e}if(E!==null){E.return=O,Ri=E;break e}Ri=O}}}function og(o,c,m,y){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(o,c,m,y){return new og(o,c,m,y)}function Po(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Gr(o,c){var m=o.alternate;return m===null?(m=Oi(o.tag,c,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=c,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&31457280,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,c=o.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function Il(o,c){o.flags&=31457282;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,c=m.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Kc(o,c,m,y,E,O){var G=0;if(y=o,typeof o=="function")Po(o)&&(G=1);else if(typeof o=="string")G=Jk(o,m,Xe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case u:return Fl(m.children,E,O,c);case f:G=8,E|=24;break;case p:return o=Oi(12,m,c,E|2),o.elementType=p,o.lanes=O,o;case M:return o=Oi(13,m,c,E),o.elementType=M,o.lanes=O,o;case A:return o=Oi(19,m,c,E),o.elementType=A,o.lanes=O,o;case C:return lg(m,E,O,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case v:case b:G=10;break e;case g:G=9;break e;case _:G=11;break e;case S:G=14;break e;case w:G=16,y=null;break e}G=29,m=Error(i(130,o===null?"null":typeof o,"")),y=null}return c=Oi(G,m,c,E),c.elementType=o,c.type=y,c.lanes=O,c}function Fl(o,c,m,y){return o=Oi(7,o,y,c),o.lanes=m,o}function lg(o,c,m,y){o=Oi(22,o,y,c),o.elementType=C,o.lanes=m;var E={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var O=E._current;if(O===null)throw Error(i(456));if((E._pendingVisibility&2)===0){var G=vo(O,2);G!==null&&(E._pendingVisibility|=2,Gi(G,O,2))}},attach:function(){var O=E._current;if(O===null)throw Error(i(456));if((E._pendingVisibility&2)!==0){var G=vo(O,2);G!==null&&(E._pendingVisibility&=-3,Gi(G,O,2))}}};return o.stateNode=E,o}function zi(o,c,m){return o=Oi(6,o,null,c),o.lanes=m,o}function bh(o,c,m){return c=Oi(4,o.children!==null?o.children:[],o.key,c),c.lanes=m,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function ka(o){o.flags|=4}function zl(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!rN(c)){if(c=ta.current,c!==null&&((Ut&4194176)===Ut?Ls!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||c!==Ls))throw Pc=tp,Nv;o.flags|=8192}}function Va(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Zt():536870912,o.lanes|=c,qs|=c)}function xh(o,c){if(!Sn)switch(o.tailMode){case"hidden":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function fi(o){var c=o.alternate!==null&&o.alternate.child===o.child,m=0,y=0;if(c)for(var E=o.child;E!==null;)m|=E.lanes|E.childLanes,y|=E.subtreeFlags&31457280,y|=E.flags&31457280,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)m|=E.lanes|E.childLanes,y|=E.subtreeFlags,y|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=y,o.childLanes=m,c}function J1(o,c,m){var y=c.pendingProps;switch(vl(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(c),null;case 1:return fi(c),null;case 3:return m=c.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),Co(Mi),Ie(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Dc(c)?ka(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ia!==null&&(Wa(Ia),Ia=null))),fi(c),null;case 26:return m=c.memoizedState,o===null?(ka(c),m!==null?(fi(c),zl(c,m)):(fi(c),c.flags&=-16777217)):m?m!==o.memoizedState?(ka(c),fi(c),zl(c,m)):(fi(c),c.flags&=-16777217):(o.memoizedProps!==y&&ka(c),fi(c),c.flags&=-16777217),null;case 27:Je(c),m=Ce.current;var E=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==y&&ka(c);else{if(!y){if(c.stateNode===null)throw Error(i(166));return fi(c),null}o=Xe.current,Dc(c)?eb(c):(o=JD(E,y,m),c.stateNode=o,ka(c))}return fi(c),null;case 5:if(Je(c),m=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==y&&ka(c);else{if(!y){if(c.stateNode===null)throw Error(i(166));return fi(c),null}if(o=Xe.current,Dc(c))eb(c);else{switch(E=Zb(Ce.current),o){case 1:o=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:o=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":o=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":o=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof y.is=="string"?E.createElement("select",{is:y.is}):E.createElement("select"),y.multiple?o.multiple=!0:y.size&&(o.size=y.size);break;default:o=typeof y.is=="string"?E.createElement(m,{is:y.is}):E.createElement(m)}}o[pi]=c,o[tn]=y;e:for(E=c.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===c)break e;for(;E.sibling===null;){if(E.return===null||E.return===c)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}c.stateNode=o;e:switch(jr(o,m,y),m){case"button":case"input":case"select":case"textarea":o=!!y.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ka(c)}}return fi(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==y&&ka(c);else{if(typeof y!="string"&&c.stateNode===null)throw Error(i(166));if(o=Ce.current,Dc(c)){if(o=c.stateNode,m=c.memoizedProps,y=null,E=Ar,E!==null)switch(E.tag){case 27:case 5:y=E.memoizedProps}o[pi]=c,o=!!(o.nodeValue===m||y!==null&&y.suppressHydrationWarning===!0||jD(o.nodeValue,m)),o||gu(c)}else o=Zb(o).createTextNode(y),o[pi]=c,c.stateNode=o}return fi(c),null;case 13:if(y=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=Dc(c),y!==null&&y.dehydrated!==null){if(o===null){if(!E)throw Error(i(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(i(317));E[pi]=c}else Nc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;fi(c),E=!1}else Ia!==null&&(Wa(Ia),Ia=null),E=!0;if(!E)return c.flags&256?(Us(c),c):(Us(c),null)}if(Us(c),(c.flags&128)!==0)return c.lanes=m,c;if(m=y!==null,o=o!==null&&o.memoizedState!==null,m){y=c.child,E=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(E=y.alternate.memoizedState.cachePool.pool);var O=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(O=y.memoizedState.cachePool.pool),O!==E&&(y.flags|=2048)}return m!==o&&m&&(c.child.flags|=8192),Va(c,c.updateQueue),fi(c),null;case 4:return Ie(),o===null&&tM(c.stateNode.containerInfo),fi(c),null;case 10:return Co(c.type),fi(c),null;case 19:if(Le(Ui),E=c.memoizedState,E===null)return fi(c),null;if(y=(c.flags&128)!==0,O=E.rendering,O===null)if(y)xh(E,!1);else{if(ri!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(O=Lc(o),O!==null){for(c.flags|=128,xh(E,!1),o=O.updateQueue,c.updateQueue=o,Va(c,o),c.subtreeFlags=0,o=m,m=c.child;m!==null;)Il(m,o),m=m.sibling;return De(Ui,Ui.current&1|2),c.child}o=o.sibling}E.tail!==null&&Ne()>hn&&(c.flags|=128,y=!0,xh(E,!1),c.lanes=4194304)}else{if(!y)if(o=Lc(O),o!==null){if(c.flags|=128,y=!0,o=o.updateQueue,c.updateQueue=o,Va(c,o),xh(E,!0),E.tail===null&&E.tailMode==="hidden"&&!O.alternate&&!Sn)return fi(c),null}else 2*Ne()-E.renderingStartTime>hn&&m!==536870912&&(c.flags|=128,y=!0,xh(E,!1),c.lanes=4194304);E.isBackwards?(O.sibling=c.child,c.child=O):(o=E.last,o!==null?o.sibling=O:c.child=O,E.last=O)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=Ne(),c.sibling=null,o=Ui.current,De(Ui,y?o&1|2:o&1),c):(fi(c),null);case 22:case 23:return Us(c),lh(),y=c.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(c.flags|=8192):y&&(c.flags|=8192),y?(m&536870912)!==0&&(c.flags&128)===0&&(fi(c),c.subtreeFlags&6&&(c.flags|=8192)):fi(c),m=c.updateQueue,m!==null&&Va(c,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048),o!==null&&Le(So),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Co(Mi),fi(c),null;case 25:return null}throw Error(i(156,c.tag))}function gi(o,c){switch(vl(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Co(Mi),Ie(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Je(c),null;case 13:if(Us(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Nc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Le(Ui),null;case 4:return Ie(),null;case 10:return Co(c.type),null;case 22:case 23:return Us(c),lh(),o!==null&&Le(So),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Co(Mi),null;case 25:return null;default:return null}}function ug(o,c){switch(vl(c),c.tag){case 3:Co(Mi),Ie();break;case 26:case 27:case 5:Je(c);break;case 4:Ie();break;case 13:Us(c);break;case 19:Le(Ui);break;case 10:Co(c.type);break;case 22:case 23:Us(c),lh(),o!==null&&Le(So);break;case 24:Co(Mi)}}var Ou={getCacheForType:function(o){var c=Sr(Mi),m=c.data.get(o);return m===void 0&&(m=o(),c.data.set(o,m)),m}},Lo=typeof WeakMap=="function"?WeakMap:Map,Xt=0,kn=null,on=null,Ut=0,Wn=0,On=null,Bi=!1,Cr=!1,Hl=!1,Uo=0,ri=0,vs=0,js=0,Jc=0,kr=0,qs=0,_h=null,fn=null,Vn=!1,rn=0,hn=1/0,Hn=null,Hi=null,ja=!1,qa=null,Bu=0,gs=0,ui=null,Xa=0,Io=null;function Vr(){if((Xt&2)!==0&&Ut!==0)return Ut&-Ut;if(P.T!==null){var o=xu;return o!==0?o:Z1()}return yc()}function Ea(){kr===0&&(kr=(Ut&536870912)===0||Sn?In():536870912);var o=ta.current;return o!==null&&(o.flags|=32),kr}function Gi(o,c,m){(o===kn&&Wn===2||o.cancelPendingCommit!==null)&&(Fo(o,0),Ta(o,Ut,kr,!1)),Ai(o,m),((Xt&2)===0||o!==kn)&&(o===kn&&((Xt&2)===0&&(js|=m),ri===4&&Ta(o,Ut,kr,!1)),Yn(o))}function Zc(o,c,m){if((Xt&6)!==0)throw Error(i(327));var y=!m&&(c&60)===0&&(c&o.expiredLanes)===0||Rt(o,c),E=y?h(o,c):Nu(o,c,!0),O=y;do{if(E===0){Cr&&!y&&Ta(o,c,0,!1);break}else if(E===6)Ta(o,c,0,!Bi);else{if(m=o.current.alternate,O&&!cg(m)){E=Nu(o,c,!1),O=!1;continue}if(E===2){if(O=c,o.errorRecoveryDisabledLanes&O)var G=0;else G=o.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){c=G;e:{var X=o;E=_h;var ae=X.current.memoizedState.isDehydrated;if(ae&&(Fo(X,G).flags|=256),G=Nu(X,G,!1),G!==2){if(Hl&&!ae){X.errorRecoveryDisabledLanes|=O,js|=O,E=4;break e}O=fn,fn=E,O!==null&&Wa(O)}E=G}if(O=!1,E!==2)continue}}if(E===1){Fo(o,0),Ta(o,c,0,!0);break}e:{switch(y=o,E){case 0:case 1:throw Error(i(345));case 4:if((c&4194176)===c){Ta(y,c,kr,!Bi);break e}break;case 2:fn=null;break;case 3:case 5:break;default:throw Error(i(329))}if(y.finishedWork=m,y.finishedLanes=c,(c&62914560)===c&&(O=rn+300-Ne(),10<O)){if(Ta(y,c,kr,!Bi),ht(y,0)!==0)break e;y.timeoutHandle=WD(Ep.bind(null,y,m,fn,Hn,Vn,c,kr,js,qs,Bi,2,-0,0),O);break e}Ep(y,m,fn,Hn,Vn,c,kr,js,qs,Bi,0,-0,0)}}break}while(!0);Yn(o)}function Wa(o){fn===null?fn=o:fn.push.apply(fn,o)}function Ep(o,c,m,y,E,O,G,X,ae,ve,je,$e,Re){var Fe=c.subtreeFlags;if((Fe&8192||(Fe&16785408)===16785408)&&(vg={stylesheets:null,count:0,unsuspend:Zk},Ru(c),c=$k(),c!==null)){o.cancelPendingCommit=c(le.bind(null,o,m,y,E,G,X,ae,1,$e,Re)),Ta(o,O,G,!ve);return}le(o,m,y,E,G,X,ae,je,$e,Re)}function cg(o){for(var c=o;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var y=0;y<m.length;y++){var E=m[y],O=E.getSnapshot;E=E.value;try{if(!Zr(O(),E))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ta(o,c,m,y){c&=~Jc,c&=~js,o.suspendedLanes|=c,o.pingedLanes&=~c,y&&(o.warmLanes|=c),y=o.expirationTimes;for(var E=c;0<E;){var O=31-Pe(E),G=1<<O;y[O]=-1,E&=~G}m!==0&&ou(o,m,c)}function Du(){return(Xt&6)===0?(yn(0),!1):!0}function Xs(){if(on!==null){if(Wn===0)var o=on.return;else o=on,cs=Hs=null,ap(o),bl=null,ah=0,o=on;for(;o!==null;)ug(o.alternate,o),o=o.return;on=null}}function Fo(o,c){o.finishedWork=null,o.finishedLanes=0;var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,Lk(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),Xs(),kn=o,on=m=Gr(o.current,null),Ut=c,Wn=0,On=null,Bi=!1,Cr=Rt(o,c),Hl=!1,qs=kr=Jc=js=vs=ri=0,fn=_h=null,Vn=!1,(c&8)!==0&&(c|=c&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=c;0<y;){var E=31-Pe(y),O=1<<E;c|=o[E],y&=~O}return Uo=c,Zf(),m}function Gl(o,c){nn=null,P.H=zs,c===gl?(c=Nn(),Wn=3):c===Nv?(c=Nn(),Wn=4):Wn=c===_a?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,On=c,on===null&&(ri=1,pp(o,ea(c,o.current)))}function Qc(){var o=P.H;return P.H=zs,o===null?zs:o}function Tp(){var o=P.A;return P.A=Ou,o}function Ah(){ri=4,Bi||(Ut&4194176)!==Ut&&ta.current!==null||(Cr=!0),(vs&134217727)===0&&(js&134217727)===0||kn===null||Ta(kn,Ut,kr,!1)}function Nu(o,c,m){var y=Xt;Xt|=2;var E=Qc(),O=Tp();(kn!==o||Ut!==c)&&(Hn=null,Fo(o,c)),c=!1;var G=ri;e:do try{if(Wn!==0&&on!==null){var X=on,ae=On;switch(Wn){case 8:Xs(),G=6;break e;case 3:case 2:case 6:ta.current===null&&(c=!0);var ve=Wn;if(Wn=0,On=null,B(o,X,ae,ve),m&&Cr){G=0;break e}break;default:ve=Wn,Wn=0,On=null,B(o,X,ae,ve)}}fg(),G=ri;break}catch(je){Gl(o,je)}while(!0);return c&&o.shellSuspendCounter++,cs=Hs=null,Xt=y,P.H=E,P.A=O,on===null&&(kn=null,Ut=0,Zf()),G}function fg(){for(;on!==null;)x(on)}function h(o,c){var m=Xt;Xt|=2;var y=Qc(),E=Tp();kn!==o||Ut!==c?(Hn=null,hn=Ne()+500,Fo(o,c)):Cr=Rt(o,c);e:do try{if(Wn!==0&&on!==null){c=on;var O=On;t:switch(Wn){case 1:Wn=0,On=null,B(o,c,O,1);break;case 2:if(nb(O)){Wn=0,On=null,T(c);break}c=function(){Wn===2&&kn===o&&(Wn=7),Yn(o)},O.then(c,c);break e;case 3:Wn=7;break e;case 4:Wn=5;break e;case 7:nb(O)?(Wn=0,On=null,T(c)):(Wn=0,On=null,B(o,c,O,7));break;case 5:var G=null;switch(on.tag){case 26:G=on.memoizedState;case 5:case 27:var X=on;if(!G||rN(G)){Wn=0,On=null;var ae=X.sibling;if(ae!==null)on=ae;else{var ve=X.return;ve!==null?(on=ve,I(ve)):on=null}break t}}Wn=0,On=null,B(o,c,O,5);break;case 6:Wn=0,On=null,B(o,c,O,6);break;case 8:Xs(),ri=6;break e;default:throw Error(i(462))}}d();break}catch(je){Gl(o,je)}while(!0);return cs=Hs=null,P.H=y,P.A=E,Xt=m,on!==null?0:(kn=null,Ut=0,Zf(),ri)}function d(){for(;on!==null&&!k();)x(on)}function x(o){var c=dh(o.alternate,o,Uo);o.memoizedProps=o.pendingProps,c===null?I(o):on=c}function T(o){var c=o,m=c.alternate;switch(c.tag){case 15:case 0:c=kb(m,c,c.pendingProps,c.type,void 0,Ut);break;case 11:c=kb(m,c,c.pendingProps,c.type.render,c.ref,Ut);break;case 5:ap(c);default:ug(m,c),c=on=Il(c,Uo),c=dh(m,c,Uo)}o.memoizedProps=o.pendingProps,c===null?I(o):on=c}function B(o,c,m,y){cs=Hs=null,ap(c),bl=null,ah=0;var E=c.return;try{if(Y1(o,E,c,m,Ut)){ri=1,pp(o,ea(m,o.current)),on=null;return}}catch(O){if(E!==null)throw on=E,O;ri=1,pp(o,ea(m,o.current)),on=null;return}c.flags&32768?(Sn||y===1?o=!0:Cr||(Ut&536870912)!==0?o=!1:(Bi=o=!0,(y===2||y===3||y===6)&&(y=ta.current,y!==null&&y.tag===13&&(y.flags|=16384))),W(c,o)):I(c)}function I(o){var c=o;do{if((c.flags&32768)!==0){W(c,Bi);return}o=c.return;var m=J1(c.alternate,c,Uo);if(m!==null){on=m;return}if(c=c.sibling,c!==null){on=c;return}on=c=o}while(c!==null);ri===0&&(ri=5)}function W(o,c){do{var m=gi(o.alternate,o);if(m!==null){m.flags&=32767,on=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(o=o.sibling,o!==null)){on=o;return}on=o=m}while(o!==null);ri=6,on=null}function le(o,c,m,y,E,O,G,X,ae,ve){var je=P.T,$e=oe.p;try{oe.p=2,P.T=null,xe(o,c,m,y,$e,E,O,G,X,ae,ve)}finally{P.T=je,oe.p=$e}}function xe(o,c,m,y,E,O,G,X){do at();while(qa!==null);if((Xt&6)!==0)throw Error(i(327));var ae=o.finishedWork;if(y=o.finishedLanes,ae===null)return null;if(o.finishedWork=null,o.finishedLanes=0,ae===o.current)throw Error(i(177));o.callbackNode=null,o.callbackPriority=0,o.cancelPendingCommit=null;var ve=ae.lanes|ae.childLanes;if(ve|=mo,Pf(o,y,ve,O,G,X),o===kn&&(on=kn=null,Ut=0),(ae.subtreeFlags&10256)===0&&(ae.flags&10256)===0||ja||(ja=!0,gs=ve,ui=m,ye(lt,function(){return at(),null})),m=(ae.flags&15990)!==0,(ae.subtreeFlags&15990)!==0||m?(m=P.T,P.T=null,O=oe.p,oe.p=2,G=Xt,Xt|=4,Xc(o,ae),Cu(ae,o),wv(aM,o.containerInfo),ix=!!rM,aM=rM=null,o.current=ae,Wc(o,ae.alternate,ae),_e(),Xt=G,oe.p=O,P.T=m):o.current=ae,ja?(ja=!1,qa=o,Bu=y):Ve(o,ve),ve=o.pendingLanes,ve===0&&(Hi=null),xt(ae.stateNode),Yn(o),c!==null)for(E=o.onRecoverableError,ae=0;ae<c.length;ae++)ve=c[ae],E(ve.value,{componentStack:ve.stack});return(Bu&3)!==0&&at(),ve=o.pendingLanes,(y&4194218)!==0&&(ve&42)!==0?o===Io?Xa++:(Xa=0,Io=o):Xa=0,yn(0),null}function Ve(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,_l(c)))}function at(){if(qa!==null){var o=qa,c=gs;gs=0;var m=ga(Bu),y=P.T,E=oe.p;try{if(oe.p=32>m?32:m,P.T=null,qa===null)var O=!1;else{m=ui,ui=null;var G=qa,X=Bu;if(qa=null,Bu=0,(Xt&6)!==0)throw Error(i(331));var ae=Xt;if(Xt|=4,Yc(G.current),Bo(G,G.current,X,m),Xt=ae,yn(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Tt,G)}catch{}O=!0}return O}finally{oe.p=E,P.T=y,Ve(o,c)}}return!1}function bt(o,c,m){c=ea(m,c),c=Kv(o.stateNode,c,2),o=Ma(o,c,2),o!==null&&(Ai(o,2),Yn(o))}function nt(o,c,m){if(o.tag===3)bt(o,o,m);else for(;c!==null;){if(c.tag===3){bt(c,o,m);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Hi===null||!Hi.has(y))){o=ea(m,o),m=Jv(2),y=Ma(c,m,2),y!==null&&(Hb(m,y,c,o),Ai(y,2),Yn(y));break}}c=c.return}}function Wt(o,c,m){var y=o.pingCache;if(y===null){y=o.pingCache=new Lo;var E=new Set;y.set(c,E)}else E=y.get(c),E===void 0&&(E=new Set,y.set(c,E));E.has(m)||(Hl=!0,E.add(m),o=Ya.bind(null,o,c,m),c.then(o,o))}function Ya(o,c,m){var y=o.pingCache;y!==null&&y.delete(c),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,kn===o&&(Ut&m)===m&&(ri===4||ri===3&&(Ut&62914560)===Ut&&300>Ne()-rn?(Xt&2)===0&&Fo(o,0):Jc|=m,qs===Ut&&(qs=0)),Yn(o)}function $c(o,c){c===0&&(c=Zt()),o=vo(o,c),o!==null&&(Ai(o,c),Yn(o))}function Pu(o){var c=o.memoizedState,m=0;c!==null&&(m=c.retryLane),$c(o,m)}function we(o,c){var m=0;switch(o.tag){case 13:var y=o.stateNode,E=o.memoizedState;E!==null&&(m=E.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(i(314))}y!==null&&y.delete(c),$c(o,m)}function ye(o,c){return rt(o,c)}var Oe=null,et=null,Ot=!1,jn=!1,Ft=!1,ln=0;function Yn(o){o!==et&&o.next===null&&(et===null?Oe=et=o:et=et.next=o),jn=!0,Ot||(Ot=!0,Tk(kl))}function yn(o,c){if(!Ft&&jn){Ft=!0;do for(var m=!1,y=Oe;y!==null;){if(o!==0){var E=y.pendingLanes;if(E===0)var O=0;else{var G=y.suspendedLanes,X=y.pingedLanes;O=(1<<31-Pe(42|o)+1)-1,O&=E&~(G&~X),O=O&201326677?O&201326677|1:O?O|2:0}O!==0&&(m=!0,ID(y,O))}else O=Ut,O=ht(y,y===kn?O:0),(O&3)===0||Rt(y,O)||(m=!0,ID(y,O));y=y.next}while(m);Ft=!1}}function kl(){jn=Ot=!1;var o=0;ln!==0&&(Pk()&&(o=ln),ln=0);for(var c=Ne(),m=null,y=Oe;y!==null;){var E=y.next,O=Wb(y,c);O===0?(y.next=null,m===null?Oe=E:m.next=E,E===null&&(et=m)):(m=y,(o!==0||(O&3)!==0)&&(jn=!0)),y=E}yn(o)}function Wb(o,c){for(var m=o.suspendedLanes,y=o.pingedLanes,E=o.expirationTimes,O=o.pendingLanes&-62914561;0<O;){var G=31-Pe(O),X=1<<G,ae=E[G];ae===-1?((X&m)===0||(X&y)!==0)&&(E[G]=un(X,c)):ae<=c&&(o.expiredLanes|=X),O&=~X}if(c=kn,m=Ut,m=ht(o,o===c?m:0),y=o.callbackNode,m===0||o===c&&Wn===2||o.cancelPendingCommit!==null)return y!==null&&y!==null&&$(y),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||Rt(o,m)){if(c=m&-m,c===o.callbackPriority)return c;switch(y!==null&&$(y),ga(m)){case 2:case 8:m=vt;break;case 32:m=lt;break;case 268435456:m=Jt;break;default:m=lt}return y=UD.bind(null,o),m=rt(m,y),o.callbackPriority=c,o.callbackNode=m,c}return y!==null&&y!==null&&$(y),o.callbackPriority=2,o.callbackNode=null,2}function UD(o,c){var m=o.callbackNode;if(at()&&o.callbackNode!==m)return null;var y=Ut;return y=ht(o,o===kn?y:0),y===0?null:(Zc(o,y,c),Wb(o,Ne()),o.callbackNode!=null&&o.callbackNode===m?UD.bind(null,o):null)}function ID(o,c){if(at())return null;Zc(o,c,!0)}function Tk(o){Uk(function(){(Xt&6)!==0?rt(He,o):o()})}function Z1(){return ln===0&&(ln=In()),ln}function FD(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:If(""+o)}function zD(o,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,o.id&&m.setAttribute("form",o.id),c.parentNode.insertBefore(m,c),o=new FormData(o),m.parentNode.removeChild(m),o}function wk(o,c,m,y,E){if(c==="submit"&&m&&m.stateNode===E){var O=FD((E[tn]||null).action),G=y.submitter;G&&(c=(c=G[tn]||null)?FD(c.formAction):G.getAttribute("formAction"),c!==null&&(O=c,G=null));var X=new Ac("action","action",null,y,E);o.push({event:X,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(ln!==0){var ae=G?zD(E,G):new FormData(E);jv(m,{pending:!0,data:ae,method:E.method,action:O},null,ae)}}else typeof O=="function"&&(X.preventDefault(),ae=G?zD(E,G):new FormData(E),jv(m,{pending:!0,data:ae,method:E.method,action:O},O,ae))},currentTarget:E}]})}}for(var Q1=0;Q1<po.length;Q1++){var $1=po[Q1],Ck=$1.toLowerCase(),Rk=$1[0].toUpperCase()+$1.slice(1);Ua(Ck,"on"+Rk)}Ua(Ov,"onAnimationEnd"),Ua($r,"onAnimationIteration"),Ua(Bv,"onAnimationStart"),Ua("dblclick","onDoubleClick"),Ua("focusin","onFocus"),Ua("focusout","onBlur"),Ua(ho,"onTransitionRun"),Ua(Bc,"onTransitionStart"),Ua(dl,"onTransitionCancel"),Ua(Qd,"onTransitionEnd"),yt("onMouseEnter",["mouseout","mouseover"]),yt("onMouseLeave",["mouseout","mouseover"]),yt("onPointerEnter",["pointerout","pointerover"]),yt("onPointerLeave",["pointerout","pointerover"]),ot("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ot("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ot("onBeforeInput",["compositionend","keypress","textInput","paste"]),ot("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ot("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ot("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ok=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hg));function HD(o,c){c=(c&4)!==0;for(var m=0;m<o.length;m++){var y=o[m],E=y.event;y=y.listeners;e:{var O=void 0;if(c)for(var G=y.length-1;0<=G;G--){var X=y[G],ae=X.instance,ve=X.currentTarget;if(X=X.listener,ae!==O&&E.isPropagationStopped())break e;O=X,E.currentTarget=ve;try{O(E)}catch(je){dp(je)}E.currentTarget=null,O=ae}else for(G=0;G<y.length;G++){if(X=y[G],ae=X.instance,ve=X.currentTarget,X=X.listener,ae!==O&&E.isPropagationStopped())break e;O=X,E.currentTarget=ve;try{O(E)}catch(je){dp(je)}E.currentTarget=null,O=ae}}}}function En(o,c){var m=c[sl];m===void 0&&(m=c[sl]=new Set);var y=o+"__bubble";m.has(y)||(GD(c,o,2,!1),m.add(y))}function eM(o,c,m){var y=0;c&&(y|=4),GD(m,o,y,c)}var Yb="_reactListening"+Math.random().toString(36).slice(2);function tM(o){if(!o[Yb]){o[Yb]=!0,ge.forEach(function(m){m!=="selectionchange"&&(Ok.has(m)||eM(m,!1,o),eM(m,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Yb]||(c[Yb]=!0,eM("selectionchange",!1,c))}}function GD(o,c,m,y){switch(cN(c)){case 2:var E=nV;break;case 8:E=iV;break;default:E=pM}m=E.bind(null,c,m,o),E=void 0,!zf||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),y?E!==void 0?o.addEventListener(c,m,{capture:!0,passive:E}):o.addEventListener(c,m,!0):E!==void 0?o.addEventListener(c,m,{passive:E}):o.addEventListener(c,m,!1)}function nM(o,c,m,y,E){var O=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var G=y.tag;if(G===3||G===4){var X=y.stateNode.containerInfo;if(X===E||X.nodeType===8&&X.parentNode===E)break;if(G===4)for(G=y.return;G!==null;){var ae=G.tag;if((ae===3||ae===4)&&(ae=G.stateNode.containerInfo,ae===E||ae.nodeType===8&&ae.parentNode===E))return;G=G.return}for(;X!==null;){if(G=as(X),G===null)return;if(ae=G.tag,ae===5||ae===6||ae===26||ae===27){y=O=G;continue e}X=X.parentNode}}y=y.return}hv(function(){var ve=O,je=Ff(m),$e=[];e:{var Re=$d.get(o);if(Re!==void 0){var Fe=Ac,Bt=o;switch(o){case"keypress":if(ol(m)===0)break e;case"keydown":case"keyup":Fe=gv;break;case"focusin":Bt="focus",Fe=kd;break;case"focusout":Bt="blur",Fe=kd;break;case"beforeblur":case"afterblur":Fe=kd;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=F1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=bv;break;case Ov:case $r:case Bv:Fe=H0;break;case Qd:Fe=uo;break;case"scroll":case"scrollend":Fe=I0;break;case"wheel":Fe=z1;break;case"copy":case"cut":case"paste":Fe=k0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=jd;break;case"toggle":case"beforetoggle":Fe=ul}var Yt=(c&4)!==0,ki=!Yt&&(o==="scroll"||o==="scrollend"),be=Yt?Re!==null?Re+"Capture":null:Re;Yt=[];for(var me=ve,Me;me!==null;){var Ke=me;if(Me=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||Me===null||be===null||(Ke=bc(me,be),Ke!=null&&Yt.push(dg(me,Ke,Me))),ki)break;me=me.return}0<Yt.length&&(Re=new Fe(Re,Bt,null,m,je),$e.push({event:Re,listeners:Yt}))}}if((c&7)===0){e:{if(Re=o==="mouseover"||o==="pointerover",Fe=o==="mouseout"||o==="pointerout",Re&&m!==Fd&&(Bt=m.relatedTarget||m.fromElement)&&(as(Bt)||Bt[rs]))break e;if((Fe||Re)&&(Re=je.window===je?je:(Re=je.ownerDocument)?Re.defaultView||Re.parentWindow:window,Fe?(Bt=m.relatedTarget||m.toElement,Fe=ve,Bt=Bt?as(Bt):null,Bt!==null&&(ki=ie(Bt),Yt=Bt.tag,Bt!==ki||Yt!==5&&Yt!==27&&Yt!==6)&&(Bt=null)):(Fe=null,Bt=ve),Fe!==Bt)){if(Yt=mv,Ke="onMouseLeave",be="onMouseEnter",me="mouse",(o==="pointerout"||o==="pointerover")&&(Yt=jd,Ke="onPointerLeave",be="onPointerEnter",me="pointer"),ki=Fe==null?Re:de(Fe),Me=Bt==null?Re:de(Bt),Re=new Yt(Ke,me+"leave",Fe,m,je),Re.target=ki,Re.relatedTarget=Me,Ke=null,as(je)===ve&&(Yt=new Yt(be,me+"enter",Bt,m,je),Yt.target=Me,Yt.relatedTarget=ki,Ke=Yt),ki=Ke,Fe&&Bt)t:{for(Yt=Fe,be=Bt,me=0,Me=Yt;Me;Me=wp(Me))me++;for(Me=0,Ke=be;Ke;Ke=wp(Ke))Me++;for(;0<me-Me;)Yt=wp(Yt),me--;for(;0<Me-me;)be=wp(be),Me--;for(;me--;){if(Yt===be||be!==null&&Yt===be.alternate)break t;Yt=wp(Yt),be=wp(be)}Yt=null}else Yt=null;Fe!==null&&kD($e,Re,Fe,Yt,!1),Bt!==null&&ki!==null&&kD($e,ki,Bt,Yt,!0)}}e:{if(Re=ve?de(ve):window,Fe=Re.nodeName&&Re.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Re.type==="file")var wt=Xd;else if(Sv(Re))if(Wd)wt=hl;else{wt=Q0;var bn=H1}else Fe=Re.nodeName,!Fe||Fe.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?ve&&Uf(ve.elementType)&&(wt=Xd):wt=Kf;if(wt&&(wt=wt(o,ve))){Jr($e,wt,m,je);break e}bn&&bn(o,Re,ve),o==="focusout"&&ve&&Re.type==="number"&&ve.memoizedProps.value!=null&&ar(Re,"number",Re.value)}switch(bn=ve?de(ve):window,o){case"focusin":(Sv(bn)||bn.contentEditable==="true")&&(du=bn,Cv=ve,Oc=null);break;case"focusout":Oc=Cv=du=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,La($e,m,je);break;case"selectionchange":if(Kd)break;case"keydown":case"keyup":La($e,m,je)}var Pt;if(Vf)e:{switch(o){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else fl?Xf(o,m)&&(kt="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(kt="onCompositionStart");kt&&(qf&&m.locale!=="ko"&&(fl||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&fl&&(Pt=pv()):(oo=je,dv="value"in oo?oo.value:oo.textContent,fl=!0)),bn=Kb(ve,kt),0<bn.length&&(kt=new Vd(kt,o,null,m,je),$e.push({event:kt,listeners:bn}),Pt?kt.data=Pt:(Pt=_v(m),Pt!==null&&(kt.data=Pt)))),(Pt=jf?Wf(o,m):Av(o,m))&&(kt=Kb(ve,"onBeforeInput"),0<kt.length&&(bn=new Vd("onBeforeInput","beforeinput",null,m,je),$e.push({event:bn,listeners:kt}),bn.data=Pt)),wk($e,o,ve,m,je)}HD($e,c)})}function dg(o,c,m){return{instance:o,listener:c,currentTarget:m}}function Kb(o,c){for(var m=c+"Capture",y=[];o!==null;){var E=o,O=E.stateNode;E=E.tag,E!==5&&E!==26&&E!==27||O===null||(E=bc(o,m),E!=null&&y.unshift(dg(o,E,O)),E=bc(o,c),E!=null&&y.push(dg(o,E,O))),o=o.return}return y}function wp(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function kD(o,c,m,y,E){for(var O=c._reactName,G=[];m!==null&&m!==y;){var X=m,ae=X.alternate,ve=X.stateNode;if(X=X.tag,ae!==null&&ae===y)break;X!==5&&X!==26&&X!==27||ve===null||(ae=ve,E?(ve=bc(m,O),ve!=null&&G.unshift(dg(m,ve,ae))):E||(ve=bc(m,O),ve!=null&&G.push(dg(m,ve,ae)))),m=m.return}G.length!==0&&o.push({event:c,listeners:G})}var Bk=/\r\n?/g,Dk=/\u0000|\uFFFD/g;function VD(o){return(typeof o=="string"?o:""+o).replace(Bk,`
`).replace(Dk,"")}function jD(o,c){return c=VD(c),VD(o)===c}function Jb(){}function ei(o,c,m,y,E,O){switch(m){case"children":typeof y=="string"?c==="body"||c==="textarea"&&y===""||Lr(o,y):(typeof y=="number"||typeof y=="bigint")&&c!=="body"&&Lr(o,""+y);break;case"className":Zn(o,"class",y);break;case"tabIndex":Zn(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(o,m,y);break;case"style":fv(o,y,O);break;case"data":if(c!=="object"){Zn(o,"data",y);break}case"src":case"href":if(y===""&&(c!=="a"||m!=="href")){o.removeAttribute(m);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(m);break}y=If(""+y),o.setAttribute(m,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(m==="formAction"?(c!=="input"&&ei(o,c,"name",E.name,E,null),ei(o,c,"formEncType",E.formEncType,E,null),ei(o,c,"formMethod",E.formMethod,E,null),ei(o,c,"formTarget",E.formTarget,E,null)):(ei(o,c,"encType",E.encType,E,null),ei(o,c,"method",E.method,E,null),ei(o,c,"target",E.target,E,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(m);break}y=If(""+y),o.setAttribute(m,y);break;case"onClick":y!=null&&(o.onclick=Jb);break;case"onScroll":y!=null&&En("scroll",o);break;case"onScrollEnd":y!=null&&En("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(m=y.__html,m!=null){if(E.children!=null)throw Error(i(60));o.innerHTML=m}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}m=If(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(m,""+y):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":y===!0?o.setAttribute(m,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(m,y):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(m,y):o.removeAttribute(m);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(m):o.setAttribute(m,y);break;case"popover":En("beforetoggle",o),En("toggle",o),vn(o,"popover",y);break;case"xlinkActuate":_n(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":_n(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":_n(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":_n(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":_n(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":_n(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":_n(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":_n(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":_n(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":vn(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=L0.get(m)||m,vn(o,m,y))}}function iM(o,c,m,y,E,O){switch(m){case"style":fv(o,y,O);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(m=y.__html,m!=null){if(E.children!=null)throw Error(i(60));o.innerHTML=m}}break;case"children":typeof y=="string"?Lr(o,y):(typeof y=="number"||typeof y=="bigint")&&Lr(o,""+y);break;case"onScroll":y!=null&&En("scroll",o);break;case"onScrollEnd":y!=null&&En("scrollend",o);break;case"onClick":y!=null&&(o.onclick=Jb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qe.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(E=m.endsWith("Capture"),c=m.slice(2,E?m.length-7:void 0),O=o[tn]||null,O=O!=null?O[m]:null,typeof O=="function"&&o.removeEventListener(c,O,E),typeof y=="function")){typeof O!="function"&&O!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(c,y,E);break e}m in o?o[m]=y:y===!0?o.setAttribute(m,""):vn(o,m,y)}}}function jr(o,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":En("error",o),En("load",o);var y=!1,E=!1,O;for(O in m)if(m.hasOwnProperty(O)){var G=m[O];if(G!=null)switch(O){case"src":y=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:ei(o,c,O,G,m,null)}}E&&ei(o,c,"srcSet",m.srcSet,m,null),y&&ei(o,c,"src",m.src,m,null);return;case"input":En("invalid",o);var X=O=G=E=null,ae=null,ve=null;for(y in m)if(m.hasOwnProperty(y)){var je=m[y];if(je!=null)switch(y){case"name":E=je;break;case"type":G=je;break;case"checked":ae=je;break;case"defaultChecked":ve=je;break;case"value":O=je;break;case"defaultValue":X=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(i(137,c));break;default:ei(o,c,y,je,m,null)}}xr(o,O,X,ae,ve,G,E,!1),gn(o);return;case"select":En("invalid",o),y=G=O=null;for(E in m)if(m.hasOwnProperty(E)&&(X=m[E],X!=null))switch(E){case"value":O=X;break;case"defaultValue":G=X;break;case"multiple":y=X;default:ei(o,c,E,X,m,null)}c=O,m=G,o.multiple=!!y,c!=null?mi(o,!!y,c,!1):m!=null&&mi(o,!!y,m,!0);return;case"textarea":En("invalid",o),O=E=y=null;for(G in m)if(m.hasOwnProperty(G)&&(X=m[G],X!=null))switch(G){case"value":y=X;break;case"defaultValue":E=X;break;case"children":O=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(91));break;default:ei(o,c,G,X,m,null)}ss(o,y,E,O),gn(o);return;case"option":for(ae in m)if(m.hasOwnProperty(ae)&&(y=m[ae],y!=null))switch(ae){case"selected":o.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:ei(o,c,ae,y,m,null)}return;case"dialog":En("cancel",o),En("close",o);break;case"iframe":case"object":En("load",o);break;case"video":case"audio":for(y=0;y<hg.length;y++)En(hg[y],o);break;case"image":En("error",o),En("load",o);break;case"details":En("toggle",o);break;case"embed":case"source":case"link":En("error",o),En("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in m)if(m.hasOwnProperty(ve)&&(y=m[ve],y!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:ei(o,c,ve,y,m,null)}return;default:if(Uf(c)){for(je in m)m.hasOwnProperty(je)&&(y=m[je],y!==void 0&&iM(o,c,je,y,m,void 0));return}}for(X in m)m.hasOwnProperty(X)&&(y=m[X],y!=null&&ei(o,c,X,y,m,null))}function Nk(o,c,m,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,O=null,G=null,X=null,ae=null,ve=null,je=null;for(Fe in m){var $e=m[Fe];if(m.hasOwnProperty(Fe)&&$e!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":ae=$e;default:y.hasOwnProperty(Fe)||ei(o,c,Fe,null,y,$e)}}for(var Re in y){var Fe=y[Re];if($e=m[Re],y.hasOwnProperty(Re)&&(Fe!=null||$e!=null))switch(Re){case"type":O=Fe;break;case"name":E=Fe;break;case"checked":ve=Fe;break;case"defaultChecked":je=Fe;break;case"value":G=Fe;break;case"defaultValue":X=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(i(137,c));break;default:Fe!==$e&&ei(o,c,Re,Fe,y,$e)}}Fn(o,G,X,ae,ve,je,O,E);return;case"select":Fe=G=X=Re=null;for(O in m)if(ae=m[O],m.hasOwnProperty(O)&&ae!=null)switch(O){case"value":break;case"multiple":Fe=ae;default:y.hasOwnProperty(O)||ei(o,c,O,null,y,ae)}for(E in y)if(O=y[E],ae=m[E],y.hasOwnProperty(E)&&(O!=null||ae!=null))switch(E){case"value":Re=O;break;case"defaultValue":X=O;break;case"multiple":G=O;default:O!==ae&&ei(o,c,E,O,y,ae)}c=X,m=G,y=Fe,Re!=null?mi(o,!!m,Re,!1):!!y!=!!m&&(c!=null?mi(o,!!m,c,!0):mi(o,!!m,m?[]:"",!1));return;case"textarea":Fe=Re=null;for(X in m)if(E=m[X],m.hasOwnProperty(X)&&E!=null&&!y.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:ei(o,c,X,null,y,E)}for(G in y)if(E=y[G],O=m[G],y.hasOwnProperty(G)&&(E!=null||O!=null))switch(G){case"value":Re=E;break;case"defaultValue":Fe=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:E!==O&&ei(o,c,G,E,y,O)}Qi(o,Re,Fe);return;case"option":for(var Bt in m)if(Re=m[Bt],m.hasOwnProperty(Bt)&&Re!=null&&!y.hasOwnProperty(Bt))switch(Bt){case"selected":o.selected=!1;break;default:ei(o,c,Bt,null,y,Re)}for(ae in y)if(Re=y[ae],Fe=m[ae],y.hasOwnProperty(ae)&&Re!==Fe&&(Re!=null||Fe!=null))switch(ae){case"selected":o.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:ei(o,c,ae,Re,y,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in m)Re=m[Yt],m.hasOwnProperty(Yt)&&Re!=null&&!y.hasOwnProperty(Yt)&&ei(o,c,Yt,null,y,Re);for(ve in y)if(Re=y[ve],Fe=m[ve],y.hasOwnProperty(ve)&&Re!==Fe&&(Re!=null||Fe!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,c));break;default:ei(o,c,ve,Re,y,Fe)}return;default:if(Uf(c)){for(var ki in m)Re=m[ki],m.hasOwnProperty(ki)&&Re!==void 0&&!y.hasOwnProperty(ki)&&iM(o,c,ki,void 0,y,Re);for(je in y)Re=y[je],Fe=m[je],!y.hasOwnProperty(je)||Re===Fe||Re===void 0&&Fe===void 0||iM(o,c,je,Re,y,Fe);return}}for(var be in m)Re=m[be],m.hasOwnProperty(be)&&Re!=null&&!y.hasOwnProperty(be)&&ei(o,c,be,null,y,Re);for($e in y)Re=y[$e],Fe=m[$e],!y.hasOwnProperty($e)||Re===Fe||Re==null&&Fe==null||ei(o,c,$e,Re,y,Fe)}var rM=null,aM=null;function Zb(o){return o.nodeType===9?o:o.ownerDocument}function qD(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XD(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function sM(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var oM=null;function Pk(){var o=window.event;return o&&o.type==="popstate"?o===oM?!1:(oM=o,!0):(oM=null,!1)}var WD=typeof setTimeout=="function"?setTimeout:void 0,Lk=typeof clearTimeout=="function"?clearTimeout:void 0,YD=typeof Promise=="function"?Promise:void 0,Uk=typeof queueMicrotask=="function"?queueMicrotask:typeof YD<"u"?function(o){return YD.resolve(null).then(o).catch(Ik)}:WD;function Ik(o){setTimeout(function(){throw o})}function lM(o,c){var m=c,y=0;do{var E=m.nextSibling;if(o.removeChild(m),E&&E.nodeType===8)if(m=E.data,m==="/$"){if(y===0){o.removeChild(E),_g(c);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=E}while(m);_g(c)}function uM(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":uM(m),lu(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function Fk(o,c,m,y){for(;o.nodeType===1;){var E=m;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[so])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(O=o.getAttribute("rel"),O==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(O!==E.rel||o.getAttribute("href")!==(E.href==null?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(O=o.getAttribute("src"),(O!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&O&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var O=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===O)return o}else return o;if(o=zo(o.nextSibling),o===null)break}return null}function zk(o,c,m){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=zo(o.nextSibling),o===null))return null;return o}function zo(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}function KD(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return o;c--}else m==="/$"&&c++}o=o.previousSibling}return null}function JD(o,c,m){switch(c=Zb(m),o){case"html":if(o=c.documentElement,!o)throw Error(i(452));return o;case"head":if(o=c.head,!o)throw Error(i(453));return o;case"body":if(o=c.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}var Ws=new Map,ZD=new Set;function Qb(o){return typeof o.getRootNode=="function"?o.getRootNode():o.ownerDocument}var Lu=oe.d;oe.d={f:Hk,r:Gk,D:kk,C:Vk,L:jk,m:qk,X:Wk,S:Xk,M:Yk};function Hk(){var o=Lu.f(),c=Du();return o||c}function Gk(o){var c=j(o);c!==null&&c.tag===5&&c.type==="form"?Cb(c):Lu.r(o)}var Cp=typeof document>"u"?null:document;function QD(o,c,m){var y=Cp;if(y&&typeof c=="string"&&c){var E=Xi(c);E='link[rel="'+o+'"][href="'+E+'"]',typeof m=="string"&&(E+='[crossorigin="'+m+'"]'),ZD.has(E)||(ZD.add(E),o={rel:o,crossOrigin:m,href:c},y.querySelector(E)===null&&(c=y.createElement("link"),jr(c,"link",o),Ae(c),y.head.appendChild(c)))}}function kk(o){Lu.D(o),QD("dns-prefetch",o,null)}function Vk(o,c){Lu.C(o,c),QD("preconnect",o,c)}function jk(o,c,m){Lu.L(o,c,m);var y=Cp;if(y&&o&&c){var E='link[rel="preload"][as="'+Xi(c)+'"]';c==="image"&&m&&m.imageSrcSet?(E+='[imagesrcset="'+Xi(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(E+='[imagesizes="'+Xi(m.imageSizes)+'"]')):E+='[href="'+Xi(o)+'"]';var O=E;switch(c){case"style":O=Rp(o);break;case"script":O=Op(o)}Ws.has(O)||(o=U({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:o,as:c},m),Ws.set(O,o),y.querySelector(E)!==null||c==="style"&&y.querySelector(pg(O))||c==="script"&&y.querySelector(mg(O))||(c=y.createElement("link"),jr(c,"link",o),Ae(c),y.head.appendChild(c)))}}function qk(o,c){Lu.m(o,c);var m=Cp;if(m&&o){var y=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+Xi(y)+'"][href="'+Xi(o)+'"]',O=E;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=Op(o)}if(!Ws.has(O)&&(o=U({rel:"modulepreload",href:o},c),Ws.set(O,o),m.querySelector(E)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(mg(O)))return}y=m.createElement("link"),jr(y,"link",o),Ae(y),m.head.appendChild(y)}}}function Xk(o,c,m){Lu.S(o,c,m);var y=Cp;if(y&&o){var E=Ee(y).hoistableStyles,O=Rp(o);c=c||"default";var G=E.get(O);if(!G){var X={loading:0,preload:null};if(G=y.querySelector(pg(O)))X.loading=5;else{o=U({rel:"stylesheet",href:o,"data-precedence":c},m),(m=Ws.get(O))&&cM(o,m);var ae=G=y.createElement("link");Ae(ae),jr(ae,"link",o),ae._p=new Promise(function(ve,je){ae.onload=ve,ae.onerror=je}),ae.addEventListener("load",function(){X.loading|=1}),ae.addEventListener("error",function(){X.loading|=2}),X.loading|=4,$b(G,c,y)}G={type:"stylesheet",instance:G,count:1,state:X},E.set(O,G)}}}function Wk(o,c){Lu.X(o,c);var m=Cp;if(m&&o){var y=Ee(m).hoistableScripts,E=Op(o),O=y.get(E);O||(O=m.querySelector(mg(E)),O||(o=U({src:o,async:!0},c),(c=Ws.get(E))&&fM(o,c),O=m.createElement("script"),Ae(O),jr(O,"link",o),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},y.set(E,O))}}function Yk(o,c){Lu.M(o,c);var m=Cp;if(m&&o){var y=Ee(m).hoistableScripts,E=Op(o),O=y.get(E);O||(O=m.querySelector(mg(E)),O||(o=U({src:o,async:!0,type:"module"},c),(c=Ws.get(E))&&fM(o,c),O=m.createElement("script"),Ae(O),jr(O,"link",o),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},y.set(E,O))}}function $D(o,c,m,y){var E=(E=Ce.current)?Qb(E):null;if(!E)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=Rp(m.href),m=Ee(E).hoistableStyles,y=m.get(c),y||(y={type:"style",instance:null,count:0,state:null},m.set(c,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=Rp(m.href);var O=Ee(E).hoistableStyles,G=O.get(o);if(G||(E=E.ownerDocument||E,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(o,G),(O=E.querySelector(pg(o)))&&!O._p&&(G.instance=O,G.state.loading=5),Ws.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Ws.set(o,m),O||Kk(E,o,m,G.state))),c&&y===null)throw Error(i(528,""));return G}if(c&&y!==null)throw Error(i(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Op(m),m=Ee(E).hoistableScripts,y=m.get(c),y||(y={type:"script",instance:null,count:0,state:null},m.set(c,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function Rp(o){return'href="'+Xi(o)+'"'}function pg(o){return'link[rel="stylesheet"]['+o+"]"}function eN(o){return U({},o,{"data-precedence":o.precedence,precedence:null})}function Kk(o,c,m,y){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?y.loading=1:(c=o.createElement("link"),y.preload=c,c.addEventListener("load",function(){return y.loading|=1}),c.addEventListener("error",function(){return y.loading|=2}),jr(c,"link",m),Ae(c),o.head.appendChild(c))}function Op(o){return'[src="'+Xi(o)+'"]'}function mg(o){return"script[async]"+o}function tN(o,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var y=o.querySelector('style[data-href~="'+Xi(m.href)+'"]');if(y)return c.instance=y,Ae(y),y;var E=U({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),Ae(y),jr(y,"style",E),$b(y,m.precedence,o),c.instance=y;case"stylesheet":E=Rp(m.href);var O=o.querySelector(pg(E));if(O)return c.state.loading|=4,c.instance=O,Ae(O),O;y=eN(m),(E=Ws.get(E))&&cM(y,E),O=(o.ownerDocument||o).createElement("link"),Ae(O);var G=O;return G._p=new Promise(function(X,ae){G.onload=X,G.onerror=ae}),jr(O,"link",y),c.state.loading|=4,$b(O,m.precedence,o),c.instance=O;case"script":return O=Op(m.src),(E=o.querySelector(mg(O)))?(c.instance=E,Ae(E),E):(y=m,(E=Ws.get(O))&&(y=U({},m),fM(y,E)),o=o.ownerDocument||o,E=o.createElement("script"),Ae(E),jr(E,"link",y),o.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(y=c.instance,c.state.loading|=4,$b(y,m.precedence,o));return c.instance}function $b(o,c,m){for(var y=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=y.length?y[y.length-1]:null,O=E,G=0;G<y.length;G++){var X=y[G];if(X.dataset.precedence===c)O=X;else if(O!==E)break}O?O.parentNode.insertBefore(o,O.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(o,c.firstChild))}function cM(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function fM(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var ex=null;function nN(o,c,m){if(ex===null){var y=new Map,E=ex=new Map;E.set(m,y)}else E=ex,y=E.get(m),y||(y=new Map,E.set(m,y));if(y.has(o))return y;for(y.set(o,null),m=m.getElementsByTagName(o),E=0;E<m.length;E++){var O=m[E];if(!(O[so]||O[pi]||o==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var G=O.getAttribute(c)||"";G=o+G;var X=y.get(G);X?X.push(O):y.set(G,[O])}}return y}function iN(o,c,m){o=o.ownerDocument||o,o.head.insertBefore(m,c==="title"?o.querySelector("head > title"):null)}function Jk(o,c,m){if(m===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function rN(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var vg=null;function Zk(){}function Qk(o,c,m){if(vg===null)throw Error(i(475));var y=vg;if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var E=Rp(m.href),O=o.querySelector(pg(E));if(O){o=O._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(y.count++,y=tx.bind(y),o.then(y,y)),c.state.loading|=4,c.instance=O,Ae(O);return}O=o.ownerDocument||o,m=eN(m),(E=Ws.get(E))&&cM(m,E),O=O.createElement("link"),Ae(O);var G=O;G._p=new Promise(function(X,ae){G.onload=X,G.onerror=ae}),jr(O,"link",m),c.instance=O}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(y.count++,c=tx.bind(y),o.addEventListener("load",c),o.addEventListener("error",c))}}function $k(){if(vg===null)throw Error(i(475));var o=vg;return o.stylesheets&&o.count===0&&hM(o,o.stylesheets),0<o.count?function(c){var m=setTimeout(function(){if(o.stylesheets&&hM(o,o.stylesheets),o.unsuspend){var y=o.unsuspend;o.unsuspend=null,y()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(m)}}:null}function tx(){if(this.count--,this.count===0){if(this.stylesheets)hM(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var nx=null;function hM(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,nx=new Map,c.forEach(eV,o),nx=null,tx.call(o))}function eV(o,c){if(!(c.state.loading&4)){var m=nx.get(o);if(m)var y=m.get(null);else{m=new Map,nx.set(o,m);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<E.length;O++){var G=E[O];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(m.set(G.dataset.precedence,G),y=G)}y&&m.set(null,y)}E=c.instance,G=E.getAttribute("data-precedence"),O=m.get(G)||y,O===y&&m.set(null,E),m.set(G,E),this.count++,y=tx.bind(this),E.addEventListener("load",y),E.addEventListener("error",y),O?O.parentNode.insertBefore(E,O.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),c.state.loading|=4}}var gg={$$typeof:b,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function tV(o,c,m,y,E,O,G,X){this.tag=1,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=y,this.onUncaughtError=E,this.onCaughtError=O,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function aN(o,c,m,y,E,O,G,X,ae,ve,je,$e){return o=new tV(o,c,m,G,X,ae,ve,$e),c=1,O===!0&&(c|=24),O=Oi(3,null,null,c),o.current=O,O.stateNode=o,c=Lv(),c.refCount++,o.pooledCache=c,c.refCount++,O.memoizedState={element:y,isDehydrated:m,cache:c},zr(O),o}function sN(o){return o?(o=pl,o):pl}function oN(o,c,m,y,E,O){E=sN(E),y.context===null?y.context=E:y.pendingContext=E,y=Sa(c),y.payload={element:m},O=O===void 0?null:O,O!==null&&(y.callback=O),m=Ma(o,y,c),m!==null&&(Gi(m,o,c),Dl(m,o,c))}function lN(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<c?m:c}}function dM(o,c){lN(o,c),(o=o.alternate)&&lN(o,c)}function uN(o){if(o.tag===13){var c=vo(o,67108864);c!==null&&Gi(c,o,67108864),dM(o,67108864)}}var ix=!0;function nV(o,c,m,y){var E=P.T;P.T=null;var O=oe.p;try{oe.p=2,pM(o,c,m,y)}finally{oe.p=O,P.T=E}}function iV(o,c,m,y){var E=P.T;P.T=null;var O=oe.p;try{oe.p=8,pM(o,c,m,y)}finally{oe.p=O,P.T=E}}function pM(o,c,m,y){if(ix){var E=mM(y);if(E===null)nM(o,c,y,rx,m),fN(o,y);else if(aV(E,o,c,m,y))y.stopPropagation();else if(fN(o,y),c&4&&-1<rV.indexOf(o)){for(;E!==null;){var O=j(E);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var G=ct(O.pendingLanes);if(G!==0){var X=O;for(X.pendingLanes|=2,X.entangledLanes|=2;G;){var ae=1<<31-Pe(G);X.entanglements[1]|=ae,G&=~ae}Yn(O),(Xt&6)===0&&(hn=Ne()+500,yn(0))}}break;case 13:X=vo(O,2),X!==null&&Gi(X,O,2),Du(),dM(O,2)}if(O=mM(y),O===null&&nM(o,c,y,rx,m),O===E)break;E=O}E!==null&&y.stopPropagation()}else nM(o,c,y,null,m)}}function mM(o){return o=Ff(o),vM(o)}var rx=null;function vM(o){if(rx=null,o=as(o),o!==null){var c=ie(o);if(c===null)o=null;else{var m=c.tag;if(m===13){if(o=he(c),o!==null)return o;o=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return rx=o,null}function cN(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case He:return 2;case vt:return 8;case lt:case _t:return 32;case Jt:return 268435456;default:return 32}default:return 32}}var gM=!1,ef=null,tf=null,nf=null,yg=new Map,bg=new Map,rf=[],rV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fN(o,c){switch(o){case"focusin":case"focusout":ef=null;break;case"dragenter":case"dragleave":tf=null;break;case"mouseover":case"mouseout":nf=null;break;case"pointerover":case"pointerout":yg.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":bg.delete(c.pointerId)}}function xg(o,c,m,y,E,O){return o===null||o.nativeEvent!==O?(o={blockedOn:c,domEventName:m,eventSystemFlags:y,nativeEvent:O,targetContainers:[E]},c!==null&&(c=j(c),c!==null&&uN(c)),o):(o.eventSystemFlags|=y,c=o.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),o)}function aV(o,c,m,y,E){switch(c){case"focusin":return ef=xg(ef,o,c,m,y,E),!0;case"dragenter":return tf=xg(tf,o,c,m,y,E),!0;case"mouseover":return nf=xg(nf,o,c,m,y,E),!0;case"pointerover":var O=E.pointerId;return yg.set(O,xg(yg.get(O)||null,o,c,m,y,E)),!0;case"gotpointercapture":return O=E.pointerId,bg.set(O,xg(bg.get(O)||null,o,c,m,y,E)),!0}return!1}function hN(o){var c=as(o.target);if(c!==null){var m=ie(c);if(m!==null){if(c=m.tag,c===13){if(c=he(m),c!==null){o.blockedOn=c,is(o.priority,function(){if(m.tag===13){var y=Vr(),E=vo(m,y);E!==null&&Gi(E,m,y),dM(m,y)}});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ax(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var m=mM(o.nativeEvent);if(m===null){m=o.nativeEvent;var y=new m.constructor(m.type,m);Fd=y,m.target.dispatchEvent(y),Fd=null}else return c=j(m),c!==null&&uN(c),o.blockedOn=m,!1;c.shift()}return!0}function dN(o,c,m){ax(o)&&m.delete(c)}function sV(){gM=!1,ef!==null&&ax(ef)&&(ef=null),tf!==null&&ax(tf)&&(tf=null),nf!==null&&ax(nf)&&(nf=null),yg.forEach(dN),bg.forEach(dN)}function sx(o,c){o.blockedOn===c&&(o.blockedOn=null,gM||(gM=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sV)))}var ox=null;function pN(o){ox!==o&&(ox=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ox===o&&(ox=null);for(var c=0;c<o.length;c+=3){var m=o[c],y=o[c+1],E=o[c+2];if(typeof y!="function"){if(vM(y||m)===null)continue;break}var O=j(m);O!==null&&(o.splice(c,3),c-=3,jv(O,{pending:!0,data:E,method:m.method,action:y},y,E))}}))}function _g(o){function c(ae){return sx(ae,o)}ef!==null&&sx(ef,o),tf!==null&&sx(tf,o),nf!==null&&sx(nf,o),yg.forEach(c),bg.forEach(c);for(var m=0;m<rf.length;m++){var y=rf[m];y.blockedOn===o&&(y.blockedOn=null)}for(;0<rf.length&&(m=rf[0],m.blockedOn===null);)hN(m),m.blockedOn===null&&rf.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(y=0;y<m.length;y+=3){var E=m[y],O=m[y+1],G=E[tn]||null;if(typeof O=="function")G||pN(m);else if(G){var X=null;if(O&&O.hasAttribute("formAction")){if(E=O,G=O[tn]||null)X=G.formAction;else if(vM(E)!==null)continue}else X=G.action;typeof X=="function"?m[y+1]=X:(m.splice(y,3),y-=3),pN(m)}}}function yM(o){this._internalRoot=o}lx.prototype.render=yM.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(i(409));var m=c.current,y=Vr();oN(m,y,o,c,null,null)},lx.prototype.unmount=yM.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;o.tag===0&&at(),oN(o.current,2,null,o,null,null),Du(),c[rs]=null}};function lx(o){this._internalRoot=o}lx.prototype.unstable_scheduleHydration=function(o){if(o){var c=yc();o={blockedOn:null,target:o,priority:c};for(var m=0;m<rf.length&&c!==0&&c<rf[m].priority;m++);rf.splice(m,0,o),m===0&&hN(o)}};var mN=e.version;if(mN!=="19.0.0")throw Error(i(527,mN,"19.0.0"));oe.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=se(c),o=o!==null?pe(o):null,o=o===null?null:o.stateNode,o};var oV={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:as,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ux=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ux.isDisabled&&ux.supportsFiber)try{Tt=ux.inject(oV),Mt=ux}catch{}}return Ag.createRoot=function(o,c){if(!r(o))throw Error(i(299));var m=!1,y="",E=Ub,O=Ib,G=Fb,X=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(G=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(X=c.unstable_transitionCallbacks)),c=aN(o,1,!1,null,null,m,y,E,O,G,X,null),o[rs]=c.current,tM(o.nodeType===8?o.parentNode:o),new yM(c)},Ag.hydrateRoot=function(o,c,m){if(!r(o))throw Error(i(299));var y=!1,E="",O=Ub,G=Ib,X=Fb,ae=null,ve=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onUncaughtError!==void 0&&(O=m.onUncaughtError),m.onCaughtError!==void 0&&(G=m.onCaughtError),m.onRecoverableError!==void 0&&(X=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ae=m.unstable_transitionCallbacks),m.formState!==void 0&&(ve=m.formState)),c=aN(o,1,!0,c,m??null,y,E,O,G,X,ae,ve),c.context=sN(null),m=c.current,y=Vr(),E=Sa(y),E.callback=null,Ma(m,E,y),c.current.lanes=y,Ai(c,y),Yn(c),o[rs]=c.current,tM(o),new lx(c)},Ag.version="19.0.0",Ag}var SN;function pV(){if(SN)return xM.exports;SN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xM.exports=dV(),xM.exports}var BH=pV(),Sg={},MN;function mV(){if(MN)return Sg;MN=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.parse=s,Sg.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,a=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function s(g,b){const _=new a,M=g.length;if(M<2)return _;const A=(b==null?void 0:b.decode)||p;let S=0;do{const w=g.indexOf("=",S);if(w===-1)break;const C=g.indexOf(";",S),R=C===-1?M:C;if(w>R){S=g.lastIndexOf(";",w-1)+1;continue}const D=l(g,S,w),N=u(g,w,D),L=g.slice(D,N);if(_[L]===void 0){let z=l(g,w+1,R),P=u(g,R,z);const U=A(g.slice(z,P));_[L]=U}S=R+1}while(S<M);return _}function l(g,b,_){do{const M=g.charCodeAt(b);if(M!==32&&M!==9)return b}while(++b<_);return _}function u(g,b,_){for(;b>_;){const M=g.charCodeAt(--b);if(M!==32&&M!==9)return b+1}return _}function f(g,b,_){const M=(_==null?void 0:_.encode)||encodeURIComponent;if(!n.test(g))throw new TypeError(`argument name is invalid: ${g}`);const A=M(b);if(!e.test(A))throw new TypeError(`argument val is invalid: ${b}`);let S=g+"="+A;if(!_)return S;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);S+="; Max-Age="+_.maxAge}if(_.domain){if(!t.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);S+="; Domain="+_.domain}if(_.path){if(!i.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);S+="; Path="+_.path}if(_.expires){if(!v(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);S+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(S+="; HttpOnly"),_.secure&&(S+="; Secure"),_.partitioned&&(S+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return S}function p(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function v(g){return r.call(g)==="[object Date]"}return Sg}mV();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var EN="popstate";function vV(n={}){function e(i,r){let{pathname:a,search:s,hash:l}=i.location;return LC("",{pathname:a,search:s,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:dy(r)}return yV(e,t,null,n)}function Ni(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function eu(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gV(){return Math.random().toString(36).substring(2,10)}function TN(n,e){return{usr:n.state,key:n.key,idx:e}}function LC(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Wm(e):e,state:t,key:e&&e.key||i||gV()}}function dy({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Wm(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function yV(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,s=r.history,l="POP",u=null,f=p();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function p(){return(s.state||{idx:null}).idx}function v(){l="POP";let A=p(),S=A==null?null:A-f;f=A,u&&u({action:l,location:M.location,delta:S})}function g(A,S){l="PUSH";let w=LC(M.location,A,S);f=p()+1;let C=TN(w,f),R=M.createHref(w);try{s.pushState(C,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(R)}a&&u&&u({action:l,location:M.location,delta:1})}function b(A,S){l="REPLACE";let w=LC(M.location,A,S);f=p();let C=TN(w,f),R=M.createHref(w);s.replaceState(C,"",R),a&&u&&u({action:l,location:M.location,delta:0})}function _(A){let S=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof A=="string"?A:dy(A);return w=w.replace(/ $/,"%20"),Ni(S,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,S)}let M={get action(){return l},get location(){return n(r,s)},listen(A){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(EN,v),u=A,()=>{r.removeEventListener(EN,v),u=null}},createHref(A){return e(r,A)},createURL:_,encodeLocation(A){let S=_(A);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:b,go(A){return s.go(A)}};return M}function DH(n,e,t="/"){return bV(n,e,t,!1)}function bV(n,e,t,i){let r=typeof e=="string"?Wm(e):e,a=sc(r.pathname||"/",t);if(a==null)return null;let s=NH(n);xV(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let f=BV(a);l=RV(s[u],f,i)}return l}function NH(n,e=[],t=[],i=""){let r=(a,s,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};u.relativePath.startsWith("/")&&(Ni(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length));let f=$u([i,u.relativePath]),p=t.concat(u);a.children&&a.children.length>0&&(Ni(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),NH(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:wV(f,a.index),routesMeta:p})};return n.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))r(a,s);else for(let u of PH(a.path))r(a,s,u)}),e}function PH(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let s=PH(i.join("/")),l=[];return l.push(...s.map(u=>u===""?a:[a,u].join("/"))),r&&l.push(...s),l.map(u=>n.startsWith("/")&&u===""?"/":u)}function xV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:CV(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var _V=/^:[\w-]+$/,AV=3,SV=2,MV=1,EV=10,TV=-2,wN=n=>n==="*";function wV(n,e){let t=n.split("/"),i=t.length;return t.some(wN)&&(i+=TV),e&&(i+=SV),t.filter(r=>!wN(r)).reduce((r,a)=>r+(_V.test(a)?AV:a===""?MV:EV),i)}function CV(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function RV(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",s=[];for(let l=0;l<i.length;++l){let u=i[l],f=l===i.length-1,p=a==="/"?e:e.slice(a.length)||"/",v=D_({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),g=u.route;if(!v&&f&&t&&!i[i.length-1].route.index&&(v=D_({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!v)return null;Object.assign(r,v.params),s.push({params:r,pathname:$u([a,v.pathname]),pathnameBase:LV($u([a,v.pathnameBase])),route:g}),v.pathnameBase!=="/"&&(a=$u([a,v.pathnameBase]))}return s}function D_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=OV(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:v},g)=>{if(p==="*"){let _=l[g]||"";s=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const b=l[g];return v&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:n}}function OV(n,e=!1,t=!0){eu(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function BV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eu(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function sc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function DV(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Wm(n):n;return{pathname:t?t.startsWith("/")?t:NV(t,e):e,search:UV(i),hash:IV(r)}}function NV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function MM(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function LH(n){let e=PV(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function UH(n,e,t,i=!1){let r;typeof n=="string"?r=Wm(n):(r={...n},Ni(!r.pathname||!r.pathname.includes("?"),MM("?","pathname","search",r)),Ni(!r.pathname||!r.pathname.includes("#"),MM("#","pathname","hash",r)),Ni(!r.search||!r.search.includes("#"),MM("#","search","hash",r)));let a=n===""||r.pathname==="",s=a?"/":r.pathname,l;if(s==null)l=t;else{let v=e.length-1;if(!i&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),v-=1;r.pathname=g.join("/")}l=v>=0?e[v]:"/"}let u=DV(r,l),f=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}var $u=n=>n.join("/").replace(/\/\/+/g,"/"),LV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),UV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,IV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function FV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var IH=["POST","PUT","PATCH","DELETE"];new Set(IH);var zV=["GET",...IH];new Set(zV);var Ym=Z.createContext(null);Ym.displayName="DataRouter";var yS=Z.createContext(null);yS.displayName="DataRouterState";var FH=Z.createContext({isTransitioning:!1});FH.displayName="ViewTransition";var HV=Z.createContext(new Map);HV.displayName="Fetchers";var GV=Z.createContext(null);GV.displayName="Await";var ru=Z.createContext(null);ru.displayName="Navigation";var o0=Z.createContext(null);o0.displayName="Location";var pc=Z.createContext({outlet:null,matches:[],isDataRoute:!1});pc.displayName="Route";var MO=Z.createContext(null);MO.displayName="RouteError";function kV(n,{relative:e}={}){Ni(l0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=Z.useContext(ru),{hash:r,pathname:a,search:s}=u0(n,{relative:e}),l=a;return t!=="/"&&(l=a==="/"?t:$u([t,a])),i.createHref({pathname:l,search:s,hash:r})}function l0(){return Z.useContext(o0)!=null}function Sd(){return Ni(l0(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(o0).location}var zH="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HH(n){Z.useContext(ru).static||Z.useLayoutEffect(n)}function Os(){let{isDataRoute:n}=Z.useContext(pc);return n?tj():VV()}function VV(){Ni(l0(),"useNavigate() may be used only in the context of a <Router> component.");let n=Z.useContext(Ym),{basename:e,navigator:t}=Z.useContext(ru),{matches:i}=Z.useContext(pc),{pathname:r}=Sd(),a=JSON.stringify(LH(i)),s=Z.useRef(!1);return HH(()=>{s.current=!0}),Z.useCallback((u,f={})=>{if(eu(s.current,zH),!s.current)return;if(typeof u=="number"){t.go(u);return}let p=UH(u,JSON.parse(a),r,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:$u([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,r,n])}Z.createContext(null);function u0(n,{relative:e}={}){let{matches:t}=Z.useContext(pc),{pathname:i}=Sd(),r=JSON.stringify(LH(t));return Z.useMemo(()=>UH(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function jV(n,e){return GH(n,e)}function GH(n,e,t,i){var w;Ni(l0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:a}=Z.useContext(ru),{matches:s}=Z.useContext(pc),l=s[s.length-1],u=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",v=l&&l.route;{let C=v&&v.path||"";kH(f,!v||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=Sd(),b;if(e){let C=typeof e=="string"?Wm(e):e;Ni(p==="/"||((w=C.pathname)==null?void 0:w.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=g;let _=b.pathname||"/",M=_;if(p!=="/"){let C=p.replace(/^\//,"").split("/");M="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let A=!a&&t&&t.matches&&t.matches.length>0?t.matches:DH(n,{pathname:M});eu(v||A!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),eu(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=KV(A&&A.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:$u([p,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:$u([p,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,t,i);return e&&S?Z.createElement(o0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},S):S}function qV(){let n=ej(),e=FV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",n),s=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:a},"ErrorBoundary")," or"," ",Z.createElement("code",{style:a},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:r},t):null,s)}var XV=Z.createElement(qV,null),WV=class extends Z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Z.createElement(pc.Provider,{value:this.props.routeContext},Z.createElement(MO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YV({routeContext:n,match:e,children:t}){let i=Z.useContext(Ym);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(pc.Provider,{value:n},t)}function KV(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,a=t==null?void 0:t.errors;if(a!=null){let u=r.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);Ni(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let s=!1,l=-1;if(t)for(let u=0;u<r.length;u++){let f=r[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=u),f.route.id){let{loaderData:p,errors:v}=t,g=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||g){s=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((u,f,p)=>{let v,g=!1,b=null,_=null;t&&(v=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||XV,s&&(l<0&&p===0?(kH("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,_=null):l===p&&(g=!0,_=f.route.hydrateFallbackElement||null)));let M=e.concat(r.slice(0,p+1)),A=()=>{let S;return v?S=b:g?S=_:f.route.Component?S=Z.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=u,Z.createElement(YV,{match:f,routeContext:{outlet:u,matches:M,isDataRoute:t!=null},children:S})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?Z.createElement(WV,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:A(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):A()},null)}function EO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JV(n){let e=Z.useContext(Ym);return Ni(e,EO(n)),e}function ZV(n){let e=Z.useContext(yS);return Ni(e,EO(n)),e}function QV(n){let e=Z.useContext(pc);return Ni(e,EO(n)),e}function TO(n){let e=QV(n),t=e.matches[e.matches.length-1];return Ni(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function $V(){return TO("useRouteId")}function ej(){var i;let n=Z.useContext(MO),e=ZV("useRouteError"),t=TO("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function tj(){let{router:n}=JV("useNavigate"),e=TO("useNavigate"),t=Z.useRef(!1);return HH(()=>{t.current=!0}),Z.useCallback(async(r,a={})=>{eu(t.current,zH),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var CN={};function kH(n,e,t){!e&&!CN[n]&&(CN[n]=!0,eu(!1,t))}Z.memo(nj);function nj({routes:n,future:e,state:t}){return GH(n,void 0,t,e)}function ql(n){Ni(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ij({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){Ni(!l0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=n.replace(/^\/*/,"/"),l=Z.useMemo(()=>({basename:s,navigator:r,static:a,future:{}}),[s,r,a]);typeof t=="string"&&(t=Wm(t));let{pathname:u="/",search:f="",hash:p="",state:v=null,key:g="default"}=t,b=Z.useMemo(()=>{let _=sc(u,s);return _==null?null:{location:{pathname:_,search:f,hash:p,state:v,key:g},navigationType:i}},[s,u,f,p,v,g,i]);return eu(b!=null,`<Router basename="${s}"> is not able to match the URL "${u}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:Z.createElement(ru.Provider,{value:l},Z.createElement(o0.Provider,{children:e,value:b}))}function rj({children:n,location:e}){return jV(UC(n),e)}function UC(n,e=[]){let t=[];return Z.Children.forEach(n,(i,r)=>{if(!Z.isValidElement(i))return;let a=[...e,r];if(i.type===Z.Fragment){t.push.apply(t,UC(i.props.children,a));return}Ni(i.type===ql,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ni(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=UC(i.props.children,a)),t.push(s)}),t}var M_="get",E_="application/x-www-form-urlencoded";function bS(n){return n!=null&&typeof n.tagName=="string"}function aj(n){return bS(n)&&n.tagName.toLowerCase()==="button"}function sj(n){return bS(n)&&n.tagName.toLowerCase()==="form"}function oj(n){return bS(n)&&n.tagName.toLowerCase()==="input"}function lj(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function uj(n,e){return n.button===0&&(!e||e==="_self")&&!lj(n)}var fx=null;function cj(){if(fx===null)try{new FormData(document.createElement("form"),0),fx=!1}catch{fx=!0}return fx}var fj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function EM(n){return n!=null&&!fj.has(n)?(eu(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${E_}"`),null):n}function hj(n,e){let t,i,r,a,s;if(sj(n)){let l=n.getAttribute("action");i=l?sc(l,e):null,t=n.getAttribute("method")||M_,r=EM(n.getAttribute("enctype"))||E_,a=new FormData(n)}else if(aj(n)||oj(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||l.getAttribute("action");if(i=u?sc(u,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||M_,r=EM(n.getAttribute("formenctype"))||EM(l.getAttribute("enctype"))||E_,a=new FormData(l,n),!cj()){let{name:f,type:p,value:v}=n;if(p==="image"){let g=f?`${f}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else f&&a.append(f,v)}}else{if(bS(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=M_,i=null,r=E_,s=n}return a&&r==="text/plain"&&(s=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:s}}function wO(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function dj(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pj(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function mj(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let s=await dj(a,t);return s.links?s.links():[]}return[]}));return bj(i.flat(1).filter(pj).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function RN(n,e,t,i,r,a){let s=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,l=(u,f)=>{var p;return t[f].pathname!==u.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,f)=>s(u,f)||l(u,f)):a==="data"?e.filter((u,f)=>{var v;let p=i.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(s(u,f)||l(u,f))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function vj(n,e,{includeHydrateFallback:t}={}){return gj(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function gj(n){return[...new Set(n)]}function yj(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function bj(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(yj(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function xj(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&sc(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function VH(){let n=Z.useContext(Ym);return wO(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _j(){let n=Z.useContext(yS);return wO(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var CO=Z.createContext(void 0);CO.displayName="FrameworkContext";function jH(){let n=Z.useContext(CO);return wO(n,"You must render this element inside a <HydratedRouter> element"),n}function Aj(n,e){let t=Z.useContext(CO),[i,r]=Z.useState(!1),[a,s]=Z.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,g=Z.useRef(null);Z.useEffect(()=>{if(n==="render"&&s(!0),n==="viewport"){let M=S=>{S.forEach(w=>{s(w.isIntersecting)})},A=new IntersectionObserver(M,{threshold:.5});return g.current&&A.observe(g.current),()=>{A.disconnect()}}},[n]),Z.useEffect(()=>{if(i){let M=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(M)}}},[i]);let b=()=>{r(!0)},_=()=>{r(!1),s(!1)};return t?n!=="intent"?[a,g,{}]:[a,g,{onFocus:Mg(l,b),onBlur:Mg(u,_),onMouseEnter:Mg(f,b),onMouseLeave:Mg(p,_),onTouchStart:Mg(v,b)}]:[!1,g,{}]}function Mg(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Sj({page:n,...e}){let{router:t}=VH(),i=Z.useMemo(()=>DH(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?Z.createElement(Ej,{page:n,matches:i,...e}):null}function Mj(n){let{manifest:e,routeModules:t}=jH(),[i,r]=Z.useState([]);return Z.useEffect(()=>{let a=!1;return mj(n,e,t).then(s=>{a||r(s)}),()=>{a=!0}},[n,e,t]),i}function Ej({page:n,matches:e,...t}){let i=Sd(),{manifest:r,routeModules:a}=jH(),{basename:s}=VH(),{loaderData:l,matches:u}=_j(),f=Z.useMemo(()=>RN(n,e,u,r,i,"data"),[n,e,u,r,i]),p=Z.useMemo(()=>RN(n,e,u,r,i,"assets"),[n,e,u,r,i]),v=Z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,M=!1;if(e.forEach(S=>{var C;let w=r.routes[S.route.id];!w||!w.hasLoader||(!f.some(R=>R.route.id===S.route.id)&&S.route.id in l&&((C=a[S.route.id])!=null&&C.shouldRevalidate)||w.hasClientLoader?M=!0:_.add(S.route.id))}),_.size===0)return[];let A=xj(n,s);return M&&_.size>0&&A.searchParams.set("_routes",e.filter(S=>_.has(S.route.id)).map(S=>S.route.id).join(",")),[A.pathname+A.search]},[s,l,i,r,f,e,n,a]),g=Z.useMemo(()=>vj(p,r),[p,r]),b=Mj(p);return Z.createElement(Z.Fragment,null,v.map(_=>Z.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),g.map(_=>Z.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),b.map(({key:_,link:M})=>Z.createElement("link",{key:_,...M})))}function Tj(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var qH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qH&&(window.__reactRouterVersion="7.4.0")}catch{}function wj({basename:n,children:e,window:t}){let i=Z.useRef();i.current==null&&(i.current=vV({window:t,v5Compat:!0}));let r=i.current,[a,s]=Z.useState({action:r.action,location:r.location}),l=Z.useCallback(u=>{Z.startTransition(()=>s(u))},[s]);return Z.useLayoutEffect(()=>r.listen(l),[r,l]),Z.createElement(ij,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}var XH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WH=Z.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:s,state:l,target:u,to:f,preventScrollReset:p,viewTransition:v,...g},b){let{basename:_}=Z.useContext(ru),M=typeof f=="string"&&XH.test(f),A,S=!1;if(typeof f=="string"&&M&&(A=f,qH))try{let P=new URL(window.location.href),U=f.startsWith("//")?new URL(P.protocol+f):new URL(f),H=sc(U.pathname,_);U.origin===P.origin&&H!=null?f=H+U.search+U.hash:S=!0}catch{eu(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=kV(f,{relative:r}),[C,R,D]=Aj(i,g),N=Bj(f,{replace:s,state:l,target:u,preventScrollReset:p,relative:r,viewTransition:v});function L(P){e&&e(P),P.defaultPrevented||N(P)}let z=Z.createElement("a",{...g,...D,href:A||w,onClick:S||a?e:L,ref:Tj(b,R),target:u,"data-discover":!M&&t==="render"?"true":void 0});return C&&!M?Z.createElement(Z.Fragment,null,z,Z.createElement(Sj,{page:w})):z});WH.displayName="Link";var Cj=Z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:s,viewTransition:l,children:u,...f},p){let v=u0(s,{relative:f.relative}),g=Sd(),b=Z.useContext(yS),{navigator:_,basename:M}=Z.useContext(ru),A=b!=null&&Uj(v)&&l===!0,S=_.encodeLocation?_.encodeLocation(v).pathname:v.pathname,w=g.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(w=w.toLowerCase(),C=C?C.toLowerCase():null,S=S.toLowerCase()),C&&M&&(C=sc(C,M)||C);const R=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let D=w===S||!r&&w.startsWith(S)&&w.charAt(R)==="/",N=C!=null&&(C===S||!r&&C.startsWith(S)&&C.charAt(S.length)==="/"),L={isActive:D,isPending:N,isTransitioning:A},z=D?e:void 0,P;typeof i=="function"?P=i(L):P=[i,D?"active":null,N?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(L):a;return Z.createElement(WH,{...f,"aria-current":z,className:P,ref:p,style:U,to:s,viewTransition:l},typeof u=="function"?u(L):u)});Cj.displayName="NavLink";var Rj=Z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:s=M_,action:l,onSubmit:u,relative:f,preventScrollReset:p,viewTransition:v,...g},b)=>{let _=Pj(),M=Lj(l,{relative:f}),A=s.toLowerCase()==="get"?"get":"post",S=typeof l=="string"&&XH.test(l),w=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let R=C.nativeEvent.submitter,D=(R==null?void 0:R.getAttribute("formmethod"))||s;_(R||C.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:r,state:a,relative:f,preventScrollReset:p,viewTransition:v})};return Z.createElement("form",{ref:b,method:A,action:M,onSubmit:i?u:w,...g,"data-discover":!S&&n==="render"?"true":void 0})});Rj.displayName="Form";function Oj(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YH(n){let e=Z.useContext(Ym);return Ni(e,Oj(n)),e}function Bj(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:s}={}){let l=Os(),u=Sd(),f=u0(n,{relative:a});return Z.useCallback(p=>{if(uj(p,e)){p.preventDefault();let v=t!==void 0?t:dy(u)===dy(f);l(n,{replace:v,state:i,preventScrollReset:r,relative:a,viewTransition:s})}},[u,l,f,t,i,e,n,r,a,s])}var Dj=0,Nj=()=>`__${String(++Dj)}__`;function Pj(){let{router:n}=YH("useSubmit"),{basename:e}=Z.useContext(ru),t=$V();return Z.useCallback(async(i,r={})=>{let{action:a,method:s,encType:l,formData:u,body:f}=hj(i,e);if(r.navigate===!1){let p=r.fetcherKey||Nj();await n.fetch(p,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:u,body:f,formMethod:r.method||s,formEncType:r.encType||l,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:u,body:f,formMethod:r.method||s,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function Lj(n,{relative:e}={}){let{basename:t}=Z.useContext(ru),i=Z.useContext(pc);Ni(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...u0(n||".",{relative:e})},s=Sd();if(n==null){a.search=s.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(p=>p==="")){l.delete("index"),u.filter(v=>v).forEach(v=>l.append("index",v));let p=l.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:$u([t,a.pathname])),dy(a)}function Uj(n,e={}){let t=Z.useContext(FH);Ni(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=YH("useViewTransitionState"),r=u0(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=sc(t.currentLocation.pathname,i)||t.currentLocation.pathname,s=sc(t.nextLocation.pathname,i)||t.nextLocation.pathname;return D_(r.pathname,s)!=null||D_(r.pathname,a)!=null}new TextEncoder;const Ij="/iridium_23c_year_sim-uga/assets/nasa-DWADLKDD.png",Fj="/iridium_23c_year_sim-uga/assets/presented-by-DrmtxiPw.png",zj="/iridium_23c_year_sim-uga/assets/year-on-psyche-04s-Sek1.png",Hj="/iridium_23c_year_sim-uga/assets/space-animation-2-3Y-mToVY.mp4";var TM={exports:{}},Eg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ON;function Gj(){if(ON)return Eg;ON=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var s=null;if(a!==void 0&&(s=""+a),r.key!==void 0&&(s=""+r.key),"key"in r){a={};for(var l in r)l!=="key"&&(a[l]=r[l])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:s,ref:r!==void 0?r:null,props:a}}return Eg.Fragment=e,Eg.jsx=t,Eg.jsxs=t,Eg}var BN;function kj(){return BN||(BN=1,TM.exports=Gj()),TM.exports}var RO=kj();const F=RO.jsx,te=RO.jsxs,Vj=RO.Fragment;function jj(){const n=Os();return F("button",{className:"font-mono text-gray-400 hover:text-gray-300 transition-colors bg-black px-6 py-3 rounded-lg border-2 border-gray-600 hover:border-gray-400 text-xl",onClick:()=>n("/instructions"),children:" INSTRUCTIONS"})}function qj(){const n=Os();return F("button",{className:"font-mono text-gray-400 hover:text-gray-300 transition-colors bg-black px-6 py-3 rounded-lg border-2 border-gray-600 hover:border-gray-400 text-xl",onClick:()=>n("/mission-overview"),children:" ENTER SIMULATION"})}function Xj(){return te("div",{className:"relative w-screen h-screen overflow-hidden",children:[te("video",{autoPlay:!0,loop:!0,muted:!0,className:"absolute top-0 left-0 w-full h-full object-cover",children:[F("source",{src:Hj,type:"video/mp4"}),"Your browser does not support the video tag."]}),te("div",{className:"relative flex flex-col items-center justify-center h-full space-y-8",children:[te("div",{className:"flex flex-col space-y-4",children:[F("img",{src:Ij,alt:"Nasa Image",className:"w-150"}),F("img",{src:zj,alt:"Year on Psyche Image",className:"w-150"}),F("img",{src:Fj,alt:"Presented By Image",className:"w-150"})]}),te("div",{className:"flex flex-col space-y-4 mt-6",children:[F(jj,{}),F(qj,{})]})]})]})}function Wj(){const n=Os();return F("button",{className:"text-gray-400 font-mono bg-black text-sm py-2 px-4 rounded hover:text-gray-300 hover:bg-gray-800 transition duration-200 ease-in-out",onClick:()=>{n("/mission-overview")},children:"Enter Site"})}function Yj(){const n=Os();return F("button",{className:"text-gray-400 font-mono bg-black text-sm py-2 px-4 rounded hover:text-gray-300 hover:bg-gray-800 transition duration-200 ease-in-out",onClick:()=>n("/"),children:"Go Back"})}function Kj(){return te("div",{className:"flex flex-col bg-gray-900 font-mono min-h-screen",children:[F("hr",{className:"border-t border-gray-700 w-full"}),F("main",{className:"flex-1 overflow-y-auto px-8 pt-12 pb-12 space-y-8 text-gray-300",children:te("div",{className:"max-w-4xl mx-auto",children:[F("h1",{className:"text-4xl font-bold mb-10 text-white text-center",children:"Welcome to the Psyche Explorer!"}),F("p",{className:"text-lg mb-10 leading-relaxed text-center",children:"This interactive experience guides you through the fascinating world of asteroid 16 Psyche. Navigate through the different sections using the top bar or the buttons below to learn about its unique characteristics and the NASA mission exploring it."}),te("div",{className:"space-y-6",children:[te("div",{children:[F("h2",{className:"text-2xl font-semibold border-b border-gray-700 pb-2 mb-3 text-white",children:"Mission Overview"}),F("p",{className:"leading-relaxed",children:"Explore interactive 3D models of the Psyche asteroid and the NASA spacecraft and use the selector button to switch between views. Also read about the mission's overview, objectives, timeline, collaborators, and the scientific instruments onboard."})]}),te("div",{children:[F("h2",{className:"text-2xl font-semibold border-b border-gray-700 pb-2 mb-3 text-white",children:"Shape and Rotation"}),F("p",{className:"leading-relaxed",children:"Visualize Psyche's irregular shape with a rotating 3D model featuring labeled dimensions, and learn about its shape and rotation characteristics, their scientific significance, and related mission goals."})]}),te("div",{children:[F("h2",{className:"text-2xl font-semibold border-b border-gray-700 pb-2 mb-3 text-white",children:"Orbit and Year"}),F("p",{className:"leading-relaxed",children:"Watch an animation of Psyche's journey through the solar system. Adjust the animation speed with the slider and see the relative passage of Psyche and Earth years, and read about its orbital mechanics, flight profile, and context within the asteroid belt."})]}),te("div",{children:[F("h2",{className:"text-2xl font-semibold border-b border-gray-700 pb-2 mb-3 text-white",children:"Surface & Composition"}),F("p",{className:"leading-relaxed",children:"Examine different potential compositions using switchable 3D models (from mostly metal to mostly silicate), and discover info about Psyche's surface morphology, inferred material composition, unique significance, and key investigation goals for the mission."})]}),te("div",{children:[F("h2",{className:"text-2xl font-semibold border-b border-gray-700 pb-2 mb-3 text-white",children:"Impacts of Characteristics"}),F("p",{className:"leading-relaxed",children:"Understand how Psyche's unique properties (metal-rich composition, topography, fast rotation, high obliquity, eccentric orbit) influence its surface conditions. Also explore an interactive chart showing estimated temperature variations based on its tilt."})]}),te("div",{children:[F("h2",{className:"text-2xl font-semibold border-b border-gray-700 pb-2 mb-3 text-white",children:"Psyche Chatbot"}),F("p",{className:"leading-relaxed",children:"Interact with our AI assistant! Ask questions about Psyche's unique properties and why it's a valuable scientific target. The chatbot uses information sourced from research papers to provide detailed answers."})]}),te("div",{children:[F("h2",{className:"text-2xl font-semibold border-b border-gray-700 pb-2 mb-3 text-white",children:"Learn More"}),F("p",{className:"leading-relaxed",children:"Find information about the project team, data sources used throughout the site, links to additional resources for deeper learning, and the disclaimer."})]})]}),te("div",{className:"flex justify-center space-x-6 mt-12",children:[F(Yj,{}),F(Wj,{})]})]})})]})}const Jj="/iridium_23c_year_sim-uga/assets/psyche-logo-MqpLcrkt.png",Zj="/iridium_23c_year_sim-uga/assets/year-on-psyche-topbar-D_DI-NLU.png";function Qj(){const n=Os();return F("button",{className:"text-gray-400 font-mono bg-black text-sm hover:text-gray-300 transition",onClick:()=>n("/mission-overview"),children:"Mission Overview"})}function $j(){const n=Os();return F("button",{className:"text-gray-400 font-mono bg-black text-sm hover:text-gray-300 transition",onClick:()=>n("/shape-rotation"),children:"Shape and Rotation"})}function e7(){const n=Os();return F("button",{className:"text-gray-400 font-mono bg-black text-sm hover:text-gray-300 transition",onClick:()=>n("/orbit-year"),children:"Orbit and Year"})}function t7(){const n=Os();return F("button",{className:"text-gray-400 font-mono bg-black text-sm hover:text-gray-300 transition",onClick:()=>n("/scc"),children:"Surface Charactertistics and Composition"})}function n7(){const n=Os();return F("button",{className:"text-gray-400 font-mono bg-black text-sm hover:text-gray-300 transition",onClick:()=>n("/impact"),children:"Impact"})}function i7(){const n=Os();return F("button",{className:"text-gray-400 font-mono bg-black text-sm hover:text-gray-300 transition",onClick:()=>n("/learn-more"),children:"Learn More"})}function r7(){const n=Os();return F("button",{className:"text-gray-400 font-mono bg-black text-sm hover:text-gray-300 transition",onClick:()=>n("/chatbot"),children:"Chatbot"})}function Md(){const n=Os();return F("div",{className:"bg-black flex items-center justify-between px-4 py-2",children:te("div",{className:"flex items-center space-x-4",children:[te("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>n("/"),children:[F("img",{src:Jj,className:"h-8 flex-shrink-0",alt:"Psyche Logo"}),F("img",{src:Zj,className:"h-4 flex-shrink-0",alt:"Year on Psyche"})]}),te("div",{className:"flex items-center ml-20",children:[F(Qj,{}),F("div",{className:"h-6 border-r border-gray-700 mx-3"}),F($j,{}),F("div",{className:"h-6 border-r border-gray-700 mx-3"}),F(e7,{}),F("div",{className:"h-6 border-r border-gray-700 mx-3"}),F(t7,{}),F("div",{className:"h-6 border-r border-gray-700 mx-3"}),F(n7,{}),F("div",{className:"h-6 border-r border-gray-700 mx-3"}),F(r7,{}),F("div",{className:"h-6 border-r border-gray-700 mx-3"}),F(i7,{})]})]})})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Km="174",Fh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},zh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},KH=0,IC=1,JH=2,a7=3,ZH=0,xS=1,$g=2,qo=3,tu=0,Na=1,Qs=2,ec=0,nd=1,N_=2,FC=3,zC=4,QH=5,mf=100,$H=101,eG=102,tG=103,nG=104,iG=200,rG=201,aG=202,sG=203,P_=204,L_=205,oG=206,lG=207,uG=208,cG=209,fG=210,hG=211,dG=212,pG=213,mG=214,U_=0,I_=1,F_=2,cd=3,z_=4,H_=5,G_=6,k_=7,c0=0,vG=1,gG=2,Kl=0,yG=1,bG=2,xG=3,OO=4,_G=5,AG=6,SG=7,HC="attached",MG="detached",_S=300,oc=301,Sf=302,py=303,my=304,Jm=306,Mf=1e3,Ms=1001,dm=1002,Dr=1003,AS=1004,s7=1004,Xh=1005,o7=1005,Zi=1006,sm=1007,l7=1007,$s=1008,u7=1008,tl=1009,BO=1010,DO=1011,pm=1012,SS=1013,lc=1014,Qa=1015,Zm=1016,MS=1017,ES=1018,fd=1020,NO=35902,PO=1021,LO=1022,pa=1023,UO=1024,IO=1025,id=1026,hd=1027,TS=1028,f0=1029,FO=1030,wS=1031,c7=1032,CS=1033,ey=33776,ty=33777,ny=33778,iy=33779,V_=35840,j_=35841,q_=35842,X_=35843,W_=36196,Y_=37492,K_=37496,J_=37808,Z_=37809,Q_=37810,$_=37811,eA=37812,tA=37813,nA=37814,iA=37815,rA=37816,aA=37817,sA=37818,oA=37819,lA=37820,uA=37821,ry=36492,cA=36494,fA=36495,zO=36283,hA=36284,dA=36285,pA=36286,EG=2200,TG=2201,wG=2202,mm=2300,vm=2301,T_=2302,Wh=2400,Yh=2401,vy=2402,RS=2500,HO=2501,CG=0,GO=1,mA=2,RG=3200,OG=3201,f7=3202,h7=3203,Tf=0,BG=1,Xu="",fa="srgb",Ef="srgb-linear",gy="linear",Kn="srgb",d7=0,Hh=7680,p7=7681,m7=7682,v7=7683,g7=34055,y7=34056,b7=5386,x7=512,_7=513,A7=514,S7=515,M7=516,E7=517,T7=518,GC=519,DG=512,NG=513,PG=514,kO=515,LG=516,UG=517,IG=518,FG=519,yy=35044,w7=35048,C7=35040,R7=35045,O7=35049,B7=35041,D7=35046,N7=35050,P7=35042,L7="100",kC="300 es",Qo=2e3,by=2001,U7={COMPUTE:"compute",RENDER:"render"};let au=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}};const oa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let DN=1234567;const rd=Math.PI/180,gm=180/Math.PI;function Ts(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(oa[n&255]+oa[n>>8&255]+oa[n>>16&255]+oa[n>>24&255]+"-"+oa[e&255]+oa[e>>8&255]+"-"+oa[e>>16&15|64]+oa[e>>24&255]+"-"+oa[t&63|128]+oa[t>>8&255]+"-"+oa[t>>16&255]+oa[t>>24&255]+oa[i&255]+oa[i>>8&255]+oa[i>>16&255]+oa[i>>24&255]).toLowerCase()}function Kt(n,e,t){return Math.max(e,Math.min(t,n))}function VO(n,e){return(n%e+e)%e}function I7(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function F7(n,e,t){return n!==e?(t-n)/(e-n):0}function ay(n,e,t){return(1-t)*n+t*e}function z7(n,e,t,i){return ay(n,e,1-Math.exp(-t*i))}function H7(n,e=1){return e-Math.abs(VO(n,e*2)-e)}function G7(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function k7(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function V7(n,e){return n+Math.floor(Math.random()*(e-n+1))}function j7(n,e){return n+Math.random()*(e-n)}function q7(n){return n*(.5-Math.random())}function X7(n){n!==void 0&&(DN=n);let e=DN+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function W7(n){return n*rd}function Y7(n){return n*gm}function K7(n){return(n&n-1)===0&&n!==0}function J7(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Z7(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Q7(n,e,t,i,r){const a=Math.cos,s=Math.sin,l=a(t/2),u=s(t/2),f=a((e+i)/2),p=s((e+i)/2),v=a((e-i)/2),g=s((e-i)/2),b=a((i-e)/2),_=s((i-e)/2);switch(r){case"XYX":n.set(l*p,u*v,u*g,l*f);break;case"YZY":n.set(u*g,l*p,u*v,l*f);break;case"ZXZ":n.set(u*v,u*g,l*p,l*f);break;case"XZX":n.set(l*p,u*_,u*b,l*f);break;case"YXY":n.set(u*b,l*p,u*_,l*f);break;case"ZYZ":n.set(u*_,u*b,l*p,l*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ba(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function en(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const OS={DEG2RAD:rd,RAD2DEG:gm,generateUUID:Ts,clamp:Kt,euclideanModulo:VO,mapLinear:I7,inverseLerp:F7,lerp:ay,damp:z7,pingpong:H7,smoothstep:G7,smootherstep:k7,randInt:V7,randFloat:j7,randFloatSpread:q7,seededRandom:X7,degToRad:W7,radToDeg:Y7,isPowerOfTwo:K7,ceilPowerOfTwo:J7,floorPowerOfTwo:Z7,setQuaternionFromProperEuler:Q7,normalize:en,denormalize:Ba};class ke{constructor(e=0,t=0){ke.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Kt(this.x,e.x,t.x),this.y=Kt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Kt(this.x,e,t),this.y=Kt(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Kt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Kt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*i-s*r+e.x,this.y=a*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Qt{constructor(e,t,i,r,a,s,l,u,f){Qt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,s,l,u,f)}set(e,t,i,r,a,s,l,u,f){const p=this.elements;return p[0]=e,p[1]=r,p[2]=l,p[3]=t,p[4]=a,p[5]=u,p[6]=i,p[7]=s,p[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,s=i[0],l=i[3],u=i[6],f=i[1],p=i[4],v=i[7],g=i[2],b=i[5],_=i[8],M=r[0],A=r[3],S=r[6],w=r[1],C=r[4],R=r[7],D=r[2],N=r[5],L=r[8];return a[0]=s*M+l*w+u*D,a[3]=s*A+l*C+u*N,a[6]=s*S+l*R+u*L,a[1]=f*M+p*w+v*D,a[4]=f*A+p*C+v*N,a[7]=f*S+p*R+v*L,a[2]=g*M+b*w+_*D,a[5]=g*A+b*C+_*N,a[8]=g*S+b*R+_*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],f=e[7],p=e[8];return t*s*p-t*l*f-i*a*p+i*l*u+r*a*f-r*s*u}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],f=e[7],p=e[8],v=p*s-l*f,g=l*u-p*a,b=f*a-s*u,_=t*v+i*g+r*b;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const M=1/_;return e[0]=v*M,e[1]=(r*f-p*i)*M,e[2]=(l*i-r*s)*M,e[3]=g*M,e[4]=(p*t-r*u)*M,e[5]=(r*a-l*t)*M,e[6]=b*M,e[7]=(i*u-f*t)*M,e[8]=(s*t-i*a)*M,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,a,s,l){const u=Math.cos(a),f=Math.sin(a);return this.set(i*u,i*f,-i*(u*s+f*l)+s+e,-r*f,r*u,-r*(-f*s+u*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(wM.makeScale(e,t)),this}rotate(e){return this.premultiply(wM.makeRotation(-e)),this}translate(e,t){return this.premultiply(wM.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const wM=new Qt;function zG(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const $7={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function nm(n,e){return new $7[n](e)}function xy(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function HG(){const n=xy("canvas");return n.style.display="block",n}const NN={};function Gh(n){n in NN||(NN[n]=!0,console.warn(n))}function eq(n,e,t){return new Promise(function(i,r){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:i()}}setTimeout(a,t)})}function tq(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function nq(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const PN=new Qt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),LN=new Qt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function iq(){const n={enabled:!0,workingColorSpace:Ef,spaces:{},convert:function(r,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===Kn&&(r.r=tc(r.r),r.g=tc(r.g),r.b=tc(r.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===Kn&&(r.r=om(r.r),r.g=om(r.g),r.b=om(r.b))),r},fromWorkingColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},toWorkingColorSpace:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Xu?gy:this.spaces[r].transfer},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,s){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Ef]:{primaries:e,whitePoint:i,transfer:gy,toXYZ:PN,fromXYZ:LN,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:fa},outputColorSpaceConfig:{drawingBufferColorSpace:fa}},[fa]:{primaries:e,whitePoint:i,transfer:Kn,toXYZ:PN,fromXYZ:LN,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:fa}}}),n}const Tn=iq();function tc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function om(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Bp;class GG{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Bp===void 0&&(Bp=xy("canvas")),Bp.width=e.width,Bp.height=e.height;const i=Bp.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Bp}return t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=xy("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=tc(a[s]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(tc(t[i]/255)*255):t[i]=tc(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let rq=0;class yf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:rq++}),this.uuid=Ts(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,l=r.length;s<l;s++)r[s].isDataTexture?a.push(CM(r[s].image)):a.push(CM(r[s]))}else a=CM(r);i.url=a}return t||(e.images[this.uuid]=i),i}}function CM(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?GG.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let aq=0;class _i extends au{constructor(e=_i.DEFAULT_IMAGE,t=_i.DEFAULT_MAPPING,i=Ms,r=Ms,a=Zi,s=$s,l=pa,u=tl,f=_i.DEFAULT_ANISOTROPY,p=Xu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:aq++}),this.uuid=Ts(),this.name="",this.source=new yf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=f,this.format=l,this.internalFormat=null,this.type=u,this.offset=new ke(0,0),this.repeat=new ke(1,1),this.center=new ke(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Qt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=p,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==_S)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Mf:e.x=e.x-Math.floor(e.x);break;case Ms:e.x=e.x<0?0:1;break;case dm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Mf:e.y=e.y-Math.floor(e.y);break;case Ms:e.y=e.y<0?0:1;break;case dm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}_i.DEFAULT_IMAGE=null;_i.DEFAULT_MAPPING=_S;_i.DEFAULT_ANISOTROPY=1;class pn{constructor(e=0,t=0,i=0,r=1){pn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r+s[12]*a,this.y=s[1]*t+s[5]*i+s[9]*r+s[13]*a,this.z=s[2]*t+s[6]*i+s[10]*r+s[14]*a,this.w=s[3]*t+s[7]*i+s[11]*r+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,a;const u=e.elements,f=u[0],p=u[4],v=u[8],g=u[1],b=u[5],_=u[9],M=u[2],A=u[6],S=u[10];if(Math.abs(p-g)<.01&&Math.abs(v-M)<.01&&Math.abs(_-A)<.01){if(Math.abs(p+g)<.1&&Math.abs(v+M)<.1&&Math.abs(_+A)<.1&&Math.abs(f+b+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(f+1)/2,R=(b+1)/2,D=(S+1)/2,N=(p+g)/4,L=(v+M)/4,z=(_+A)/4;return C>R&&C>D?C<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(C),r=N/i,a=L/i):R>D?R<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(R),i=N/r,a=z/r):D<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(D),i=L/a,r=z/a),this.set(i,r,a,t),this}let w=Math.sqrt((A-_)*(A-_)+(v-M)*(v-M)+(g-p)*(g-p));return Math.abs(w)<.001&&(w=1),this.x=(A-_)/w,this.y=(v-M)/w,this.z=(g-p)/w,this.w=Math.acos((f+b+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Kt(this.x,e.x,t.x),this.y=Kt(this.y,e.y,t.y),this.z=Kt(this.z,e.z,t.z),this.w=Kt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Kt(this.x,e,t),this.y=Kt(this.y,e,t),this.z=Kt(this.z,e,t),this.w=Kt(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Kt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class BS extends au{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new pn(0,0,e,t),this.scissorTest=!1,this.viewport=new pn(0,0,e,t);const r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Zi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const a=new _i(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);a.flipY=!1,a.generateMipmaps=i.generateMipmaps,a.internalFormat=i.internalFormat,this.textures=[];const s=i.count;for(let l=0;l<s;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new yf(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class nu extends BS{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class h0 extends _i{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Dr,this.minFilter=Dr,this.wrapR=Ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class sq extends nu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new h0(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class DS extends _i{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Dr,this.minFilter=Dr,this.wrapR=Ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class oq extends nu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new DS(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class hr{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,a,s,l){let u=i[r+0],f=i[r+1],p=i[r+2],v=i[r+3];const g=a[s+0],b=a[s+1],_=a[s+2],M=a[s+3];if(l===0){e[t+0]=u,e[t+1]=f,e[t+2]=p,e[t+3]=v;return}if(l===1){e[t+0]=g,e[t+1]=b,e[t+2]=_,e[t+3]=M;return}if(v!==M||u!==g||f!==b||p!==_){let A=1-l;const S=u*g+f*b+p*_+v*M,w=S>=0?1:-1,C=1-S*S;if(C>Number.EPSILON){const D=Math.sqrt(C),N=Math.atan2(D,S*w);A=Math.sin(A*N)/D,l=Math.sin(l*N)/D}const R=l*w;if(u=u*A+g*R,f=f*A+b*R,p=p*A+_*R,v=v*A+M*R,A===1-l){const D=1/Math.sqrt(u*u+f*f+p*p+v*v);u*=D,f*=D,p*=D,v*=D}}e[t]=u,e[t+1]=f,e[t+2]=p,e[t+3]=v}static multiplyQuaternionsFlat(e,t,i,r,a,s){const l=i[r],u=i[r+1],f=i[r+2],p=i[r+3],v=a[s],g=a[s+1],b=a[s+2],_=a[s+3];return e[t]=l*_+p*v+u*b-f*g,e[t+1]=u*_+p*g+f*v-l*b,e[t+2]=f*_+p*b+l*g-u*v,e[t+3]=p*_-l*v-u*g-f*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,a=e._z,s=e._order,l=Math.cos,u=Math.sin,f=l(i/2),p=l(r/2),v=l(a/2),g=u(i/2),b=u(r/2),_=u(a/2);switch(s){case"XYZ":this._x=g*p*v+f*b*_,this._y=f*b*v-g*p*_,this._z=f*p*_+g*b*v,this._w=f*p*v-g*b*_;break;case"YXZ":this._x=g*p*v+f*b*_,this._y=f*b*v-g*p*_,this._z=f*p*_-g*b*v,this._w=f*p*v+g*b*_;break;case"ZXY":this._x=g*p*v-f*b*_,this._y=f*b*v+g*p*_,this._z=f*p*_+g*b*v,this._w=f*p*v-g*b*_;break;case"ZYX":this._x=g*p*v-f*b*_,this._y=f*b*v+g*p*_,this._z=f*p*_-g*b*v,this._w=f*p*v+g*b*_;break;case"YZX":this._x=g*p*v+f*b*_,this._y=f*b*v+g*p*_,this._z=f*p*_-g*b*v,this._w=f*p*v-g*b*_;break;case"XZY":this._x=g*p*v-f*b*_,this._y=f*b*v-g*p*_,this._z=f*p*_+g*b*v,this._w=f*p*v+g*b*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],a=t[8],s=t[1],l=t[5],u=t[9],f=t[2],p=t[6],v=t[10],g=i+l+v;if(g>0){const b=.5/Math.sqrt(g+1);this._w=.25/b,this._x=(p-u)*b,this._y=(a-f)*b,this._z=(s-r)*b}else if(i>l&&i>v){const b=2*Math.sqrt(1+i-l-v);this._w=(p-u)/b,this._x=.25*b,this._y=(r+s)/b,this._z=(a+f)/b}else if(l>v){const b=2*Math.sqrt(1+l-i-v);this._w=(a-f)/b,this._x=(r+s)/b,this._y=.25*b,this._z=(u+p)/b}else{const b=2*Math.sqrt(1+v-i-l);this._w=(s-r)/b,this._x=(a+f)/b,this._y=(u+p)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Kt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,a=e._z,s=e._w,l=t._x,u=t._y,f=t._z,p=t._w;return this._x=i*p+s*l+r*f-a*u,this._y=r*p+s*u+a*l-i*f,this._z=a*p+s*f+i*u-r*l,this._w=s*p-i*l-r*u-a*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,a=this._z,s=this._w;let l=s*e._w+i*e._x+r*e._y+a*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=s,this._x=i,this._y=r,this._z=a,this;const u=1-l*l;if(u<=Number.EPSILON){const b=1-t;return this._w=b*s+t*this._w,this._x=b*i+t*this._x,this._y=b*r+t*this._y,this._z=b*a+t*this._z,this.normalize(),this}const f=Math.sqrt(u),p=Math.atan2(f,l),v=Math.sin((1-t)*p)/f,g=Math.sin(t*p)/f;return this._w=s*v+this._w*g,this._x=i*v+this._x*g,this._y=r*v+this._y*g,this._z=a*v+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Q{constructor(e=0,t=0,i=0){Q.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(UN.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(UN.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*r,this.y=a[1]*t+a[4]*i+a[7]*r,this.z=a[2]*t+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=e.elements,s=1/(a[3]*t+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*r+a[12])*s,this.y=(a[1]*t+a[5]*i+a[9]*r+a[13])*s,this.z=(a[2]*t+a[6]*i+a[10]*r+a[14])*s,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,a=e.x,s=e.y,l=e.z,u=e.w,f=2*(s*r-l*i),p=2*(l*t-a*r),v=2*(a*i-s*t);return this.x=t+u*f+s*v-l*p,this.y=i+u*p+l*f-a*v,this.z=r+u*v+a*p-s*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r,this.y=a[1]*t+a[5]*i+a[9]*r,this.z=a[2]*t+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Kt(this.x,e.x,t.x),this.y=Kt(this.y,e.y,t.y),this.z=Kt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Kt(this.x,e,t),this.y=Kt(this.y,e,t),this.z=Kt(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Kt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,a=e.z,s=t.x,l=t.y,u=t.z;return this.x=r*u-a*l,this.y=a*s-i*u,this.z=i*l-r*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return RM.copy(this).projectOnVector(e),this.sub(RM)}reflect(e){return this.sub(RM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Kt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const RM=new Q,UN=new hr;class dr{constructor(e=new Q(1/0,1/0,1/0),t=new Q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Ho.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Ho.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Ho.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,l=a.count;s<l;s++)e.isMesh===!0?e.getVertexPosition(s,Ho):Ho.fromBufferAttribute(a,s),Ho.applyMatrix4(e.matrixWorld),this.expandByPoint(Ho);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),hx.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),hx.copy(i.boundingBox)),hx.applyMatrix4(e.matrixWorld),this.union(hx)}const r=e.children;for(let a=0,s=r.length;a<s;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ho),Ho.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Tg),dx.subVectors(this.max,Tg),Dp.subVectors(e.a,Tg),Np.subVectors(e.b,Tg),Pp.subVectors(e.c,Tg),sf.subVectors(Np,Dp),of.subVectors(Pp,Np),Sh.subVectors(Dp,Pp);let t=[0,-sf.z,sf.y,0,-of.z,of.y,0,-Sh.z,Sh.y,sf.z,0,-sf.x,of.z,0,-of.x,Sh.z,0,-Sh.x,-sf.y,sf.x,0,-of.y,of.x,0,-Sh.y,Sh.x,0];return!OM(t,Dp,Np,Pp,dx)||(t=[1,0,0,0,1,0,0,0,1],!OM(t,Dp,Np,Pp,dx))?!1:(px.crossVectors(sf,of),t=[px.x,px.y,px.z],OM(t,Dp,Np,Pp,dx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ho).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ho).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Uu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Uu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Uu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Uu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Uu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Uu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Uu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Uu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Uu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Uu=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],Ho=new Q,hx=new dr,Dp=new Q,Np=new Q,Pp=new Q,sf=new Q,of=new Q,Sh=new Q,Tg=new Q,dx=new Q,px=new Q,Mh=new Q;function OM(n,e,t,i,r){for(let a=0,s=n.length-3;a<=s;a+=3){Mh.fromArray(n,a);const l=r.x*Math.abs(Mh.x)+r.y*Math.abs(Mh.y)+r.z*Math.abs(Mh.z),u=e.dot(Mh),f=t.dot(Mh),p=i.dot(Mh);if(Math.max(-Math.max(u,f,p),Math.min(u,f,p))>l)return!1}return!0}const lq=new dr,wg=new Q,BM=new Q;class pr{constructor(e=new Q,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):lq.setFromPoints(e).getCenter(i);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;wg.subVectors(e,this.center);const t=wg.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(wg,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(BM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(wg.copy(e.center).add(BM)),this.expandByPoint(wg.copy(e.center).sub(BM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Iu=new Q,DM=new Q,mx=new Q,lf=new Q,NM=new Q,vx=new Q,PM=new Q;class Ed{constructor(e=new Q,t=new Q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Iu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Iu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Iu.copy(this.origin).addScaledVector(this.direction,t),Iu.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){DM.copy(e).add(t).multiplyScalar(.5),mx.copy(t).sub(e).normalize(),lf.copy(this.origin).sub(DM);const a=e.distanceTo(t)*.5,s=-this.direction.dot(mx),l=lf.dot(this.direction),u=-lf.dot(mx),f=lf.lengthSq(),p=Math.abs(1-s*s);let v,g,b,_;if(p>0)if(v=s*u-l,g=s*l-u,_=a*p,v>=0)if(g>=-_)if(g<=_){const M=1/p;v*=M,g*=M,b=v*(v+s*g+2*l)+g*(s*v+g+2*u)+f}else g=a,v=Math.max(0,-(s*g+l)),b=-v*v+g*(g+2*u)+f;else g=-a,v=Math.max(0,-(s*g+l)),b=-v*v+g*(g+2*u)+f;else g<=-_?(v=Math.max(0,-(-s*a+l)),g=v>0?-a:Math.min(Math.max(-a,-u),a),b=-v*v+g*(g+2*u)+f):g<=_?(v=0,g=Math.min(Math.max(-a,-u),a),b=g*(g+2*u)+f):(v=Math.max(0,-(s*a+l)),g=v>0?a:Math.min(Math.max(-a,-u),a),b=-v*v+g*(g+2*u)+f);else g=s>0?-a:a,v=Math.max(0,-(s*g+l)),b=-v*v+g*(g+2*u)+f;return i&&i.copy(this.origin).addScaledVector(this.direction,v),r&&r.copy(DM).addScaledVector(mx,g),b}intersectSphere(e,t){Iu.subVectors(e.center,this.origin);const i=Iu.dot(this.direction),r=Iu.dot(Iu)-i*i,a=e.radius*e.radius;if(r>a)return null;const s=Math.sqrt(a-r),l=i-s,u=i+s;return u<0?null:l<0?this.at(u,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,a,s,l,u;const f=1/this.direction.x,p=1/this.direction.y,v=1/this.direction.z,g=this.origin;return f>=0?(i=(e.min.x-g.x)*f,r=(e.max.x-g.x)*f):(i=(e.max.x-g.x)*f,r=(e.min.x-g.x)*f),p>=0?(a=(e.min.y-g.y)*p,s=(e.max.y-g.y)*p):(a=(e.max.y-g.y)*p,s=(e.min.y-g.y)*p),i>s||a>r||((a>i||isNaN(i))&&(i=a),(s<r||isNaN(r))&&(r=s),v>=0?(l=(e.min.z-g.z)*v,u=(e.max.z-g.z)*v):(l=(e.max.z-g.z)*v,u=(e.min.z-g.z)*v),i>u||l>r)||((l>i||i!==i)&&(i=l),(u<r||r!==r)&&(r=u),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Iu)!==null}intersectTriangle(e,t,i,r,a){NM.subVectors(t,e),vx.subVectors(i,e),PM.crossVectors(NM,vx);let s=this.direction.dot(PM),l;if(s>0){if(r)return null;l=1}else if(s<0)l=-1,s=-s;else return null;lf.subVectors(this.origin,e);const u=l*this.direction.dot(vx.crossVectors(lf,vx));if(u<0)return null;const f=l*this.direction.dot(NM.cross(lf));if(f<0||u+f>s)return null;const p=-l*lf.dot(PM);return p<0?null:this.at(p/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Lt{constructor(e,t,i,r,a,s,l,u,f,p,v,g,b,_,M,A){Lt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,s,l,u,f,p,v,g,b,_,M,A)}set(e,t,i,r,a,s,l,u,f,p,v,g,b,_,M,A){const S=this.elements;return S[0]=e,S[4]=t,S[8]=i,S[12]=r,S[1]=a,S[5]=s,S[9]=l,S[13]=u,S[2]=f,S[6]=p,S[10]=v,S[14]=g,S[3]=b,S[7]=_,S[11]=M,S[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Lt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Lp.setFromMatrixColumn(e,0).length(),a=1/Lp.setFromMatrixColumn(e,1).length(),s=1/Lp.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*s,t[9]=i[9]*s,t[10]=i[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,a=e.z,s=Math.cos(i),l=Math.sin(i),u=Math.cos(r),f=Math.sin(r),p=Math.cos(a),v=Math.sin(a);if(e.order==="XYZ"){const g=s*p,b=s*v,_=l*p,M=l*v;t[0]=u*p,t[4]=-u*v,t[8]=f,t[1]=b+_*f,t[5]=g-M*f,t[9]=-l*u,t[2]=M-g*f,t[6]=_+b*f,t[10]=s*u}else if(e.order==="YXZ"){const g=u*p,b=u*v,_=f*p,M=f*v;t[0]=g+M*l,t[4]=_*l-b,t[8]=s*f,t[1]=s*v,t[5]=s*p,t[9]=-l,t[2]=b*l-_,t[6]=M+g*l,t[10]=s*u}else if(e.order==="ZXY"){const g=u*p,b=u*v,_=f*p,M=f*v;t[0]=g-M*l,t[4]=-s*v,t[8]=_+b*l,t[1]=b+_*l,t[5]=s*p,t[9]=M-g*l,t[2]=-s*f,t[6]=l,t[10]=s*u}else if(e.order==="ZYX"){const g=s*p,b=s*v,_=l*p,M=l*v;t[0]=u*p,t[4]=_*f-b,t[8]=g*f+M,t[1]=u*v,t[5]=M*f+g,t[9]=b*f-_,t[2]=-f,t[6]=l*u,t[10]=s*u}else if(e.order==="YZX"){const g=s*u,b=s*f,_=l*u,M=l*f;t[0]=u*p,t[4]=M-g*v,t[8]=_*v+b,t[1]=v,t[5]=s*p,t[9]=-l*p,t[2]=-f*p,t[6]=b*v+_,t[10]=g-M*v}else if(e.order==="XZY"){const g=s*u,b=s*f,_=l*u,M=l*f;t[0]=u*p,t[4]=-v,t[8]=f*p,t[1]=g*v+M,t[5]=s*p,t[9]=b*v-_,t[2]=_*v-b,t[6]=l*p,t[10]=M*v+g}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(uq,e,cq)}lookAt(e,t,i){const r=this.elements;return ys.subVectors(e,t),ys.lengthSq()===0&&(ys.z=1),ys.normalize(),uf.crossVectors(i,ys),uf.lengthSq()===0&&(Math.abs(i.z)===1?ys.x+=1e-4:ys.z+=1e-4,ys.normalize(),uf.crossVectors(i,ys)),uf.normalize(),gx.crossVectors(ys,uf),r[0]=uf.x,r[4]=gx.x,r[8]=ys.x,r[1]=uf.y,r[5]=gx.y,r[9]=ys.y,r[2]=uf.z,r[6]=gx.z,r[10]=ys.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,s=i[0],l=i[4],u=i[8],f=i[12],p=i[1],v=i[5],g=i[9],b=i[13],_=i[2],M=i[6],A=i[10],S=i[14],w=i[3],C=i[7],R=i[11],D=i[15],N=r[0],L=r[4],z=r[8],P=r[12],U=r[1],H=r[5],J=r[9],V=r[13],ne=r[2],ee=r[6],Y=r[10],re=r[14],ie=r[3],he=r[7],q=r[11],se=r[15];return a[0]=s*N+l*U+u*ne+f*ie,a[4]=s*L+l*H+u*ee+f*he,a[8]=s*z+l*J+u*Y+f*q,a[12]=s*P+l*V+u*re+f*se,a[1]=p*N+v*U+g*ne+b*ie,a[5]=p*L+v*H+g*ee+b*he,a[9]=p*z+v*J+g*Y+b*q,a[13]=p*P+v*V+g*re+b*se,a[2]=_*N+M*U+A*ne+S*ie,a[6]=_*L+M*H+A*ee+S*he,a[10]=_*z+M*J+A*Y+S*q,a[14]=_*P+M*V+A*re+S*se,a[3]=w*N+C*U+R*ne+D*ie,a[7]=w*L+C*H+R*ee+D*he,a[11]=w*z+C*J+R*Y+D*q,a[15]=w*P+C*V+R*re+D*se,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],a=e[12],s=e[1],l=e[5],u=e[9],f=e[13],p=e[2],v=e[6],g=e[10],b=e[14],_=e[3],M=e[7],A=e[11],S=e[15];return _*(+a*u*v-r*f*v-a*l*g+i*f*g+r*l*b-i*u*b)+M*(+t*u*b-t*f*g+a*s*g-r*s*b+r*f*p-a*u*p)+A*(+t*f*v-t*l*b-a*s*v+i*s*b+a*l*p-i*f*p)+S*(-r*l*p-t*u*v+t*l*g+r*s*v-i*s*g+i*u*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],f=e[7],p=e[8],v=e[9],g=e[10],b=e[11],_=e[12],M=e[13],A=e[14],S=e[15],w=v*A*f-M*g*f+M*u*b-l*A*b-v*u*S+l*g*S,C=_*g*f-p*A*f-_*u*b+s*A*b+p*u*S-s*g*S,R=p*M*f-_*v*f+_*l*b-s*M*b-p*l*S+s*v*S,D=_*v*u-p*M*u-_*l*g+s*M*g+p*l*A-s*v*A,N=t*w+i*C+r*R+a*D;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/N;return e[0]=w*L,e[1]=(M*g*a-v*A*a-M*r*b+i*A*b+v*r*S-i*g*S)*L,e[2]=(l*A*a-M*u*a+M*r*f-i*A*f-l*r*S+i*u*S)*L,e[3]=(v*u*a-l*g*a-v*r*f+i*g*f+l*r*b-i*u*b)*L,e[4]=C*L,e[5]=(p*A*a-_*g*a+_*r*b-t*A*b-p*r*S+t*g*S)*L,e[6]=(_*u*a-s*A*a-_*r*f+t*A*f+s*r*S-t*u*S)*L,e[7]=(s*g*a-p*u*a+p*r*f-t*g*f-s*r*b+t*u*b)*L,e[8]=R*L,e[9]=(_*v*a-p*M*a-_*i*b+t*M*b+p*i*S-t*v*S)*L,e[10]=(s*M*a-_*l*a+_*i*f-t*M*f-s*i*S+t*l*S)*L,e[11]=(p*l*a-s*v*a-p*i*f+t*v*f+s*i*b-t*l*b)*L,e[12]=D*L,e[13]=(p*M*r-_*v*r+_*i*g-t*M*g-p*i*A+t*v*A)*L,e[14]=(_*l*r-s*M*r-_*i*u+t*M*u+s*i*A-t*l*A)*L,e[15]=(s*v*r-p*l*r+p*i*u-t*v*u-s*i*g+t*l*g)*L,this}scale(e){const t=this.elements,i=e.x,r=e.y,a=e.z;return t[0]*=i,t[4]*=r,t[8]*=a,t[1]*=i,t[5]*=r,t[9]*=a,t[2]*=i,t[6]*=r,t[10]*=a,t[3]*=i,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),a=1-i,s=e.x,l=e.y,u=e.z,f=a*s,p=a*l;return this.set(f*s+i,f*l-r*u,f*u+r*l,0,f*l+r*u,p*l+i,p*u-r*s,0,f*u-r*l,p*u+r*s,a*u*u+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,a,s){return this.set(1,i,a,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,a=t._x,s=t._y,l=t._z,u=t._w,f=a+a,p=s+s,v=l+l,g=a*f,b=a*p,_=a*v,M=s*p,A=s*v,S=l*v,w=u*f,C=u*p,R=u*v,D=i.x,N=i.y,L=i.z;return r[0]=(1-(M+S))*D,r[1]=(b+R)*D,r[2]=(_-C)*D,r[3]=0,r[4]=(b-R)*N,r[5]=(1-(g+S))*N,r[6]=(A+w)*N,r[7]=0,r[8]=(_+C)*L,r[9]=(A-w)*L,r[10]=(1-(g+M))*L,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let a=Lp.set(r[0],r[1],r[2]).length();const s=Lp.set(r[4],r[5],r[6]).length(),l=Lp.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],Go.copy(this);const f=1/a,p=1/s,v=1/l;return Go.elements[0]*=f,Go.elements[1]*=f,Go.elements[2]*=f,Go.elements[4]*=p,Go.elements[5]*=p,Go.elements[6]*=p,Go.elements[8]*=v,Go.elements[9]*=v,Go.elements[10]*=v,t.setFromRotationMatrix(Go),i.x=a,i.y=s,i.z=l,this}makePerspective(e,t,i,r,a,s,l=Qo){const u=this.elements,f=2*a/(t-e),p=2*a/(i-r),v=(t+e)/(t-e),g=(i+r)/(i-r);let b,_;if(l===Qo)b=-(s+a)/(s-a),_=-2*s*a/(s-a);else if(l===by)b=-s/(s-a),_=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=f,u[4]=0,u[8]=v,u[12]=0,u[1]=0,u[5]=p,u[9]=g,u[13]=0,u[2]=0,u[6]=0,u[10]=b,u[14]=_,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,i,r,a,s,l=Qo){const u=this.elements,f=1/(t-e),p=1/(i-r),v=1/(s-a),g=(t+e)*f,b=(i+r)*p;let _,M;if(l===Qo)_=(s+a)*v,M=-2*v;else if(l===by)_=a*v,M=-1*v;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=2*f,u[4]=0,u[8]=0,u[12]=-g,u[1]=0,u[5]=2*p,u[9]=0,u[13]=-b,u[2]=0,u[6]=0,u[10]=M,u[14]=-_,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Lp=new Q,Go=new Lt,uq=new Q(0,0,0),cq=new Q(1,1,1),uf=new Q,gx=new Q,ys=new Q,IN=new Lt,FN=new hr;class ts{constructor(e=0,t=0,i=0,r=ts.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,a=r[0],s=r[4],l=r[8],u=r[1],f=r[5],p=r[9],v=r[2],g=r[6],b=r[10];switch(t){case"XYZ":this._y=Math.asin(Kt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,b),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(g,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Kt(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(l,b),this._z=Math.atan2(u,f)):(this._y=Math.atan2(-v,a),this._z=0);break;case"ZXY":this._x=Math.asin(Kt(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-v,b),this._z=Math.atan2(-s,f)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-Kt(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(g,b),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-s,f));break;case"YZX":this._z=Math.asin(Kt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-p,f),this._y=Math.atan2(-v,a)):(this._x=0,this._y=Math.atan2(l,b));break;case"XZY":this._z=Math.asin(-Kt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(g,f),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-p,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return IN.makeRotationFromQuaternion(e),this.setFromRotationMatrix(IN,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return FN.setFromEuler(this),this.setFromQuaternion(FN,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ts.DEFAULT_ORDER="XYZ";class ym{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let fq=0;const zN=new Q,Up=new hr,Fu=new Lt,yx=new Q,Cg=new Q,hq=new Q,dq=new hr,HN=new Q(1,0,0),GN=new Q(0,1,0),kN=new Q(0,0,1),VN={type:"added"},pq={type:"removed"},Ip={type:"childadded",child:null},LM={type:"childremoved",child:null};class Cn extends au{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:fq++}),this.uuid=Ts(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Cn.DEFAULT_UP.clone();const e=new Q,t=new ts,i=new hr,r=new Q(1,1,1);function a(){i.setFromEuler(t,!1)}function s(){t.setFromQuaternion(i,void 0,!1)}t._onChange(a),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Lt},normalMatrix:{value:new Qt}}),this.matrix=new Lt,this.matrixWorld=new Lt,this.matrixAutoUpdate=Cn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Cn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ym,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Up.setFromAxisAngle(e,t),this.quaternion.multiply(Up),this}rotateOnWorldAxis(e,t){return Up.setFromAxisAngle(e,t),this.quaternion.premultiply(Up),this}rotateX(e){return this.rotateOnAxis(HN,e)}rotateY(e){return this.rotateOnAxis(GN,e)}rotateZ(e){return this.rotateOnAxis(kN,e)}translateOnAxis(e,t){return zN.copy(e).applyQuaternion(this.quaternion),this.position.add(zN.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(HN,e)}translateY(e){return this.translateOnAxis(GN,e)}translateZ(e){return this.translateOnAxis(kN,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Fu.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?yx.copy(e):yx.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Cg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fu.lookAt(Cg,yx,this.up):Fu.lookAt(yx,Cg,this.up),this.quaternion.setFromRotationMatrix(Fu),r&&(Fu.extractRotation(r.matrixWorld),Up.setFromRotationMatrix(Fu),this.quaternion.premultiply(Up.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(VN),Ip.child=e,this.dispatchEvent(Ip),Ip.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(pq),LM.child=e,this.dispatchEvent(LM),LM.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Fu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Fu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Fu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(VN),Ip.child=e,this.dispatchEvent(Ip),Ip.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Cg,e,hq),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Cg,dq,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function a(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let f=0,p=u.length;f<p;f++){const v=u[f];a(e.shapes,v)}else a(e.shapes,u)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,f=this.material.length;u<f;u++)l.push(a(e.materials,this.material[u]));r.material=l}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];r.animations.push(a(e.animations,u))}}if(t){const l=s(e.geometries),u=s(e.materials),f=s(e.textures),p=s(e.images),v=s(e.shapes),g=s(e.skeletons),b=s(e.animations),_=s(e.nodes);l.length>0&&(i.geometries=l),u.length>0&&(i.materials=u),f.length>0&&(i.textures=f),p.length>0&&(i.images=p),v.length>0&&(i.shapes=v),g.length>0&&(i.skeletons=g),b.length>0&&(i.animations=b),_.length>0&&(i.nodes=_)}return i.object=r,i;function s(l){const u=[];for(const f in l){const p=l[f];delete p.metadata,u.push(p)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Cn.DEFAULT_UP=new Q(0,1,0);Cn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Cn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ko=new Q,zu=new Q,UM=new Q,Hu=new Q,Fp=new Q,zp=new Q,jN=new Q,IM=new Q,FM=new Q,zM=new Q,HM=new pn,GM=new pn,kM=new pn;class Za{constructor(e=new Q,t=new Q,i=new Q){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),ko.subVectors(e,t),r.cross(ko);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,i,r,a){ko.subVectors(r,t),zu.subVectors(i,t),UM.subVectors(e,t);const s=ko.dot(ko),l=ko.dot(zu),u=ko.dot(UM),f=zu.dot(zu),p=zu.dot(UM),v=s*f-l*l;if(v===0)return a.set(0,0,0),null;const g=1/v,b=(f*u-l*p)*g,_=(s*p-l*u)*g;return a.set(1-b-_,_,b)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Hu)===null?!1:Hu.x>=0&&Hu.y>=0&&Hu.x+Hu.y<=1}static getInterpolation(e,t,i,r,a,s,l,u){return this.getBarycoord(e,t,i,r,Hu)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(a,Hu.x),u.addScaledVector(s,Hu.y),u.addScaledVector(l,Hu.z),u)}static getInterpolatedAttribute(e,t,i,r,a,s){return HM.setScalar(0),GM.setScalar(0),kM.setScalar(0),HM.fromBufferAttribute(e,t),GM.fromBufferAttribute(e,i),kM.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(HM,a.x),s.addScaledVector(GM,a.y),s.addScaledVector(kM,a.z),s}static isFrontFacing(e,t,i,r){return ko.subVectors(i,t),zu.subVectors(e,t),ko.cross(zu).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ko.subVectors(this.c,this.b),zu.subVectors(this.a,this.b),ko.cross(zu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Za.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Za.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,a){return Za.getInterpolation(e,this.a,this.b,this.c,t,i,r,a)}containsPoint(e){return Za.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Za.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,a=this.c;let s,l;Fp.subVectors(r,i),zp.subVectors(a,i),IM.subVectors(e,i);const u=Fp.dot(IM),f=zp.dot(IM);if(u<=0&&f<=0)return t.copy(i);FM.subVectors(e,r);const p=Fp.dot(FM),v=zp.dot(FM);if(p>=0&&v<=p)return t.copy(r);const g=u*v-p*f;if(g<=0&&u>=0&&p<=0)return s=u/(u-p),t.copy(i).addScaledVector(Fp,s);zM.subVectors(e,a);const b=Fp.dot(zM),_=zp.dot(zM);if(_>=0&&b<=_)return t.copy(a);const M=b*f-u*_;if(M<=0&&f>=0&&_<=0)return l=f/(f-_),t.copy(i).addScaledVector(zp,l);const A=p*_-b*v;if(A<=0&&v-p>=0&&b-_>=0)return jN.subVectors(a,r),l=(v-p)/(v-p+(b-_)),t.copy(r).addScaledVector(jN,l);const S=1/(A+M+g);return s=M*S,l=g*S,t.copy(i).addScaledVector(Fp,s).addScaledVector(zp,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const kG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},cf={h:0,s:0,l:0},bx={h:0,s:0,l:0};function VM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let dt=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=fa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Tn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Tn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Tn.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Tn.workingColorSpace){if(e=VO(e,1),t=Kt(t,0,1),i=Kt(i,0,1),t===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+t):i+t-i*t,s=2*i-a;this.r=VM(s,a,e+1/3),this.g=VM(s,a,e),this.b=VM(s,a,e-1/3)}return Tn.toWorkingColorSpace(this,r),this}setStyle(e,t=fa){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=r[1],l=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=fa){const i=kG[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=tc(e.r),this.g=tc(e.g),this.b=tc(e.b),this}copyLinearToSRGB(e){return this.r=om(e.r),this.g=om(e.g),this.b=om(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=fa){return Tn.fromWorkingColorSpace(la.copy(this),e),Math.round(Kt(la.r*255,0,255))*65536+Math.round(Kt(la.g*255,0,255))*256+Math.round(Kt(la.b*255,0,255))}getHexString(e=fa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Tn.workingColorSpace){Tn.fromWorkingColorSpace(la.copy(this),t);const i=la.r,r=la.g,a=la.b,s=Math.max(i,r,a),l=Math.min(i,r,a);let u,f;const p=(l+s)/2;if(l===s)u=0,f=0;else{const v=s-l;switch(f=p<=.5?v/(s+l):v/(2-s-l),s){case i:u=(r-a)/v+(r<a?6:0);break;case r:u=(a-i)/v+2;break;case a:u=(i-r)/v+4;break}u/=6}return e.h=u,e.s=f,e.l=p,e}getRGB(e,t=Tn.workingColorSpace){return Tn.fromWorkingColorSpace(la.copy(this),t),e.r=la.r,e.g=la.g,e.b=la.b,e}getStyle(e=fa){Tn.fromWorkingColorSpace(la.copy(this),e);const t=la.r,i=la.g,r=la.b;return e!==fa?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(cf),this.setHSL(cf.h+e,cf.s+t,cf.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(cf),e.getHSL(bx);const i=ay(cf.h,bx.h,t),r=ay(cf.s,bx.s,t),a=ay(cf.l,bx.l,t);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*i+a[6]*r,this.g=a[1]*t+a[4]*i+a[7]*r,this.b=a[2]*t+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const la=new dt;dt.NAMES=kG;let mq=0;class mr extends au{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:mq++}),this.uuid=Ts(),this.name="",this.type="Material",this.blending=nd,this.side=tu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=P_,this.blendDst=L_,this.blendEquation=mf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new dt(0,0,0),this.blendAlpha=0,this.depthFunc=cd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=GC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Hh,this.stencilZFail=Hh,this.stencilZPass=Hh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==nd&&(i.blending=this.blending),this.side!==tu&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==P_&&(i.blendSrc=this.blendSrc),this.blendDst!==L_&&(i.blendDst=this.blendDst),this.blendEquation!==mf&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==cd&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==GC&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Hh&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Hh&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Hh&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const s=[];for(const l in a){const u=a[l];delete u.metadata,s.push(u)}return s}if(t){const a=r(e.textures),s=r(e.images);a.length>0&&(i.textures=a),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Es extends mr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new dt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ts,this.combine=c0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Wu=vq();function vq(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let u=0;u<256;++u){const f=u-127;f<-27?(i[u]=0,i[u|256]=32768,r[u]=24,r[u|256]=24):f<-14?(i[u]=1024>>-f-14,i[u|256]=1024>>-f-14|32768,r[u]=-f-1,r[u|256]=-f-1):f<=15?(i[u]=f+15<<10,i[u|256]=f+15<<10|32768,r[u]=13,r[u|256]=13):f<128?(i[u]=31744,i[u|256]=64512,r[u]=24,r[u|256]=24):(i[u]=31744,i[u|256]=64512,r[u]=13,r[u|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),l=new Uint32Array(64);for(let u=1;u<1024;++u){let f=u<<13,p=0;for(;(f&8388608)===0;)f<<=1,p-=8388608;f&=-8388609,p+=947912704,a[u]=f|p}for(let u=1024;u<2048;++u)a[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)s[u]=u<<23;s[31]=1199570944,s[32]=2147483648;for(let u=33;u<63;++u)s[u]=2147483648+(u-32<<23);s[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(l[u]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:l}}function Ja(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Kt(n,-65504,65504),Wu.floatView[0]=n;const e=Wu.uint32View[0],t=e>>23&511;return Wu.baseTable[t]+((e&8388607)>>Wu.shiftTable[t])}function Yg(n){const e=n>>10;return Wu.uint32View[0]=Wu.mantissaTable[Wu.offsetTable[e]+(n&1023)]+Wu.exponentTable[e],Wu.floatView[0]}class gq{static toHalfFloat(e){return Ja(e)}static fromHalfFloat(e){return Yg(e)}}const nr=new Q,xx=new ke;let yq=0;class Dn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:yq++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=yy,this.updateRanges=[],this.gpuType=Qa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)xx.fromBufferAttribute(this,t),xx.applyMatrix3(e),this.setXY(t,xx.x,xx.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)nr.fromBufferAttribute(this,t),nr.applyMatrix3(e),this.setXYZ(t,nr.x,nr.y,nr.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)nr.fromBufferAttribute(this,t),nr.applyMatrix4(e),this.setXYZ(t,nr.x,nr.y,nr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)nr.fromBufferAttribute(this,t),nr.applyNormalMatrix(e),this.setXYZ(t,nr.x,nr.y,nr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)nr.fromBufferAttribute(this,t),nr.transformDirection(e),this.setXYZ(t,nr.x,nr.y,nr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Ba(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=en(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ba(t,this.array)),t}setX(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ba(t,this.array)),t}setY(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ba(t,this.array)),t}setZ(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ba(t,this.array)),t}setW(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=en(t,this.array),i=en(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=en(t,this.array),i=en(i,this.array),r=en(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=en(t,this.array),i=en(i,this.array),r=en(r,this.array),a=en(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==yy&&(e.usage=this.usage),e}}class bq extends Dn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class xq extends Dn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class _q extends Dn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Aq extends Dn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class jO extends Dn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Sq extends Dn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class qO extends Dn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Mq extends Dn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Yg(this.array[e*this.itemSize]);return this.normalized&&(t=Ba(t,this.array)),t}setX(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize]=Ja(t),this}getY(e){let t=Yg(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ba(t,this.array)),t}setY(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize+1]=Ja(t),this}getZ(e){let t=Yg(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ba(t,this.array)),t}setZ(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize+2]=Ja(t),this}getW(e){let t=Yg(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ba(t,this.array)),t}setW(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize+3]=Ja(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=en(t,this.array),i=en(i,this.array)),this.array[e+0]=Ja(t),this.array[e+1]=Ja(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=en(t,this.array),i=en(i,this.array),r=en(r,this.array)),this.array[e+0]=Ja(t),this.array[e+1]=Ja(i),this.array[e+2]=Ja(r),this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=en(t,this.array),i=en(i,this.array),r=en(r,this.array),a=en(a,this.array)),this.array[e+0]=Ja(t),this.array[e+1]=Ja(i),this.array[e+2]=Ja(r),this.array[e+3]=Ja(a),this}}class Ct extends Dn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Eq=0;const Ys=new Lt,jM=new Cn,Hp=new Q,bs=new dr,Rg=new dr,Or=new Q;class $t extends au{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Eq++}),this.uuid=Ts(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(zG(e)?qO:jO)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new Qt().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ys.makeRotationFromQuaternion(e),this.applyMatrix4(Ys),this}rotateX(e){return Ys.makeRotationX(e),this.applyMatrix4(Ys),this}rotateY(e){return Ys.makeRotationY(e),this.applyMatrix4(Ys),this}rotateZ(e){return Ys.makeRotationZ(e),this.applyMatrix4(Ys),this}translate(e,t,i){return Ys.makeTranslation(e,t,i),this.applyMatrix4(Ys),this}scale(e,t,i){return Ys.makeScale(e,t,i),this.applyMatrix4(Ys),this}lookAt(e){return jM.lookAt(e),jM.updateMatrix(),this.applyMatrix4(jM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hp).negate(),this.translate(Hp.x,Hp.y,Hp.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const s=e[r];i.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Ct(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new dr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const a=t[i];bs.setFromBufferAttribute(a),this.morphTargetsRelative?(Or.addVectors(this.boundingBox.min,bs.min),this.boundingBox.expandByPoint(Or),Or.addVectors(this.boundingBox.max,bs.max),this.boundingBox.expandByPoint(Or)):(this.boundingBox.expandByPoint(bs.min),this.boundingBox.expandByPoint(bs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new pr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Q,1/0);return}if(e){const i=this.boundingSphere.center;if(bs.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const l=t[a];Rg.setFromBufferAttribute(l),this.morphTargetsRelative?(Or.addVectors(bs.min,Rg.min),bs.expandByPoint(Or),Or.addVectors(bs.max,Rg.max),bs.expandByPoint(Or)):(bs.expandByPoint(Rg.min),bs.expandByPoint(Rg.max))}bs.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)Or.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(Or));if(t)for(let a=0,s=t.length;a<s;a++){const l=t[a],u=this.morphTargetsRelative;for(let f=0,p=l.count;f<p;f++)Or.fromBufferAttribute(l,f),u&&(Hp.fromBufferAttribute(e,f),Or.add(Hp)),r=Math.max(r,i.distanceToSquared(Or))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Dn(new Float32Array(4*i.count),4));const s=this.getAttribute("tangent"),l=[],u=[];for(let z=0;z<i.count;z++)l[z]=new Q,u[z]=new Q;const f=new Q,p=new Q,v=new Q,g=new ke,b=new ke,_=new ke,M=new Q,A=new Q;function S(z,P,U){f.fromBufferAttribute(i,z),p.fromBufferAttribute(i,P),v.fromBufferAttribute(i,U),g.fromBufferAttribute(a,z),b.fromBufferAttribute(a,P),_.fromBufferAttribute(a,U),p.sub(f),v.sub(f),b.sub(g),_.sub(g);const H=1/(b.x*_.y-_.x*b.y);isFinite(H)&&(M.copy(p).multiplyScalar(_.y).addScaledVector(v,-b.y).multiplyScalar(H),A.copy(v).multiplyScalar(b.x).addScaledVector(p,-_.x).multiplyScalar(H),l[z].add(M),l[P].add(M),l[U].add(M),u[z].add(A),u[P].add(A),u[U].add(A))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let z=0,P=w.length;z<P;++z){const U=w[z],H=U.start,J=U.count;for(let V=H,ne=H+J;V<ne;V+=3)S(e.getX(V+0),e.getX(V+1),e.getX(V+2))}const C=new Q,R=new Q,D=new Q,N=new Q;function L(z){D.fromBufferAttribute(r,z),N.copy(D);const P=l[z];C.copy(P),C.sub(D.multiplyScalar(D.dot(P))).normalize(),R.crossVectors(N,P);const H=R.dot(u[z])<0?-1:1;s.setXYZW(z,C.x,C.y,C.z,H)}for(let z=0,P=w.length;z<P;++z){const U=w[z],H=U.start,J=U.count;for(let V=H,ne=H+J;V<ne;V+=3)L(e.getX(V+0)),L(e.getX(V+1)),L(e.getX(V+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Dn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let g=0,b=i.count;g<b;g++)i.setXYZ(g,0,0,0);const r=new Q,a=new Q,s=new Q,l=new Q,u=new Q,f=new Q,p=new Q,v=new Q;if(e)for(let g=0,b=e.count;g<b;g+=3){const _=e.getX(g+0),M=e.getX(g+1),A=e.getX(g+2);r.fromBufferAttribute(t,_),a.fromBufferAttribute(t,M),s.fromBufferAttribute(t,A),p.subVectors(s,a),v.subVectors(r,a),p.cross(v),l.fromBufferAttribute(i,_),u.fromBufferAttribute(i,M),f.fromBufferAttribute(i,A),l.add(p),u.add(p),f.add(p),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(M,u.x,u.y,u.z),i.setXYZ(A,f.x,f.y,f.z)}else for(let g=0,b=t.count;g<b;g+=3)r.fromBufferAttribute(t,g+0),a.fromBufferAttribute(t,g+1),s.fromBufferAttribute(t,g+2),p.subVectors(s,a),v.subVectors(r,a),p.cross(v),i.setXYZ(g+0,p.x,p.y,p.z),i.setXYZ(g+1,p.x,p.y,p.z),i.setXYZ(g+2,p.x,p.y,p.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Or.fromBufferAttribute(e,t),Or.normalize(),e.setXYZ(t,Or.x,Or.y,Or.z)}toNonIndexed(){function e(l,u){const f=l.array,p=l.itemSize,v=l.normalized,g=new f.constructor(u.length*p);let b=0,_=0;for(let M=0,A=u.length;M<A;M++){l.isInterleavedBufferAttribute?b=u[M]*l.data.stride+l.offset:b=u[M]*p;for(let S=0;S<p;S++)g[_++]=f[b++]}return new Dn(g,p,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new $t,i=this.index.array,r=this.attributes;for(const l in r){const u=r[l],f=e(u,i);t.setAttribute(l,f)}const a=this.morphAttributes;for(const l in a){const u=[],f=a[l];for(let p=0,v=f.length;p<v;p++){const g=f[p],b=e(g,i);u.push(b)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let l=0,u=s.length;l<u;l++){const f=s[l];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const f in u)u[f]!==void 0&&(e[f]=u[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const u in i){const f=i[u];e.data.attributes[u]=f.toJSON(e.data)}const r={};let a=!1;for(const u in this.morphAttributes){const f=this.morphAttributes[u],p=[];for(let v=0,g=f.length;v<g;v++){const b=f[v];p.push(b.toJSON(e.data))}p.length>0&&(r[u]=p,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const f in r){const p=r[f];this.setAttribute(f,p.clone(t))}const a=e.morphAttributes;for(const f in a){const p=[],v=a[f];for(let g=0,b=v.length;g<b;g++)p.push(v[g].clone(t));this.morphAttributes[f]=p}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let f=0,p=s.length;f<p;f++){const v=s[f];this.addGroup(v.start,v.count,v.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const qN=new Lt,Eh=new Ed,_x=new pr,XN=new Q,Ax=new Q,Sx=new Q,Mx=new Q,qM=new Q,Ex=new Q,WN=new Q,Tx=new Q;class qi extends Cn{constructor(e=new $t,t=new Es){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,s=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(a&&l){Ex.set(0,0,0);for(let u=0,f=a.length;u<f;u++){const p=l[u],v=a[u];p!==0&&(qM.fromBufferAttribute(v,e),s?Ex.addScaledVector(qM,p):Ex.addScaledVector(qM.sub(t),p))}t.add(Ex)}return t}raycast(e,t){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),_x.copy(i.boundingSphere),_x.applyMatrix4(a),Eh.copy(e.ray).recast(e.near),!(_x.containsPoint(Eh.origin)===!1&&(Eh.intersectSphere(_x,XN)===null||Eh.origin.distanceToSquared(XN)>(e.far-e.near)**2))&&(qN.copy(a).invert(),Eh.copy(e.ray).applyMatrix4(qN),!(i.boundingBox!==null&&Eh.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Eh)))}_computeIntersections(e,t,i){let r;const a=this.geometry,s=this.material,l=a.index,u=a.attributes.position,f=a.attributes.uv,p=a.attributes.uv1,v=a.attributes.normal,g=a.groups,b=a.drawRange;if(l!==null)if(Array.isArray(s))for(let _=0,M=g.length;_<M;_++){const A=g[_],S=s[A.materialIndex],w=Math.max(A.start,b.start),C=Math.min(l.count,Math.min(A.start+A.count,b.start+b.count));for(let R=w,D=C;R<D;R+=3){const N=l.getX(R),L=l.getX(R+1),z=l.getX(R+2);r=wx(this,S,e,i,f,p,v,N,L,z),r&&(r.faceIndex=Math.floor(R/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const _=Math.max(0,b.start),M=Math.min(l.count,b.start+b.count);for(let A=_,S=M;A<S;A+=3){const w=l.getX(A),C=l.getX(A+1),R=l.getX(A+2);r=wx(this,s,e,i,f,p,v,w,C,R),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}else if(u!==void 0)if(Array.isArray(s))for(let _=0,M=g.length;_<M;_++){const A=g[_],S=s[A.materialIndex],w=Math.max(A.start,b.start),C=Math.min(u.count,Math.min(A.start+A.count,b.start+b.count));for(let R=w,D=C;R<D;R+=3){const N=R,L=R+1,z=R+2;r=wx(this,S,e,i,f,p,v,N,L,z),r&&(r.faceIndex=Math.floor(R/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const _=Math.max(0,b.start),M=Math.min(u.count,b.start+b.count);for(let A=_,S=M;A<S;A+=3){const w=A,C=A+1,R=A+2;r=wx(this,s,e,i,f,p,v,w,C,R),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}}}function Tq(n,e,t,i,r,a,s,l){let u;if(e.side===Na?u=i.intersectTriangle(s,a,r,!0,l):u=i.intersectTriangle(r,a,s,e.side===tu,l),u===null)return null;Tx.copy(l),Tx.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(Tx);return f<t.near||f>t.far?null:{distance:f,point:Tx.clone(),object:n}}function wx(n,e,t,i,r,a,s,l,u,f){n.getVertexPosition(l,Ax),n.getVertexPosition(u,Sx),n.getVertexPosition(f,Mx);const p=Tq(n,e,t,i,Ax,Sx,Mx,WN);if(p){const v=new Q;Za.getBarycoord(WN,Ax,Sx,Mx,v),r&&(p.uv=Za.getInterpolatedAttribute(r,l,u,f,v,new ke)),a&&(p.uv1=Za.getInterpolatedAttribute(a,l,u,f,v,new ke)),s&&(p.normal=Za.getInterpolatedAttribute(s,l,u,f,v,new Q),p.normal.dot(i.direction)>0&&p.normal.multiplyScalar(-1));const g={a:l,b:u,c:f,normal:new Q,materialIndex:0};Za.getNormal(Ax,Sx,Mx,g.normal),p.face=g,p.barycoord=v}return p}class Td extends $t{constructor(e=1,t=1,i=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:a,depthSegments:s};const l=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);const u=[],f=[],p=[],v=[];let g=0,b=0;_("z","y","x",-1,-1,i,t,e,s,a,0),_("z","y","x",1,-1,i,t,-e,s,a,1),_("x","z","y",1,1,e,i,t,r,s,2),_("x","z","y",1,-1,e,i,-t,r,s,3),_("x","y","z",1,-1,e,t,i,r,a,4),_("x","y","z",-1,-1,e,t,-i,r,a,5),this.setIndex(u),this.setAttribute("position",new Ct(f,3)),this.setAttribute("normal",new Ct(p,3)),this.setAttribute("uv",new Ct(v,2));function _(M,A,S,w,C,R,D,N,L,z,P){const U=R/L,H=D/z,J=R/2,V=D/2,ne=N/2,ee=L+1,Y=z+1;let re=0,ie=0;const he=new Q;for(let q=0;q<Y;q++){const se=q*H-V;for(let pe=0;pe<ee;pe++){const Se=pe*U-J;he[M]=Se*w,he[A]=se*C,he[S]=ne,f.push(he.x,he.y,he.z),he[M]=0,he[A]=0,he[S]=N>0?1:-1,p.push(he.x,he.y,he.z),v.push(pe/L),v.push(1-q/z),re+=1}}for(let q=0;q<z;q++)for(let se=0;se<L;se++){const pe=g+se+ee*q,Se=g+se+ee*(q+1),oe=g+(se+1)+ee*(q+1),Te=g+(se+1)+ee*q;u.push(pe,Se,Te),u.push(Se,oe,Te),ie+=6}l.addGroup(b,ie,P),b+=ie,g+=re}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Td(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function bm(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Ra(n){const e={};for(let t=0;t<n.length;t++){const i=bm(n[t]);for(const r in i)e[r]=i[r]}return e}function wq(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function VG(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Tn.workingColorSpace}const vA={clone:bm,merge:Ra};var Cq=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Rq=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ws extends mr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Cq,this.fragmentShader=Rq,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=bm(e.uniforms),this.uniformsGroups=wq(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?t.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[r]={type:"m4",value:s.toArray()}:t.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class NS extends Cn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Lt,this.projectionMatrix=new Lt,this.projectionMatrixInverse=new Lt,this.coordinateSystem=Qo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ff=new Q,YN=new ke,KN=new ke;class bi extends NS{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=gm*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(rd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return gm*2*Math.atan(Math.tan(rd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){ff.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(ff.x,ff.y).multiplyScalar(-e/ff.z),ff.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(ff.x,ff.y).multiplyScalar(-e/ff.z)}getViewSize(e,t){return this.getViewBounds(e,YN,KN),t.subVectors(KN,YN)}setViewOffset(e,t,i,r,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(rd*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,a=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const u=s.fullWidth,f=s.fullHeight;a+=s.offsetX*r/u,t-=s.offsetY*i/f,r*=s.width/u,i*=s.height/f}const l=this.filmOffset;l!==0&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Gp=-90,kp=1;class jG extends Cn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new bi(Gp,kp,e,t);r.layers=this.layers,this.add(r);const a=new bi(Gp,kp,e,t);a.layers=this.layers,this.add(a);const s=new bi(Gp,kp,e,t);s.layers=this.layers,this.add(s);const l=new bi(Gp,kp,e,t);l.layers=this.layers,this.add(l);const u=new bi(Gp,kp,e,t);u.layers=this.layers,this.add(u);const f=new bi(Gp,kp,e,t);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,a,s,l,u]=t;for(const f of t)this.remove(f);if(e===Qo)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===by)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of t)this.add(f),f.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,l,u,f,p]=this.children,v=e.getRenderTarget(),g=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const M=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,a),e.setRenderTarget(i,1,r),e.render(t,s),e.setRenderTarget(i,2,r),e.render(t,l),e.setRenderTarget(i,3,r),e.render(t,u),e.setRenderTarget(i,4,r),e.render(t,f),i.texture.generateMipmaps=M,e.setRenderTarget(i,5,r),e.render(t,p),e.setRenderTarget(v,g,b),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class d0 extends _i{constructor(e,t,i,r,a,s,l,u,f,p){e=e!==void 0?e:[],t=t!==void 0?t:oc,super(e,t,i,r,a,s,l,u,f,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class qG extends nu{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new d0(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Zi}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Td(5,5,5),a=new ws({name:"CubemapFromEquirect",uniforms:bm(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Na,blending:ec});a.uniforms.tEquirect.value=t;const s=new qi(r,a),l=t.minFilter;return t.minFilter===$s&&(t.minFilter=Zi),new jG(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,i,r){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,i,r);e.setRenderTarget(a)}}class Yu extends Cn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Oq={type:"move"};class w_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Yu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Yu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Yu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,a=null,s=null;const l=this._targetRay,u=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){s=!0;for(const M of e.hand.values()){const A=t.getJointPose(M,i),S=this._getHandJoint(f,M);A!==null&&(S.matrix.fromArray(A.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=A.radius),S.visible=A!==null}const p=f.joints["index-finger-tip"],v=f.joints["thumb-tip"],g=p.position.distanceTo(v.position),b=.02,_=.005;f.inputState.pinching&&g>b+_?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&g<=b-_&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(Oq)))}return l!==null&&(l.visible=r!==null),u!==null&&(u.visible=a!==null),f!==null&&(f.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Yu;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class PS{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new dt(e),this.density=t}clone(){return new PS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class LS{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new dt(e),this.near=t,this.far=i}clone(){return new LS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class XO extends Cn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ts,this.environmentIntensity=1,this.environmentRotation=new ts,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class p0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=yy,this.updateRanges=[],this.version=0,this.uuid=Ts()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ts()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ts()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const wa=new Q;class $a{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)wa.fromBufferAttribute(this,t),wa.applyMatrix4(e),this.setXYZ(t,wa.x,wa.y,wa.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)wa.fromBufferAttribute(this,t),wa.applyNormalMatrix(e),this.setXYZ(t,wa.x,wa.y,wa.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)wa.fromBufferAttribute(this,t),wa.transformDirection(e),this.setXYZ(t,wa.x,wa.y,wa.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Ba(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=en(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=en(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=en(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=en(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=en(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ba(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ba(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ba(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ba(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=en(t,this.array),i=en(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=en(t,this.array),i=en(i,this.array),r=en(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=en(t,this.array),i=en(i,this.array),r=en(r,this.array),a=en(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new Dn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new $a(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class WO extends mr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new dt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Vp;const Og=new Q,jp=new Q,qp=new Q,Xp=new ke,Bg=new ke,XG=new Lt,Cx=new Q,Dg=new Q,Rx=new Q,JN=new ke,XM=new ke,ZN=new ke;class WG extends Cn{constructor(e=new WO){if(super(),this.isSprite=!0,this.type="Sprite",Vp===void 0){Vp=new $t;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new p0(t,5);Vp.setIndex([0,1,2,0,2,3]),Vp.setAttribute("position",new $a(i,3,0,!1)),Vp.setAttribute("uv",new $a(i,2,3,!1))}this.geometry=Vp,this.material=e,this.center=new ke(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),jp.setFromMatrixScale(this.matrixWorld),XG.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),qp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&jp.multiplyScalar(-qp.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const s=this.center;Ox(Cx.set(-.5,-.5,0),qp,s,jp,r,a),Ox(Dg.set(.5,-.5,0),qp,s,jp,r,a),Ox(Rx.set(.5,.5,0),qp,s,jp,r,a),JN.set(0,0),XM.set(1,0),ZN.set(1,1);let l=e.ray.intersectTriangle(Cx,Dg,Rx,!1,Og);if(l===null&&(Ox(Dg.set(-.5,.5,0),qp,s,jp,r,a),XM.set(0,1),l=e.ray.intersectTriangle(Cx,Rx,Dg,!1,Og),l===null))return;const u=e.ray.origin.distanceTo(Og);u<e.near||u>e.far||t.push({distance:u,point:Og.clone(),uv:Za.getInterpolation(Og,Cx,Dg,Rx,JN,XM,ZN,new ke),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ox(n,e,t,i,r,a){Xp.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Bg.x=a*Xp.x-r*Xp.y,Bg.y=r*Xp.x+a*Xp.y):Bg.copy(Xp),n.copy(e),n.x+=Bg.x,n.y+=Bg.y,n.applyMatrix4(XG)}const Bx=new Q,QN=new Q;class YG extends Cn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),e<a)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Bx.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Bx);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Bx.setFromMatrixPosition(e.matrixWorld),QN.setFromMatrixPosition(this.matrixWorld);const i=Bx.distanceTo(QN)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),i>=s)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const s=i[r];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const $N=new Q,eP=new pn,tP=new pn,Bq=new Q,nP=new Lt,Dx=new Q,WM=new pr,iP=new Lt,YM=new Ed;class YO extends qi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=HC,this.bindMatrix=new Lt,this.bindMatrixInverse=new Lt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new dr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Dx),this.boundingBox.expandByPoint(Dx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new pr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Dx),this.boundingSphere.expandByPoint(Dx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),WM.copy(this.boundingSphere),WM.applyMatrix4(r),e.ray.intersectsSphere(WM)!==!1&&(iP.copy(r).invert(),YM.copy(e.ray).applyMatrix4(iP),!(this.boundingBox!==null&&YM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,YM)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new pn,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===HC?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===MG?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;eP.fromBufferAttribute(r.attributes.skinIndex,e),tP.fromBufferAttribute(r.attributes.skinWeight,e),$N.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=tP.getComponent(a);if(s!==0){const l=eP.getComponent(a);nP.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),t.addScaledVector(Bq.copy($N).applyMatrix4(nP),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class US extends Cn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Jl extends _i{constructor(e=null,t=1,i=1,r,a,s,l,u,f=Dr,p=Dr,v,g){super(null,s,l,u,f,p,r,a,v,g),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const rP=new Lt,Dq=new Lt;class m0{constructor(e=[],t=[]){this.uuid=Ts(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Lt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Lt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const l=e[a]?e[a].matrixWorld:Dq;rP.multiplyMatrices(l,t[a]),rP.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new m0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Jl(t,e,e,pa,Qa);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new US),this.bones.push(s),this.boneInverses.push(new Lt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,a=t.length;r<a;r++){const s=t[r];e.bones.push(s.uuid);const l=i[r];e.boneInverses.push(l.toArray())}return e}}class dd extends Dn{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Wp=new Lt,aP=new Lt,Nx=[],sP=new dr,Nq=new Lt,Ng=new qi,Pg=new pr;class KO extends qi{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new dd(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Nq)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new dr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Wp),sP.copy(e.boundingBox).applyMatrix4(Wp),this.boundingBox.union(sP)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new pr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Wp),Pg.copy(e.boundingSphere).applyMatrix4(Wp),this.boundingSphere.union(Pg)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,s=e*a+1;for(let l=0;l<i.length;l++)i[l]=r[s+l]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Ng.geometry=this.geometry,Ng.material=this.material,Ng.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Pg.copy(this.boundingSphere),Pg.applyMatrix4(i),e.ray.intersectsSphere(Pg)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Wp),aP.multiplyMatrices(i,Wp),Ng.matrixWorld=aP,Ng.raycast(e,Nx);for(let s=0,l=Nx.length;s<l;s++){const u=Nx[s];u.instanceId=a,u.object=this,t.push(u)}Nx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new dd(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Jl(new Float32Array(r*this.count),r,this.count,TS,Qa));const a=this.morphTexture.source.data.data;let s=0;for(let f=0;f<i.length;f++)s+=i[f];const l=this.geometry.morphTargetsRelative?1:1-s,u=r*e;a[u]=l,a.set(i,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const KM=new Q,Pq=new Q,Lq=new Qt;class qu{constructor(e=new Q(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=KM.subVectors(i,t).cross(Pq.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(KM),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||Lq.getNormalMatrix(e),r=this.coplanarPoint(KM).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Th=new pr,Px=new Q;class v0{constructor(e=new qu,t=new qu,i=new qu,r=new qu,a=new qu,s=new qu){this.planes=[e,t,i,r,a,s]}set(e,t,i,r,a,s){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(i),l[3].copy(r),l[4].copy(a),l[5].copy(s),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Qo){const i=this.planes,r=e.elements,a=r[0],s=r[1],l=r[2],u=r[3],f=r[4],p=r[5],v=r[6],g=r[7],b=r[8],_=r[9],M=r[10],A=r[11],S=r[12],w=r[13],C=r[14],R=r[15];if(i[0].setComponents(u-a,g-f,A-b,R-S).normalize(),i[1].setComponents(u+a,g+f,A+b,R+S).normalize(),i[2].setComponents(u+s,g+p,A+_,R+w).normalize(),i[3].setComponents(u-s,g-p,A-_,R-w).normalize(),i[4].setComponents(u-l,g-v,A-M,R-C).normalize(),t===Qo)i[5].setComponents(u+l,g+v,A+M,R+C).normalize();else if(t===by)i[5].setComponents(l,v,M,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Th.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Th.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Th)}intersectsSprite(e){return Th.center.set(0,0,0),Th.radius=.7071067811865476,Th.applyMatrix4(e.matrixWorld),this.intersectsSphere(Th)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Px.x=r.normal.x>0?e.max.x:e.min.x,Px.y=r.normal.y>0?e.max.y:e.min.y,Px.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Px)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function JM(n,e){return n-e}function Uq(n,e){return n.z-e.z}function Iq(n,e){return e.z-n.z}class Fq{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const l=a[this.index];s.push(l),this.index++,l.start=e,l.count=t,l.z=i,l.index=r}reset(){this.list.length=0,this.index=0}}const Ka=new Lt,zq=new dt(1,1,1),ZM=new v0,Lx=new dr,wh=new pr,Lg=new Q,oP=new Q,Hq=new Q,QM=new Fq,ua=new qi,Ux=[];function Gq(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let a=0;a<r;a++)for(let s=0;s<i;s++)e.setComponent(a+t,s,n.getComponent(a,s))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Ch(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class KG extends qi{constructor(e,t,i=t*2,r){super(new $t,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Jl(t,e,e,pa,Qa);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Jl(t,e,e,f0,lc);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Jl(t,e,e,pa,Qa);i.colorSpace=Tn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:l,itemSize:u,normalized:f}=s,p=new l.constructor(i*u),v=new Dn(p,u,f);t.setAttribute(a,v)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Dn(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=t.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new dr);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,Ka),this.getBoundingBoxAt(a,Lx).applyMatrix4(Ka),e.union(Lx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new pr);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,Ka),this.getBoundingSphereAt(a,wh).applyMatrix4(Ka),e.union(wh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(JM),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;Ka.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(zq.toArray(s.image.data,r*4),s.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?s.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(JM),u=this._availableGeometryIds.shift(),a[u]=r):(u=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(u,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),s=t.getIndex(),l=this._geometryInfo[e];if(r&&s.count>l.reservedIndexCount||t.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=l.vertexStart,f=l.reservedVertexCount;l.vertexCount=t.getAttribute("position").count;for(const p in i.attributes){const v=t.getAttribute(p),g=i.getAttribute(p);Gq(v,g,u);const b=v.itemSize;for(let _=v.count,M=f;_<M;_++){const A=u+_;for(let S=0;S<b;S++)g.setComponent(A,S,0)}g.needsUpdate=!0,g.addUpdateRange(u*b,f*b)}if(r){const p=l.indexStart,v=l.reservedIndexCount;l.indexCount=t.getIndex().count;for(let g=0;g<s.count;g++)a.setX(p+g,u+s.getX(g));for(let g=s.count,b=v;g<b;g++)a.setX(p+g,u);a.needsUpdate=!0,a.addUpdateRange(p,l.reservedIndexCount)}return l.start=r?l.indexStart:l.vertexStart,l.count=r?l.indexCount:l.vertexCount,l.boundingBox=null,t.boundingBox!==null&&(l.boundingBox=t.boundingBox.clone()),l.boundingSphere=null,t.boundingSphere!==null&&(l.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((s,l)=>l).sort((s,l)=>i[s].vertexStart-i[l].vertexStart),a=this.geometry;for(let s=0,l=i.length;s<l;s++){const u=r[s],f=i[u];if(f.active!==!1){if(a.index!==null){if(f.indexStart!==t){const{indexStart:p,vertexStart:v,reservedIndexCount:g}=f,b=a.index,_=b.array,M=e-v;for(let A=p;A<p+g;A++)_[A]=_[A]+M;b.array.copyWithin(t,p,p+g),b.addUpdateRange(t,g),f.indexStart=t}t+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:p,reservedVertexCount:v}=f,g=a.attributes;for(const b in g){const _=g[b],{array:M,itemSize:A}=_;M.copyWithin(e*A,p*A,(p+v)*A),_.addUpdateRange(e*A,v*A)}f.vertexStart=e}e+=f.reservedVertexCount,f.start=a.index?f.indexStart:f.vertexStart,this._nextIndexStart=a.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new dr,s=i.index,l=i.attributes.position;for(let u=r.start,f=r.start+r.count;u<f;u++){let p=u;s&&(p=s.getX(p)),a.expandByPoint(Lg.fromBufferAttribute(l,p))}r.boundingBox=a}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new pr;this.getBoundingBoxAt(e,Lx),Lx.getCenter(a.center);const s=i.index,l=i.attributes.position;let u=0;for(let f=r.start,p=r.start+r.count;f<p;f++){let v=f;s&&(v=s.getX(v)),Lg.fromBufferAttribute(l,v),u=Math.max(u,a.center.distanceToSquared(Lg))}a.radius=Math.sqrt(u),r.boundingSphere=a}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(JM);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Ch(this._multiDrawCounts,r),Ch(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,l=this._matricesTexture,u=this._colorsTexture;s.dispose(),this._initIndirectTexture(),Ch(s.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Ch(l.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),Ch(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(u=>u.indexStart+u.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new $t,this._initializeGeometry(a));const s=this.geometry;a.index&&Ch(a.index.array,s.index.array);for(const l in a.attributes)Ch(a.attributes[l].array,s.attributes[l].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,s=this.geometry;ua.material=this.material,ua.geometry.index=s.index,ua.geometry.attributes=s.attributes,ua.geometry.boundingBox===null&&(ua.geometry.boundingBox=new dr),ua.geometry.boundingSphere===null&&(ua.geometry.boundingSphere=new pr);for(let l=0,u=i.length;l<u;l++){if(!i[l].visible||!i[l].active)continue;const f=i[l].geometryIndex,p=r[f];ua.geometry.setDrawRange(p.start,p.count),this.getMatrixAt(l,ua.matrixWorld).premultiply(a),this.getBoundingBoxAt(f,ua.geometry.boundingBox),this.getBoundingSphereAt(f,ua.geometry.boundingSphere),ua.raycast(e,Ux);for(let v=0,g=Ux.length;v<g;v++){const b=Ux[v];b.object=this,b.batchId=l,t.push(b)}Ux.length=0}ua.material=null,ua.geometry.index=null,ua.geometry.attributes={},ua.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex(),l=s===null?1:s.array.BYTES_PER_ELEMENT,u=this._instanceInfo,f=this._multiDrawStarts,p=this._multiDrawCounts,v=this._geometryInfo,g=this.perObjectFrustumCulled,b=this._indirectTexture,_=b.image.data;g&&(Ka.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),ZM.setFromProjectionMatrix(Ka,e.coordinateSystem));let M=0;if(this.sortObjects){Ka.copy(this.matrixWorld).invert(),Lg.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Ka),oP.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Ka);for(let w=0,C=u.length;w<C;w++)if(u[w].visible&&u[w].active){const R=u[w].geometryIndex;this.getMatrixAt(w,Ka),this.getBoundingSphereAt(R,wh).applyMatrix4(Ka);let D=!1;if(g&&(D=!ZM.intersectsSphere(wh)),!D){const N=v[R],L=Hq.subVectors(wh.center,Lg).dot(oP);QM.push(N.start,N.count,L,w)}}const A=QM.list,S=this.customSort;S===null?A.sort(a.transparent?Iq:Uq):S.call(this,A,i);for(let w=0,C=A.length;w<C;w++){const R=A[w];f[M]=R.start*l,p[M]=R.count,_[M]=R.index,M++}QM.reset()}else for(let A=0,S=u.length;A<S;A++)if(u[A].visible&&u[A].active){const w=u[A].geometryIndex;let C=!1;if(g&&(this.getMatrixAt(A,Ka),this.getBoundingSphereAt(w,wh).applyMatrix4(Ka),C=!ZM.intersectsSphere(wh)),!C){const R=v[w];f[M]=R.start*l,p[M]=R.count,_[M]=A,M++}}b.needsUpdate=!0,this._multiDrawCount=M,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,a,s){this.onBeforeRender(e,null,r,a,s)}}class ma extends mr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new dt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const gA=new Q,yA=new Q,lP=new Lt,Ug=new Ed,Ix=new pr,$M=new Q,uP=new Q;let uc=class extends Cn{constructor(e=new $t,t=new ma){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,a=t.count;r<a;r++)gA.fromBufferAttribute(t,r-1),yA.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=gA.distanceTo(yA);e.setAttribute("lineDistance",new Ct(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ix.copy(i.boundingSphere),Ix.applyMatrix4(r),Ix.radius+=a,e.ray.intersectsSphere(Ix)===!1)return;lP.copy(r).invert(),Ug.copy(e.ray).applyMatrix4(lP);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,f=this.isLineSegments?2:1,p=i.index,g=i.attributes.position;if(p!==null){const b=Math.max(0,s.start),_=Math.min(p.count,s.start+s.count);for(let M=b,A=_-1;M<A;M+=f){const S=p.getX(M),w=p.getX(M+1),C=Fx(this,e,Ug,u,S,w,M);C&&t.push(C)}if(this.isLineLoop){const M=p.getX(_-1),A=p.getX(b),S=Fx(this,e,Ug,u,M,A,_-1);S&&t.push(S)}}else{const b=Math.max(0,s.start),_=Math.min(g.count,s.start+s.count);for(let M=b,A=_-1;M<A;M+=f){const S=Fx(this,e,Ug,u,M,M+1,M);S&&t.push(S)}if(this.isLineLoop){const M=Fx(this,e,Ug,u,_-1,b,_-1);M&&t.push(M)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}};function Fx(n,e,t,i,r,a,s){const l=n.geometry.attributes.position;if(gA.fromBufferAttribute(l,r),yA.fromBufferAttribute(l,a),t.distanceSqToSegment(gA,yA,$M,uP)>i)return;$M.applyMatrix4(n.matrixWorld);const f=e.ray.origin.distanceTo($M);if(!(f<e.near||f>e.far))return{distance:f,point:uP.clone().applyMatrix4(n.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:n}}const cP=new Q,fP=new Q;class nl extends uc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,a=t.count;r<a;r+=2)cP.fromBufferAttribute(t,r),fP.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+cP.distanceTo(fP);e.setAttribute("lineDistance",new Ct(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class JO extends uc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class IS extends mr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new dt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const hP=new Lt,VC=new Ed,zx=new pr,Hx=new Q;class ZO extends Cn{constructor(e=new $t,t=new IS){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),zx.copy(i.boundingSphere),zx.applyMatrix4(r),zx.radius+=a,e.ray.intersectsSphere(zx)===!1)return;hP.copy(r).invert(),VC.copy(e.ray).applyMatrix4(hP);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,f=i.index,v=i.attributes.position;if(f!==null){const g=Math.max(0,s.start),b=Math.min(f.count,s.start+s.count);for(let _=g,M=b;_<M;_++){const A=f.getX(_);Hx.fromBufferAttribute(v,A),dP(Hx,A,u,r,e,t,this)}}else{const g=Math.max(0,s.start),b=Math.min(v.count,s.start+s.count);for(let _=g,M=b;_<M;_++)Hx.fromBufferAttribute(v,_),dP(Hx,_,u,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function dP(n,e,t,i,r,a,s){const l=VC.distanceSqToPoint(n);if(l<t){const u=new Q;VC.closestPointToPoint(n,u),u.applyMatrix4(i);const f=r.ray.origin.distanceTo(u);if(f<r.near||f>r.far)return;a.push({distance:f,distanceToRay:Math.sqrt(l),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class JG extends _i{constructor(e,t,i,r,a,s,l,u,f){super(e,t,i,r,a,s,l,u,f),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:Zi,this.magFilter=a!==void 0?a:Zi,this.generateMipmaps=!1;const p=this;function v(){p.needsUpdate=!0,e.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(v)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class kq extends JG{constructor(e,t,i,r,a,s,l,u){super({},e,t,i,r,a,s,l,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Vq extends _i{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Dr,this.minFilter=Dr,this.generateMipmaps=!1,this.needsUpdate=!0}}class FS extends _i{constructor(e,t,i,r,a,s,l,u,f,p,v,g){super(null,s,l,u,f,p,r,a,v,g),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class jq extends FS{constructor(e,t,i,r,a,s){super(e,t,i,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Ms,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class qq extends FS{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,oc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Xq extends _i{constructor(e,t,i,r,a,s,l,u,f){super(e,t,i,r,a,s,l,u,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class QO extends _i{constructor(e,t,i,r,a,s,l,u,f,p=id){if(p!==id&&p!==hd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&p===id&&(i=lc),i===void 0&&p===hd&&(i=fd),super(null,r,a,s,l,u,p,i,f),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=l!==void 0?l:Dr,this.minFilter=u!==void 0?u:Dr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new yf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}let il=class{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),a+=i.distanceTo(r),t.push(a),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const a=i.length;let s;t?s=t:s=e*i[a-1];let l=0,u=a-1,f;for(;l<=u;)if(r=Math.floor(l+(u-l)/2),f=i[r]-s,f<0)l=r+1;else if(f>0)u=r-1;else{u=r;break}if(r=u,i[r]===s)return r/(a-1);const p=i[r],g=i[r+1]-p,b=(s-p)/g;return(r+b)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const s=this.getPoint(r),l=this.getPoint(a),u=t||(s.isVector2?new ke:new Q);return u.copy(l).sub(s).normalize(),u}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new Q,r=[],a=[],s=[],l=new Q,u=new Lt;for(let b=0;b<=e;b++){const _=b/e;r[b]=this.getTangentAt(_,new Q)}a[0]=new Q,s[0]=new Q;let f=Number.MAX_VALUE;const p=Math.abs(r[0].x),v=Math.abs(r[0].y),g=Math.abs(r[0].z);p<=f&&(f=p,i.set(1,0,0)),v<=f&&(f=v,i.set(0,1,0)),g<=f&&i.set(0,0,1),l.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],l),s[0].crossVectors(r[0],a[0]);for(let b=1;b<=e;b++){if(a[b]=a[b-1].clone(),s[b]=s[b-1].clone(),l.crossVectors(r[b-1],r[b]),l.length()>Number.EPSILON){l.normalize();const _=Math.acos(Kt(r[b-1].dot(r[b]),-1,1));a[b].applyMatrix4(u.makeRotationAxis(l,_))}s[b].crossVectors(r[b],a[b])}if(t===!0){let b=Math.acos(Kt(a[0].dot(a[e]),-1,1));b/=e,r[0].dot(l.crossVectors(a[0],a[e]))>0&&(b=-b);for(let _=1;_<=e;_++)a[_].applyMatrix4(u.makeRotationAxis(r[_],b*_)),s[_].crossVectors(r[_],a[_])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class zS extends il{constructor(e=0,t=0,i=1,r=1,a=0,s=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=l,this.aRotation=u}getPoint(e,t=new ke){const i=t,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);const l=this.aStartAngle+e*a;let u=this.aX+this.xRadius*Math.cos(l),f=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const p=Math.cos(this.aRotation),v=Math.sin(this.aRotation),g=u-this.aX,b=f-this.aY;u=g*p-b*v+this.aX,f=g*v+b*p+this.aY}return i.set(u,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ZG extends zS{constructor(e,t,i,r,a,s){super(e,t,i,i,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function $O(){let n=0,e=0,t=0,i=0;function r(a,s,l,u){n=a,e=l,t=-3*a+3*s-2*l-u,i=2*a-2*s+l+u}return{initCatmullRom:function(a,s,l,u,f){r(s,l,f*(l-a),f*(u-s))},initNonuniformCatmullRom:function(a,s,l,u,f,p,v){let g=(s-a)/f-(l-a)/(f+p)+(l-s)/p,b=(l-s)/p-(u-s)/(p+v)+(u-l)/v;g*=p,b*=p,r(s,l,g,b)},calc:function(a){const s=a*a,l=s*a;return n+e*a+t*s+i*l}}}const Gx=new Q,eE=new $O,tE=new $O,nE=new $O;class QG extends il{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new Q){const i=t,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e;let l=Math.floor(s),u=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:u===0&&l===a-1&&(l=a-2,u=1);let f,p;this.closed||l>0?f=r[(l-1)%a]:(Gx.subVectors(r[0],r[1]).add(r[0]),f=Gx);const v=r[l%a],g=r[(l+1)%a];if(this.closed||l+2<a?p=r[(l+2)%a]:(Gx.subVectors(r[a-1],r[a-2]).add(r[a-1]),p=Gx),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let _=Math.pow(f.distanceToSquared(v),b),M=Math.pow(v.distanceToSquared(g),b),A=Math.pow(g.distanceToSquared(p),b);M<1e-4&&(M=1),_<1e-4&&(_=M),A<1e-4&&(A=M),eE.initNonuniformCatmullRom(f.x,v.x,g.x,p.x,_,M,A),tE.initNonuniformCatmullRom(f.y,v.y,g.y,p.y,_,M,A),nE.initNonuniformCatmullRom(f.z,v.z,g.z,p.z,_,M,A)}else this.curveType==="catmullrom"&&(eE.initCatmullRom(f.x,v.x,g.x,p.x,this.tension),tE.initCatmullRom(f.y,v.y,g.y,p.y,this.tension),nE.initCatmullRom(f.z,v.z,g.z,p.z,this.tension));return i.set(eE.calc(u),tE.calc(u),nE.calc(u)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Q().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function pP(n,e,t,i,r){const a=(i-e)*.5,s=(r-t)*.5,l=n*n,u=n*l;return(2*t-2*i+a+s)*u+(-3*t+3*i-2*a-s)*l+a*n+t}function Wq(n,e){const t=1-n;return t*t*e}function Yq(n,e){return 2*(1-n)*n*e}function Kq(n,e){return n*n*e}function sy(n,e,t,i){return Wq(n,e)+Yq(n,t)+Kq(n,i)}function Jq(n,e){const t=1-n;return t*t*t*e}function Zq(n,e){const t=1-n;return 3*t*t*n*e}function Qq(n,e){return 3*(1-n)*n*n*e}function $q(n,e){return n*n*n*e}function oy(n,e,t,i,r){return Jq(n,e)+Zq(n,t)+Qq(n,i)+$q(n,r)}class eB extends il{constructor(e=new ke,t=new ke,i=new ke,r=new ke){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ke){const i=t,r=this.v0,a=this.v1,s=this.v2,l=this.v3;return i.set(oy(e,r.x,a.x,s.x,l.x),oy(e,r.y,a.y,s.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class $G extends il{constructor(e=new Q,t=new Q,i=new Q,r=new Q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Q){const i=t,r=this.v0,a=this.v1,s=this.v2,l=this.v3;return i.set(oy(e,r.x,a.x,s.x,l.x),oy(e,r.y,a.y,s.y,l.y),oy(e,r.z,a.z,s.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class tB extends il{constructor(e=new ke,t=new ke){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ke){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ke){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class e5 extends il{constructor(e=new Q,t=new Q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Q){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Q){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nB extends il{constructor(e=new ke,t=new ke,i=new ke){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ke){const i=t,r=this.v0,a=this.v1,s=this.v2;return i.set(sy(e,r.x,a.x,s.x),sy(e,r.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iB extends il{constructor(e=new Q,t=new Q,i=new Q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Q){const i=t,r=this.v0,a=this.v1,s=this.v2;return i.set(sy(e,r.x,a.x,s.x),sy(e,r.y,a.y,s.y),sy(e,r.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rB extends il{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ke){const i=t,r=this.points,a=(r.length-1)*e,s=Math.floor(a),l=a-s,u=r[s===0?s:s-1],f=r[s],p=r[s>r.length-2?r.length-1:s+1],v=r[s>r.length-3?r.length-1:s+2];return i.set(pP(l,u.x,f.x,p.x,v.x),pP(l,u.y,f.y,p.y,v.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ke().fromArray(r))}return this}}var bA=Object.freeze({__proto__:null,ArcCurve:ZG,CatmullRomCurve3:QG,CubicBezierCurve:eB,CubicBezierCurve3:$G,EllipseCurve:zS,LineCurve:tB,LineCurve3:e5,QuadraticBezierCurve:nB,QuadraticBezierCurve3:iB,SplineCurve:rB});class t5 extends il{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new bA[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const s=r[a]-i,l=this.curves[a],u=l.getLength(),f=u===0?0:1-s/u;return l.getPointAt(f,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const s=a[r],l=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,u=s.getPoints(l);for(let f=0;f<u.length;f++){const p=u[f];i&&i.equals(p)||(t.push(p),i=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new bA[r.type]().fromJSON(r))}return this}}let _y=class extends t5{constructor(e){super(),this.type="Path",this.currentPoint=new ke,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new tB(this.currentPoint.clone(),new ke(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const a=new nB(this.currentPoint.clone(),new ke(e,t),new ke(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,a,s){const l=new eB(this.currentPoint.clone(),new ke(e,t),new ke(i,r),new ke(a,s));return this.curves.push(l),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new rB(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,a,s){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+l,t+u,i,r,a,s),this}absarc(e,t,i,r,a,s){return this.absellipse(e,t,i,i,r,a,s),this}ellipse(e,t,i,r,a,s,l,u){const f=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+f,t+p,i,r,a,s,l,u),this}absellipse(e,t,i,r,a,s,l,u){const f=new zS(e,t,i,r,a,s,l,u);if(this.curves.length>0){const v=f.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(f);const p=f.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class g0 extends $t{constructor(e=[new ke(0,-.5),new ke(.5,0),new ke(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Kt(r,0,Math.PI*2);const a=[],s=[],l=[],u=[],f=[],p=1/t,v=new Q,g=new ke,b=new Q,_=new Q,M=new Q;let A=0,S=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:A=e[w+1].x-e[w].x,S=e[w+1].y-e[w].y,b.x=S*1,b.y=-A,b.z=S*0,M.copy(b),b.normalize(),u.push(b.x,b.y,b.z);break;case e.length-1:u.push(M.x,M.y,M.z);break;default:A=e[w+1].x-e[w].x,S=e[w+1].y-e[w].y,b.x=S*1,b.y=-A,b.z=S*0,_.copy(b),b.x+=M.x,b.y+=M.y,b.z+=M.z,b.normalize(),u.push(b.x,b.y,b.z),M.copy(_)}for(let w=0;w<=t;w++){const C=i+w*p*r,R=Math.sin(C),D=Math.cos(C);for(let N=0;N<=e.length-1;N++){v.x=e[N].x*R,v.y=e[N].y,v.z=e[N].x*D,s.push(v.x,v.y,v.z),g.x=w/t,g.y=N/(e.length-1),l.push(g.x,g.y);const L=u[3*N+0]*R,z=u[3*N+1],P=u[3*N+0]*D;f.push(L,z,P)}}for(let w=0;w<t;w++)for(let C=0;C<e.length-1;C++){const R=C+w*e.length,D=R,N=R+e.length,L=R+e.length+1,z=R+1;a.push(D,N,z),a.push(L,z,N)}this.setIndex(a),this.setAttribute("position",new Ct(s,3)),this.setAttribute("uv",new Ct(l,2)),this.setAttribute("normal",new Ct(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new g0(e.points,e.segments,e.phiStart,e.phiLength)}}class HS extends g0{constructor(e=1,t=1,i=4,r=8){const a=new _y;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new HS(e.radius,e.length,e.capSegments,e.radialSegments)}}class GS extends $t{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const a=[],s=[],l=[],u=[],f=new Q,p=new ke;s.push(0,0,0),l.push(0,0,1),u.push(.5,.5);for(let v=0,g=3;v<=t;v++,g+=3){const b=i+v/t*r;f.x=e*Math.cos(b),f.y=e*Math.sin(b),s.push(f.x,f.y,f.z),l.push(0,0,1),p.x=(s[g]/e+1)/2,p.y=(s[g+1]/e+1)/2,u.push(p.x,p.y)}for(let v=1;v<=t;v++)a.push(v,v+1,0);this.setIndex(a),this.setAttribute("position",new Ct(s,3)),this.setAttribute("normal",new Ct(l,3)),this.setAttribute("uv",new Ct(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new GS(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Qm extends $t{constructor(e=1,t=1,i=1,r=32,a=1,s=!1,l=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:l,thetaLength:u};const f=this;r=Math.floor(r),a=Math.floor(a);const p=[],v=[],g=[],b=[];let _=0;const M=[],A=i/2;let S=0;w(),s===!1&&(e>0&&C(!0),t>0&&C(!1)),this.setIndex(p),this.setAttribute("position",new Ct(v,3)),this.setAttribute("normal",new Ct(g,3)),this.setAttribute("uv",new Ct(b,2));function w(){const R=new Q,D=new Q;let N=0;const L=(t-e)/i;for(let z=0;z<=a;z++){const P=[],U=z/a,H=U*(t-e)+e;for(let J=0;J<=r;J++){const V=J/r,ne=V*u+l,ee=Math.sin(ne),Y=Math.cos(ne);D.x=H*ee,D.y=-U*i+A,D.z=H*Y,v.push(D.x,D.y,D.z),R.set(ee,L,Y).normalize(),g.push(R.x,R.y,R.z),b.push(V,1-U),P.push(_++)}M.push(P)}for(let z=0;z<r;z++)for(let P=0;P<a;P++){const U=M[P][z],H=M[P+1][z],J=M[P+1][z+1],V=M[P][z+1];(e>0||P!==0)&&(p.push(U,H,V),N+=3),(t>0||P!==a-1)&&(p.push(H,J,V),N+=3)}f.addGroup(S,N,0),S+=N}function C(R){const D=_,N=new ke,L=new Q;let z=0;const P=R===!0?e:t,U=R===!0?1:-1;for(let J=1;J<=r;J++)v.push(0,A*U,0),g.push(0,U,0),b.push(.5,.5),_++;const H=_;for(let J=0;J<=r;J++){const ne=J/r*u+l,ee=Math.cos(ne),Y=Math.sin(ne);L.x=P*Y,L.y=A*U,L.z=P*ee,v.push(L.x,L.y,L.z),g.push(0,U,0),N.x=ee*.5+.5,N.y=Y*.5*U+.5,b.push(N.x,N.y),_++}for(let J=0;J<r;J++){const V=D+J,ne=H+J;R===!0?p.push(ne,ne+1,V):p.push(ne+1,ne,V),z+=3}f.addGroup(S,z,R===!0?1:2),S+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qm(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class kS extends Qm{constructor(e=1,t=1,i=32,r=1,a=!1,s=0,l=Math.PI*2){super(0,e,t,i,r,a,s,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:l}}static fromJSON(e){return new kS(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class wf extends $t{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const a=[],s=[];l(r),f(i),p(),this.setAttribute("position",new Ct(a,3)),this.setAttribute("normal",new Ct(a.slice(),3)),this.setAttribute("uv",new Ct(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(w){const C=new Q,R=new Q,D=new Q;for(let N=0;N<t.length;N+=3)b(t[N+0],C),b(t[N+1],R),b(t[N+2],D),u(C,R,D,w)}function u(w,C,R,D){const N=D+1,L=[];for(let z=0;z<=N;z++){L[z]=[];const P=w.clone().lerp(R,z/N),U=C.clone().lerp(R,z/N),H=N-z;for(let J=0;J<=H;J++)J===0&&z===N?L[z][J]=P:L[z][J]=P.clone().lerp(U,J/H)}for(let z=0;z<N;z++)for(let P=0;P<2*(N-z)-1;P++){const U=Math.floor(P/2);P%2===0?(g(L[z][U+1]),g(L[z+1][U]),g(L[z][U])):(g(L[z][U+1]),g(L[z+1][U+1]),g(L[z+1][U]))}}function f(w){const C=new Q;for(let R=0;R<a.length;R+=3)C.x=a[R+0],C.y=a[R+1],C.z=a[R+2],C.normalize().multiplyScalar(w),a[R+0]=C.x,a[R+1]=C.y,a[R+2]=C.z}function p(){const w=new Q;for(let C=0;C<a.length;C+=3){w.x=a[C+0],w.y=a[C+1],w.z=a[C+2];const R=A(w)/2/Math.PI+.5,D=S(w)/Math.PI+.5;s.push(R,1-D)}_(),v()}function v(){for(let w=0;w<s.length;w+=6){const C=s[w+0],R=s[w+2],D=s[w+4],N=Math.max(C,R,D),L=Math.min(C,R,D);N>.9&&L<.1&&(C<.2&&(s[w+0]+=1),R<.2&&(s[w+2]+=1),D<.2&&(s[w+4]+=1))}}function g(w){a.push(w.x,w.y,w.z)}function b(w,C){const R=w*3;C.x=e[R+0],C.y=e[R+1],C.z=e[R+2]}function _(){const w=new Q,C=new Q,R=new Q,D=new Q,N=new ke,L=new ke,z=new ke;for(let P=0,U=0;P<a.length;P+=9,U+=6){w.set(a[P+0],a[P+1],a[P+2]),C.set(a[P+3],a[P+4],a[P+5]),R.set(a[P+6],a[P+7],a[P+8]),N.set(s[U+0],s[U+1]),L.set(s[U+2],s[U+3]),z.set(s[U+4],s[U+5]),D.copy(w).add(C).add(R).divideScalar(3);const H=A(D);M(N,U+0,w,H),M(L,U+2,C,H),M(z,U+4,R,H)}}function M(w,C,R,D){D<0&&w.x===1&&(s[C]=w.x-1),R.x===0&&R.z===0&&(s[C]=D/2/Math.PI+.5)}function A(w){return Math.atan2(w.z,-w.x)}function S(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wf(e.vertices,e.indices,e.radius,e.details)}}class VS extends wf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new VS(e.radius,e.detail)}}const kx=new Q,Vx=new Q,iE=new Q,jx=new Za;class n5 extends $t{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),a=Math.cos(rd*t),s=e.getIndex(),l=e.getAttribute("position"),u=s?s.count:l.count,f=[0,0,0],p=["a","b","c"],v=new Array(3),g={},b=[];for(let _=0;_<u;_+=3){s?(f[0]=s.getX(_),f[1]=s.getX(_+1),f[2]=s.getX(_+2)):(f[0]=_,f[1]=_+1,f[2]=_+2);const{a:M,b:A,c:S}=jx;if(M.fromBufferAttribute(l,f[0]),A.fromBufferAttribute(l,f[1]),S.fromBufferAttribute(l,f[2]),jx.getNormal(iE),v[0]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,v[1]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,v[2]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let w=0;w<3;w++){const C=(w+1)%3,R=v[w],D=v[C],N=jx[p[w]],L=jx[p[C]],z=`${R}_${D}`,P=`${D}_${R}`;P in g&&g[P]?(iE.dot(g[P].normal)<=a&&(b.push(N.x,N.y,N.z),b.push(L.x,L.y,L.z)),g[P]=null):z in g||(g[z]={index0:f[w],index1:f[C],normal:iE.clone()})}}for(const _ in g)if(g[_]){const{index0:M,index1:A}=g[_];kx.fromBufferAttribute(l,M),Vx.fromBufferAttribute(l,A),b.push(kx.x,kx.y,kx.z),b.push(Vx.x,Vx.y,Vx.z)}this.setAttribute("position",new Ct(b,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let ad=class extends _y{constructor(e){super(e),this.uuid=Ts(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new _y().fromJSON(r))}return this}};class eX{static triangulate(e,t,i=2){const r=t&&t.length,a=r?t[0]*i:e.length;let s=i5(e,0,a,i,!0);const l=[];if(!s||s.next===s.prev)return l;let u,f,p,v,g,b,_;if(r&&(s=aX(e,t,s,i)),e.length>80*i){u=p=e[0],f=v=e[1];for(let M=i;M<a;M+=i)g=e[M],b=e[M+1],g<u&&(u=g),b<f&&(f=b),g>p&&(p=g),b>v&&(v=b);_=Math.max(p-u,v-f),_=_!==0?32767/_:0}return Ay(s,l,i,u,f,_,0),l}}function i5(n,e,t,i,r){let a,s;if(r===vX(n,e,t,i)>0)for(a=e;a<t;a+=i)s=mP(a,n[a],n[a+1],s);else for(a=t-i;a>=e;a-=i)s=mP(a,n[a],n[a+1],s);return s&&jS(s,s.next)&&(My(s),s=s.next),s}function pd(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(jS(t,t.next)||Di(t.prev,t,t.next)===0)){if(My(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Ay(n,e,t,i,r,a,s){if(!n)return;!s&&a&&cX(n,i,r,a);let l=n,u,f;for(;n.prev!==n.next;){if(u=n.prev,f=n.next,a?nX(n,i,r,a):tX(n)){e.push(u.i/t|0),e.push(n.i/t|0),e.push(f.i/t|0),My(n),n=f.next,l=f.next;continue}if(n=f,n===l){s?s===1?(n=iX(pd(n),e,t),Ay(n,e,t,i,r,a,2)):s===2&&rX(n,e,t,i,r,a):Ay(pd(n),e,t,i,r,a,1);break}}}function tX(n){const e=n.prev,t=n,i=n.next;if(Di(e,t,i)>=0)return!1;const r=e.x,a=t.x,s=i.x,l=e.y,u=t.y,f=i.y,p=r<a?r<s?r:s:a<s?a:s,v=l<u?l<f?l:f:u<f?u:f,g=r>a?r>s?r:s:a>s?a:s,b=l>u?l>f?l:f:u>f?u:f;let _=i.next;for(;_!==e;){if(_.x>=p&&_.x<=g&&_.y>=v&&_.y<=b&&im(r,l,a,u,s,f,_.x,_.y)&&Di(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function nX(n,e,t,i){const r=n.prev,a=n,s=n.next;if(Di(r,a,s)>=0)return!1;const l=r.x,u=a.x,f=s.x,p=r.y,v=a.y,g=s.y,b=l<u?l<f?l:f:u<f?u:f,_=p<v?p<g?p:g:v<g?v:g,M=l>u?l>f?l:f:u>f?u:f,A=p>v?p>g?p:g:v>g?v:g,S=jC(b,_,e,t,i),w=jC(M,A,e,t,i);let C=n.prevZ,R=n.nextZ;for(;C&&C.z>=S&&R&&R.z<=w;){if(C.x>=b&&C.x<=M&&C.y>=_&&C.y<=A&&C!==r&&C!==s&&im(l,p,u,v,f,g,C.x,C.y)&&Di(C.prev,C,C.next)>=0||(C=C.prevZ,R.x>=b&&R.x<=M&&R.y>=_&&R.y<=A&&R!==r&&R!==s&&im(l,p,u,v,f,g,R.x,R.y)&&Di(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;C&&C.z>=S;){if(C.x>=b&&C.x<=M&&C.y>=_&&C.y<=A&&C!==r&&C!==s&&im(l,p,u,v,f,g,C.x,C.y)&&Di(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;R&&R.z<=w;){if(R.x>=b&&R.x<=M&&R.y>=_&&R.y<=A&&R!==r&&R!==s&&im(l,p,u,v,f,g,R.x,R.y)&&Di(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function iX(n,e,t){let i=n;do{const r=i.prev,a=i.next.next;!jS(r,a)&&r5(r,i,i.next,a)&&Sy(r,a)&&Sy(a,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(a.i/t|0),My(i),My(i.next),i=n=a),i=i.next}while(i!==n);return pd(i)}function rX(n,e,t,i,r,a){let s=n;do{let l=s.next.next;for(;l!==s.prev;){if(s.i!==l.i&&dX(s,l)){let u=a5(s,l);s=pd(s,s.next),u=pd(u,u.next),Ay(s,e,t,i,r,a,0),Ay(u,e,t,i,r,a,0);return}l=l.next}s=s.next}while(s!==n)}function aX(n,e,t,i){const r=[];let a,s,l,u,f;for(a=0,s=e.length;a<s;a++)l=e[a]*i,u=a<s-1?e[a+1]*i:n.length,f=i5(n,l,u,i,!1),f===f.next&&(f.steiner=!0),r.push(hX(f));for(r.sort(sX),a=0;a<r.length;a++)t=oX(r[a],t);return t}function sX(n,e){return n.x-e.x}function oX(n,e){const t=lX(n,e);if(!t)return e;const i=a5(t,n);return pd(i,i.next),pd(t,t.next)}function lX(n,e){let t=e,i=-1/0,r;const a=n.x,s=n.y;do{if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const g=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=a&&g>i&&(i=g,r=t.x<t.next.x?t:t.next,g===a))return r}t=t.next}while(t!==e);if(!r)return null;const l=r,u=r.x,f=r.y;let p=1/0,v;t=r;do a>=t.x&&t.x>=u&&a!==t.x&&im(s<f?a:i,s,u,f,s<f?i:a,s,t.x,t.y)&&(v=Math.abs(s-t.y)/(a-t.x),Sy(t,n)&&(v<p||v===p&&(t.x>r.x||t.x===r.x&&uX(r,t)))&&(r=t,p=v)),t=t.next;while(t!==l);return r}function uX(n,e){return Di(n.prev,n,e.prev)<0&&Di(e.next,n,n.next)<0}function cX(n,e,t,i){let r=n;do r.z===0&&(r.z=jC(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,fX(r)}function fX(n){let e,t,i,r,a,s,l,u,f=1;do{for(t=n,n=null,a=null,s=0;t;){for(s++,i=t,l=0,e=0;e<f&&(l++,i=i.nextZ,!!i);e++);for(u=f;l>0||u>0&&i;)l!==0&&(u===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,l--):(r=i,i=i.nextZ,u--),a?a.nextZ=r:n=r,r.prevZ=a,a=r;t=i}a.nextZ=null,f*=2}while(s>1);return n}function jC(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function hX(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function im(n,e,t,i,r,a,s,l){return(r-s)*(e-l)>=(n-s)*(a-l)&&(n-s)*(i-l)>=(t-s)*(e-l)&&(t-s)*(a-l)>=(r-s)*(i-l)}function dX(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!pX(n,e)&&(Sy(n,e)&&Sy(e,n)&&mX(n,e)&&(Di(n.prev,n,e.prev)||Di(n,e.prev,e))||jS(n,e)&&Di(n.prev,n,n.next)>0&&Di(e.prev,e,e.next)>0)}function Di(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function jS(n,e){return n.x===e.x&&n.y===e.y}function r5(n,e,t,i){const r=Xx(Di(n,e,t)),a=Xx(Di(n,e,i)),s=Xx(Di(t,i,n)),l=Xx(Di(t,i,e));return!!(r!==a&&s!==l||r===0&&qx(n,t,e)||a===0&&qx(n,i,e)||s===0&&qx(t,n,i)||l===0&&qx(t,e,i))}function qx(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Xx(n){return n>0?1:n<0?-1:0}function pX(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&r5(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Sy(n,e){return Di(n.prev,n,n.next)<0?Di(n,e,n.next)>=0&&Di(n,n.prev,e)>=0:Di(n,e,n.prev)<0||Di(n,n.next,e)<0}function mX(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function a5(n,e){const t=new qC(n.i,n.x,n.y),i=new qC(e.i,e.x,e.y),r=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,a.next=i,i.prev=a,i}function mP(n,e,t,i){const r=new qC(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function My(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function qC(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function vX(n,e,t,i){let r=0;for(let a=e,s=t-i;a<t;a+=i)r+=(n[s]-n[a])*(n[a+1]+n[s+1]),s=a;return r}class Zl{static area(e){const t=e.length;let i=0;for(let r=t-1,a=0;a<t;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return Zl.area(e)<0}static triangulateShape(e,t){const i=[],r=[],a=[];vP(e),gP(i,e);let s=e.length;t.forEach(vP);for(let u=0;u<t.length;u++)r.push(s),s+=t[u].length,gP(i,t[u]);const l=eX.triangulate(i,r);for(let u=0;u<l.length;u+=3)a.push(l.slice(u,u+3));return a}}function vP(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function gP(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class qS extends $t{constructor(e=new ad([new ke(.5,.5),new ke(-.5,.5),new ke(-.5,-.5),new ke(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let l=0,u=e.length;l<u;l++){const f=e[l];s(f)}this.setAttribute("position",new Ct(r,3)),this.setAttribute("uv",new Ct(a,2)),this.computeVertexNormals();function s(l){const u=[],f=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1,v=t.depth!==void 0?t.depth:1;let g=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:b-.1,M=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:gX;let C,R=!1,D,N,L,z;S&&(C=S.getSpacedPoints(p),R=!0,g=!1,D=S.computeFrenetFrames(p,!1),N=new Q,L=new Q,z=new Q),g||(A=0,b=0,_=0,M=0);const P=l.extractPoints(f);let U=P.shape;const H=P.holes;if(!Zl.isClockWise(U)){U=U.reverse();for(let fe=0,Ce=H.length;fe<Ce;fe++){const K=H[fe];Zl.isClockWise(K)&&(H[fe]=K.reverse())}}const V=Zl.triangulateShape(U,H),ne=U;for(let fe=0,Ce=H.length;fe<Ce;fe++){const K=H[fe];U=U.concat(K)}function ee(fe,Ce,K){return Ce||console.error("THREE.ExtrudeGeometry: vec does not exist"),fe.clone().addScaledVector(Ce,K)}const Y=U.length,re=V.length;function ie(fe,Ce,K){let st,Ie,Ze;const Je=fe.x-Ce.x,At=fe.y-Ce.y,rt=K.x-fe.x,$=K.y-fe.y,k=Je*Je+At*At,_e=Je*$-At*rt;if(Math.abs(_e)>Number.EPSILON){const Ne=Math.sqrt(k),Ye=Math.sqrt(rt*rt+$*$),He=Ce.x-At/Ne,vt=Ce.y+Je/Ne,lt=K.x-$/Ye,_t=K.y+rt/Ye,Jt=((lt-He)*$-(_t-vt)*rt)/(Je*$-At*rt);st=He+Je*Jt-fe.x,Ie=vt+At*Jt-fe.y;const tt=st*st+Ie*Ie;if(tt<=2)return new ke(st,Ie);Ze=Math.sqrt(tt/2)}else{let Ne=!1;Je>Number.EPSILON?rt>Number.EPSILON&&(Ne=!0):Je<-Number.EPSILON?rt<-Number.EPSILON&&(Ne=!0):Math.sign(At)===Math.sign($)&&(Ne=!0),Ne?(st=-At,Ie=Je,Ze=Math.sqrt(k)):(st=Je,Ie=At,Ze=Math.sqrt(k/2))}return new ke(st/Ze,Ie/Ze)}const he=[];for(let fe=0,Ce=ne.length,K=Ce-1,st=fe+1;fe<Ce;fe++,K++,st++)K===Ce&&(K=0),st===Ce&&(st=0),he[fe]=ie(ne[fe],ne[K],ne[st]);const q=[];let se,pe=he.concat();for(let fe=0,Ce=H.length;fe<Ce;fe++){const K=H[fe];se=[];for(let st=0,Ie=K.length,Ze=Ie-1,Je=st+1;st<Ie;st++,Ze++,Je++)Ze===Ie&&(Ze=0),Je===Ie&&(Je=0),se[st]=ie(K[st],K[Ze],K[Je]);q.push(se),pe=pe.concat(se)}for(let fe=0;fe<A;fe++){const Ce=fe/A,K=b*Math.cos(Ce*Math.PI/2),st=_*Math.sin(Ce*Math.PI/2)+M;for(let Ie=0,Ze=ne.length;Ie<Ze;Ie++){const Je=ee(ne[Ie],he[Ie],st);We(Je.x,Je.y,-K)}for(let Ie=0,Ze=H.length;Ie<Ze;Ie++){const Je=H[Ie];se=q[Ie];for(let At=0,rt=Je.length;At<rt;At++){const $=ee(Je[At],se[At],st);We($.x,$.y,-K)}}}const Se=_+M;for(let fe=0;fe<Y;fe++){const Ce=g?ee(U[fe],pe[fe],Se):U[fe];R?(L.copy(D.normals[0]).multiplyScalar(Ce.x),N.copy(D.binormals[0]).multiplyScalar(Ce.y),z.copy(C[0]).add(L).add(N),We(z.x,z.y,z.z)):We(Ce.x,Ce.y,0)}for(let fe=1;fe<=p;fe++)for(let Ce=0;Ce<Y;Ce++){const K=g?ee(U[Ce],pe[Ce],Se):U[Ce];R?(L.copy(D.normals[fe]).multiplyScalar(K.x),N.copy(D.binormals[fe]).multiplyScalar(K.y),z.copy(C[fe]).add(L).add(N),We(z.x,z.y,z.z)):We(K.x,K.y,v/p*fe)}for(let fe=A-1;fe>=0;fe--){const Ce=fe/A,K=b*Math.cos(Ce*Math.PI/2),st=_*Math.sin(Ce*Math.PI/2)+M;for(let Ie=0,Ze=ne.length;Ie<Ze;Ie++){const Je=ee(ne[Ie],he[Ie],st);We(Je.x,Je.y,v+K)}for(let Ie=0,Ze=H.length;Ie<Ze;Ie++){const Je=H[Ie];se=q[Ie];for(let At=0,rt=Je.length;At<rt;At++){const $=ee(Je[At],se[At],st);R?We($.x,$.y+C[p-1].y,C[p-1].x+K):We($.x,$.y,v+K)}}}oe(),Te();function oe(){const fe=r.length/3;if(g){let Ce=0,K=Y*Ce;for(let st=0;st<re;st++){const Ie=V[st];qe(Ie[2]+K,Ie[1]+K,Ie[0]+K)}Ce=p+A*2,K=Y*Ce;for(let st=0;st<re;st++){const Ie=V[st];qe(Ie[0]+K,Ie[1]+K,Ie[2]+K)}}else{for(let Ce=0;Ce<re;Ce++){const K=V[Ce];qe(K[2],K[1],K[0])}for(let Ce=0;Ce<re;Ce++){const K=V[Ce];qe(K[0]+Y*p,K[1]+Y*p,K[2]+Y*p)}}i.addGroup(fe,r.length/3-fe,0)}function Te(){const fe=r.length/3;let Ce=0;Ue(ne,Ce),Ce+=ne.length;for(let K=0,st=H.length;K<st;K++){const Ie=H[K];Ue(Ie,Ce),Ce+=Ie.length}i.addGroup(fe,r.length/3-fe,1)}function Ue(fe,Ce){let K=fe.length;for(;--K>=0;){const st=K;let Ie=K-1;Ie<0&&(Ie=fe.length-1);for(let Ze=0,Je=p+A*2;Ze<Je;Ze++){const At=Y*Ze,rt=Y*(Ze+1),$=Ce+st+At,k=Ce+Ie+At,_e=Ce+Ie+rt,Ne=Ce+st+rt;Le($,k,_e,Ne)}}}function We(fe,Ce,K){u.push(fe),u.push(Ce),u.push(K)}function qe(fe,Ce,K){De(fe),De(Ce),De(K);const st=r.length/3,Ie=w.generateTopUV(i,r,st-3,st-2,st-1);Xe(Ie[0]),Xe(Ie[1]),Xe(Ie[2])}function Le(fe,Ce,K,st){De(fe),De(Ce),De(st),De(Ce),De(K),De(st);const Ie=r.length/3,Ze=w.generateSideWallUV(i,r,Ie-6,Ie-3,Ie-2,Ie-1);Xe(Ze[0]),Xe(Ze[1]),Xe(Ze[3]),Xe(Ze[1]),Xe(Ze[2]),Xe(Ze[3])}function De(fe){r.push(u[fe*3+0]),r.push(u[fe*3+1]),r.push(u[fe*3+2])}function Xe(fe){a.push(fe.x),a.push(fe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return yX(t,i,e)}static fromJSON(e,t){const i=[];for(let a=0,s=e.shapes.length;a<s;a++){const l=t[e.shapes[a]];i.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new bA[r.type]().fromJSON(r)),new qS(i,e.options)}}const gX={generateTopUV:function(n,e,t,i,r){const a=e[t*3],s=e[t*3+1],l=e[i*3],u=e[i*3+1],f=e[r*3],p=e[r*3+1];return[new ke(a,s),new ke(l,u),new ke(f,p)]},generateSideWallUV:function(n,e,t,i,r,a){const s=e[t*3],l=e[t*3+1],u=e[t*3+2],f=e[i*3],p=e[i*3+1],v=e[i*3+2],g=e[r*3],b=e[r*3+1],_=e[r*3+2],M=e[a*3],A=e[a*3+1],S=e[a*3+2];return Math.abs(l-p)<Math.abs(s-f)?[new ke(s,1-u),new ke(f,1-v),new ke(g,1-_),new ke(M,1-S)]:[new ke(l,1-u),new ke(p,1-v),new ke(b,1-_),new ke(A,1-S)]}};function yX(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const a=n[i];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class XS extends wf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new XS(e.radius,e.detail)}}class y0 extends wf{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new y0(e.radius,e.detail)}}class $m extends $t{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const a=e/2,s=t/2,l=Math.floor(i),u=Math.floor(r),f=l+1,p=u+1,v=e/l,g=t/u,b=[],_=[],M=[],A=[];for(let S=0;S<p;S++){const w=S*g-s;for(let C=0;C<f;C++){const R=C*v-a;_.push(R,-w,0),M.push(0,0,1),A.push(C/l),A.push(1-S/u)}}for(let S=0;S<u;S++)for(let w=0;w<l;w++){const C=w+f*S,R=w+f*(S+1),D=w+1+f*(S+1),N=w+1+f*S;b.push(C,R,N),b.push(R,D,N)}this.setIndex(b),this.setAttribute("position",new Ct(_,3)),this.setAttribute("normal",new Ct(M,3)),this.setAttribute("uv",new Ct(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $m(e.width,e.height,e.widthSegments,e.heightSegments)}}class WS extends $t{constructor(e=.5,t=1,i=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:s},i=Math.max(3,i),r=Math.max(1,r);const l=[],u=[],f=[],p=[];let v=e;const g=(t-e)/r,b=new Q,_=new ke;for(let M=0;M<=r;M++){for(let A=0;A<=i;A++){const S=a+A/i*s;b.x=v*Math.cos(S),b.y=v*Math.sin(S),u.push(b.x,b.y,b.z),f.push(0,0,1),_.x=(b.x/t+1)/2,_.y=(b.y/t+1)/2,p.push(_.x,_.y)}v+=g}for(let M=0;M<r;M++){const A=M*(i+1);for(let S=0;S<i;S++){const w=S+A,C=w,R=w+i+1,D=w+i+2,N=w+1;l.push(C,R,N),l.push(R,D,N)}}this.setIndex(l),this.setAttribute("position",new Ct(u,3)),this.setAttribute("normal",new Ct(f,3)),this.setAttribute("uv",new Ct(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class YS extends $t{constructor(e=new ad([new ke(0,.5),new ke(-.5,-.5),new ke(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],a=[],s=[];let l=0,u=0;if(Array.isArray(e)===!1)f(e);else for(let p=0;p<e.length;p++)f(e[p]),this.addGroup(l,u,p),l+=u,u=0;this.setIndex(i),this.setAttribute("position",new Ct(r,3)),this.setAttribute("normal",new Ct(a,3)),this.setAttribute("uv",new Ct(s,2));function f(p){const v=r.length/3,g=p.extractPoints(t);let b=g.shape;const _=g.holes;Zl.isClockWise(b)===!1&&(b=b.reverse());for(let A=0,S=_.length;A<S;A++){const w=_[A];Zl.isClockWise(w)===!0&&(_[A]=w.reverse())}const M=Zl.triangulateShape(b,_);for(let A=0,S=_.length;A<S;A++){const w=_[A];b=b.concat(w)}for(let A=0,S=b.length;A<S;A++){const w=b[A];r.push(w.x,w.y,0),a.push(0,0,1),s.push(w.x,w.y)}for(let A=0,S=M.length;A<S;A++){const w=M[A],C=w[0]+v,R=w[1]+v,D=w[2]+v;i.push(C,R,D),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return bX(t,e)}static fromJSON(e,t){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const s=t[e.shapes[r]];i.push(s)}return new YS(i,e.curveSegments)}}function bX(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class b0 extends $t{constructor(e=1,t=32,i=16,r=0,a=Math.PI*2,s=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:a,thetaStart:s,thetaLength:l},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const u=Math.min(s+l,Math.PI);let f=0;const p=[],v=new Q,g=new Q,b=[],_=[],M=[],A=[];for(let S=0;S<=i;S++){const w=[],C=S/i;let R=0;S===0&&s===0?R=.5/t:S===i&&u===Math.PI&&(R=-.5/t);for(let D=0;D<=t;D++){const N=D/t;v.x=-e*Math.cos(r+N*a)*Math.sin(s+C*l),v.y=e*Math.cos(s+C*l),v.z=e*Math.sin(r+N*a)*Math.sin(s+C*l),_.push(v.x,v.y,v.z),g.copy(v).normalize(),M.push(g.x,g.y,g.z),A.push(N+R,1-C),w.push(f++)}p.push(w)}for(let S=0;S<i;S++)for(let w=0;w<t;w++){const C=p[S][w+1],R=p[S][w],D=p[S+1][w],N=p[S+1][w+1];(S!==0||s>0)&&b.push(C,R,N),(S!==i-1||u<Math.PI)&&b.push(R,D,N)}this.setIndex(b),this.setAttribute("position",new Ct(_,3)),this.setAttribute("normal",new Ct(M,3)),this.setAttribute("uv",new Ct(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new b0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class KS extends wf{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new KS(e.radius,e.detail)}}class JS extends $t{constructor(e=1,t=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const s=[],l=[],u=[],f=[],p=new Q,v=new Q,g=new Q;for(let b=0;b<=i;b++)for(let _=0;_<=r;_++){const M=_/r*a,A=b/i*Math.PI*2;v.x=(e+t*Math.cos(A))*Math.cos(M),v.y=(e+t*Math.cos(A))*Math.sin(M),v.z=t*Math.sin(A),l.push(v.x,v.y,v.z),p.x=e*Math.cos(M),p.y=e*Math.sin(M),g.subVectors(v,p).normalize(),u.push(g.x,g.y,g.z),f.push(_/r),f.push(b/i)}for(let b=1;b<=i;b++)for(let _=1;_<=r;_++){const M=(r+1)*b+_-1,A=(r+1)*(b-1)+_-1,S=(r+1)*(b-1)+_,w=(r+1)*b+_;s.push(M,A,w),s.push(A,S,w)}this.setIndex(s),this.setAttribute("position",new Ct(l,3)),this.setAttribute("normal",new Ct(u,3)),this.setAttribute("uv",new Ct(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class ZS extends $t{constructor(e=1,t=.4,i=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:a,q:s},i=Math.floor(i),r=Math.floor(r);const l=[],u=[],f=[],p=[],v=new Q,g=new Q,b=new Q,_=new Q,M=new Q,A=new Q,S=new Q;for(let C=0;C<=i;++C){const R=C/i*a*Math.PI*2;w(R,a,s,e,b),w(R+.01,a,s,e,_),A.subVectors(_,b),S.addVectors(_,b),M.crossVectors(A,S),S.crossVectors(M,A),M.normalize(),S.normalize();for(let D=0;D<=r;++D){const N=D/r*Math.PI*2,L=-t*Math.cos(N),z=t*Math.sin(N);v.x=b.x+(L*S.x+z*M.x),v.y=b.y+(L*S.y+z*M.y),v.z=b.z+(L*S.z+z*M.z),u.push(v.x,v.y,v.z),g.subVectors(v,b).normalize(),f.push(g.x,g.y,g.z),p.push(C/i),p.push(D/r)}}for(let C=1;C<=i;C++)for(let R=1;R<=r;R++){const D=(r+1)*(C-1)+(R-1),N=(r+1)*C+(R-1),L=(r+1)*C+R,z=(r+1)*(C-1)+R;l.push(D,N,z),l.push(N,L,z)}this.setIndex(l),this.setAttribute("position",new Ct(u,3)),this.setAttribute("normal",new Ct(f,3)),this.setAttribute("uv",new Ct(p,2));function w(C,R,D,N,L){const z=Math.cos(C),P=Math.sin(C),U=D/R*C,H=Math.cos(U);L.x=N*(2+H)*.5*z,L.y=N*(2+H)*P*.5,L.z=N*Math.sin(U)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ZS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class QS extends $t{constructor(e=new iB(new Q(-1,-1,0),new Q(-1,1,0),new Q(1,1,0)),t=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const l=new Q,u=new Q,f=new ke;let p=new Q;const v=[],g=[],b=[],_=[];M(),this.setIndex(_),this.setAttribute("position",new Ct(v,3)),this.setAttribute("normal",new Ct(g,3)),this.setAttribute("uv",new Ct(b,2));function M(){for(let C=0;C<t;C++)A(C);A(a===!1?t:0),w(),S()}function A(C){p=e.getPointAt(C/t,p);const R=s.normals[C],D=s.binormals[C];for(let N=0;N<=r;N++){const L=N/r*Math.PI*2,z=Math.sin(L),P=-Math.cos(L);u.x=P*R.x+z*D.x,u.y=P*R.y+z*D.y,u.z=P*R.z+z*D.z,u.normalize(),g.push(u.x,u.y,u.z),l.x=p.x+i*u.x,l.y=p.y+i*u.y,l.z=p.z+i*u.z,v.push(l.x,l.y,l.z)}}function S(){for(let C=1;C<=t;C++)for(let R=1;R<=r;R++){const D=(r+1)*(C-1)+(R-1),N=(r+1)*C+(R-1),L=(r+1)*C+R,z=(r+1)*(C-1)+R;_.push(D,N,z),_.push(N,L,z)}}function w(){for(let C=0;C<=t;C++)for(let R=0;R<=r;R++)f.x=C/t,f.y=R/r,b.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new QS(new bA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class aB extends $t{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new Q,a=new Q;if(e.index!==null){const s=e.attributes.position,l=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:l.count,materialIndex:0}]);for(let f=0,p=u.length;f<p;++f){const v=u[f],g=v.start,b=v.count;for(let _=g,M=g+b;_<M;_+=3)for(let A=0;A<3;A++){const S=l.getX(_+A),w=l.getX(_+(A+1)%3);r.fromBufferAttribute(s,S),a.fromBufferAttribute(s,w),yP(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let l=0,u=s.count/3;l<u;l++)for(let f=0;f<3;f++){const p=3*l+f,v=3*l+(f+1)%3;r.fromBufferAttribute(s,p),a.fromBufferAttribute(s,v),yP(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Ct(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function yP(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var bP=Object.freeze({__proto__:null,BoxGeometry:Td,CapsuleGeometry:HS,CircleGeometry:GS,ConeGeometry:kS,CylinderGeometry:Qm,DodecahedronGeometry:VS,EdgesGeometry:n5,ExtrudeGeometry:qS,IcosahedronGeometry:XS,LatheGeometry:g0,OctahedronGeometry:y0,PlaneGeometry:$m,PolyhedronGeometry:wf,RingGeometry:WS,ShapeGeometry:YS,SphereGeometry:b0,TetrahedronGeometry:KS,TorusGeometry:JS,TorusKnotGeometry:ZS,TubeGeometry:QS,WireframeGeometry:aB});class s5 extends mr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new dt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class o5 extends ws{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class x0 extends mr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new dt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tf,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ts,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ro extends x0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ke(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Kt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new dt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new dt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new dt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class l5 extends mr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new dt(16777215),this.specular=new dt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tf,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ts,this.combine=c0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class u5 extends mr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new dt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tf,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class c5 extends mr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tf,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class f5 extends mr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new dt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tf,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ts,this.combine=c0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sB extends mr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=RG,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class oB extends mr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class h5 extends mr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new dt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tf,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class d5 extends ma{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Kh(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function p5(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function m5(n){function e(r,a){return n[r]-n[a]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function XC(n,e,t){const i=n.length,r=new n.constructor(i);for(let a=0,s=0;s!==i;++a){const l=t[a]*e;for(let u=0;u!==e;++u)r[s++]=n[l+u]}return r}function lB(n,e,t,i){let r=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[r++];if(a===void 0)return;let s=a[i];if(s!==void 0)if(Array.isArray(s))do s=a[i],s!==void 0&&(e.push(a.time),t.push(...s)),a=n[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[i],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=n[r++];while(a!==void 0);else do s=a[i],s!==void 0&&(e.push(a.time),t.push(s)),a=n[r++];while(a!==void 0)}function xX(n,e,t,i,r=30){const a=n.clone();a.name=e;const s=[];for(let u=0;u<a.tracks.length;++u){const f=a.tracks[u],p=f.getValueSize(),v=[],g=[];for(let b=0;b<f.times.length;++b){const _=f.times[b]*r;if(!(_<t||_>=i)){v.push(f.times[b]);for(let M=0;M<p;++M)g.push(f.values[b*p+M])}}v.length!==0&&(f.times=Kh(v,f.times.constructor),f.values=Kh(g,f.values.constructor),s.push(f))}a.tracks=s;let l=1/0;for(let u=0;u<a.tracks.length;++u)l>a.tracks[u].times[0]&&(l=a.tracks[u].times[0]);for(let u=0;u<a.tracks.length;++u)a.tracks[u].shift(-1*l);return a.resetDuration(),a}function _X(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,a=e/i;for(let s=0;s<r;++s){const l=t.tracks[s],u=l.ValueTypeName;if(u==="bool"||u==="string")continue;const f=n.tracks.find(function(S){return S.name===l.name&&S.ValueTypeName===u});if(f===void 0)continue;let p=0;const v=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=v/3);let g=0;const b=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=b/3);const _=l.times.length-1;let M;if(a<=l.times[0]){const S=p,w=v-p;M=l.values.slice(S,w)}else if(a>=l.times[_]){const S=_*v+p,w=S+v-p;M=l.values.slice(S,w)}else{const S=l.createInterpolant(),w=p,C=v-p;S.evaluate(a),M=S.resultBuffer.slice(w,C)}u==="quaternion"&&new hr().fromArray(M).normalize().conjugate().toArray(M);const A=f.times.length;for(let S=0;S<A;++S){const w=S*b+g;if(u==="quaternion")hr.multiplyQuaternionsFlat(f.values,w,M,0,f.values,w);else{const C=b-g*2;for(let R=0;R<C;++R)f.values[w+R]-=M[R]}}}return n.blendMode=HO,n}const AX={convertArray:Kh,isTypedArray:p5,getKeyframeOrder:m5,sortedArray:XC,flattenJSON:lB,subclip:xX,makeClipAdditive:_X};class ev{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],a=t[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let l=i+2;;){if(r===void 0){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(a=r,r=t[++i],e<r)break t}s=t.length;break n}if(!(e>=a)){const l=t[1];e<l&&(i=2,a=l);for(let u=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(r=a,a=t[--i-1],e>=a)break t}s=i,i=0;break n}break e}for(;i<s;){const l=i+s>>>1;e<t[l]?s=l:i=l+1}if(r=t[i],a=t[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)t[s]=i[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class v5 extends ev{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Wh,endingEnd:Wh}}intervalChanged_(e,t,i){const r=this.parameterPositions;let a=e-2,s=e+1,l=r[a],u=r[s];if(l===void 0)switch(this.getSettings_().endingStart){case Yh:a=e,l=2*t-i;break;case vy:a=r.length-2,l=t+r[a]-r[a+1];break;default:a=e,l=i}if(u===void 0)switch(this.getSettings_().endingEnd){case Yh:s=e,u=2*i-t;break;case vy:s=1,u=i+r[1]-r[0];break;default:s=e-1,u=t}const f=(i-t)*.5,p=this.valueSize;this._weightPrev=f/(t-l),this._weightNext=f/(u-i),this._offsetPrev=a*p,this._offsetNext=s*p}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,u=e*l,f=u-l,p=this._offsetPrev,v=this._offsetNext,g=this._weightPrev,b=this._weightNext,_=(i-t)/(r-t),M=_*_,A=M*_,S=-g*A+2*g*M-g*_,w=(1+g)*A+(-1.5-2*g)*M+(-.5+g)*_+1,C=(-1-b)*A+(1.5+b)*M+.5*_,R=b*A-b*M;for(let D=0;D!==l;++D)a[D]=S*s[p+D]+w*s[f+D]+C*s[u+D]+R*s[v+D];return a}}class uB extends ev{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,u=e*l,f=u-l,p=(i-t)/(r-t),v=1-p;for(let g=0;g!==l;++g)a[g]=s[f+g]*v+s[u+g]*p;return a}}class g5 extends ev{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class rl{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Kh(t,this.TimeBufferType),this.values=Kh(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Kh(e.times,Array),values:Kh(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new g5(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new uB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new v5(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case mm:t=this.InterpolantFactoryMethodDiscrete;break;case vm:t=this.InterpolantFactoryMethodLinear;break;case T_:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return mm;case this.InterpolantFactoryMethodLinear:return vm;case this.InterpolantFactoryMethodSmooth:return T_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let a=0,s=r-1;for(;a!==r&&i[a]<e;)++a;for(;s!==-1&&i[s]>t;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);const l=this.getValueSize();this.times=i.slice(a,s),this.values=this.values.slice(a*l,s*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let l=0;l!==a;l++){const u=i[l];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,u),e=!1;break}if(s!==null&&s>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,u,s),e=!1;break}s=u}if(r!==void 0&&p5(r))for(let l=0,u=r.length;l!==u;++l){const f=r[l];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===T_,a=e.length-1;let s=1;for(let l=1;l<a;++l){let u=!1;const f=e[l],p=e[l+1];if(f!==p&&(l!==1||f!==e[0]))if(r)u=!0;else{const v=l*i,g=v-i,b=v+i;for(let _=0;_!==i;++_){const M=t[v+_];if(M!==t[g+_]||M!==t[b+_]){u=!0;break}}}if(u){if(l!==s){e[s]=e[l];const v=l*i,g=s*i;for(let b=0;b!==i;++b)t[g+b]=t[v+b]}++s}}if(a>0){e[s]=e[a];for(let l=a*i,u=s*i,f=0;f!==i;++f)t[u+f]=t[l+f];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}rl.prototype.TimeBufferType=Float32Array;rl.prototype.ValueBufferType=Float32Array;rl.prototype.DefaultInterpolation=vm;class wd extends rl{constructor(e,t,i){super(e,t,i)}}wd.prototype.ValueTypeName="bool";wd.prototype.ValueBufferType=Array;wd.prototype.DefaultInterpolation=mm;wd.prototype.InterpolantFactoryMethodLinear=void 0;wd.prototype.InterpolantFactoryMethodSmooth=void 0;class cB extends rl{}cB.prototype.ValueTypeName="color";class md extends rl{}md.prototype.ValueTypeName="number";class y5 extends ev{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,u=(i-t)/(r-t);let f=e*l;for(let p=f+l;f!==p;f+=4)hr.slerpFlat(a,0,s,f-l,s,f,u);return a}}class vd extends rl{InterpolantFactoryMethodLinear(e){return new y5(this.times,this.values,this.getValueSize(),e)}}vd.prototype.ValueTypeName="quaternion";vd.prototype.InterpolantFactoryMethodSmooth=void 0;class Cd extends rl{constructor(e,t,i){super(e,t,i)}}Cd.prototype.ValueTypeName="string";Cd.prototype.ValueBufferType=Array;Cd.prototype.DefaultInterpolation=mm;Cd.prototype.InterpolantFactoryMethodLinear=void 0;Cd.prototype.InterpolantFactoryMethodSmooth=void 0;class gd extends rl{}gd.prototype.ValueTypeName="vector";class xm{constructor(e="",t=-1,i=[],r=RS){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Ts(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let s=0,l=i.length;s!==l;++s)t.push(MX(i[s]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=i.length;a!==s;++a)t.push(rl.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const a=t.length,s=[];for(let l=0;l<a;l++){let u=[],f=[];u.push((l+a-1)%a,l,(l+1)%a),f.push(0,1,0);const p=m5(u);u=XC(u,1,p),f=XC(f,1,p),!r&&u[0]===0&&(u.push(a),f.push(f[0])),s.push(new md(".morphTargetInfluences["+t[l].name+"]",u,f).scale(1/i))}return new this(e,-1,s)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,u=e.length;l<u;l++){const f=e[l],p=f.name.match(a);if(p&&p.length>1){const v=p[1];let g=r[v];g||(r[v]=g=[]),g.push(f)}}const s=[];for(const l in r)s.push(this.CreateFromMorphTargetSequence(l,r[l],t,i));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(v,g,b,_,M){if(b.length!==0){const A=[],S=[];lB(b,A,S,_),A.length!==0&&M.push(new v(g,A,S))}},r=[],a=e.name||"default",s=e.fps||30,l=e.blendMode;let u=e.length||-1;const f=e.hierarchy||[];for(let v=0;v<f.length;v++){const g=f[v].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const b={};let _;for(_=0;_<g.length;_++)if(g[_].morphTargets)for(let M=0;M<g[_].morphTargets.length;M++)b[g[_].morphTargets[M]]=-1;for(const M in b){const A=[],S=[];for(let w=0;w!==g[_].morphTargets.length;++w){const C=g[_];A.push(C.time),S.push(C.morphTarget===M?1:0)}r.push(new md(".morphTargetInfluence["+M+"]",A,S))}u=b.length*s}else{const b=".bones["+t[v].name+"]";i(gd,b+".position",g,"pos",r),i(vd,b+".quaternion",g,"rot",r),i(gd,b+".scale",g,"scl",r)}}return r.length===0?null:new this(a,u,r,l)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function SX(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return md;case"vector":case"vector2":case"vector3":case"vector4":return gd;case"color":return cB;case"quaternion":return vd;case"bool":case"boolean":return wd;case"string":return Cd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function MX(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=SX(n.type);if(n.times===void 0){const t=[],i=[];lB(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ku={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class fB{constructor(e,t,i){const r=this;let a=!1,s=0,l=0,u;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(p){l++,a===!1&&r.onStart!==void 0&&r.onStart(p,s,l),a=!0},this.itemEnd=function(p){s++,r.onProgress!==void 0&&r.onProgress(p,s,l),s===l&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return u?u(p):p},this.setURLModifier=function(p){return u=p,this},this.addHandler=function(p,v){return f.push(p,v),this},this.removeHandler=function(p){const v=f.indexOf(p);return v!==-1&&f.splice(v,2),this},this.getHandler=function(p){for(let v=0,g=f.length;v<g;v+=2){const b=f[v],_=f[v+1];if(b.global&&(b.lastIndex=0),b.test(p))return _}return null}}}const b5=new fB;class va{constructor(e){this.manager=e!==void 0?e:b5,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,a){i.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}va.DEFAULT_MATERIAL_NAME="__DEFAULT";const Gu={};class EX extends Error{constructor(e,t){super(e),this.response=t}}class Cs extends va{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Ku.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Gu[e]!==void 0){Gu[e].push({onLoad:t,onProgress:i,onError:r});return}Gu[e]=[],Gu[e].push({onLoad:t,onProgress:i,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,u=this.responseType;fetch(s).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const p=Gu[e],v=f.body.getReader(),g=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),b=g?parseInt(g):0,_=b!==0;let M=0;const A=new ReadableStream({start(S){w();function w(){v.read().then(({done:C,value:R})=>{if(C)S.close();else{M+=R.byteLength;const D=new ProgressEvent("progress",{lengthComputable:_,loaded:M,total:b});for(let N=0,L=p.length;N<L;N++){const z=p[N];z.onProgress&&z.onProgress(D)}S.enqueue(R),w()}},C=>{S.error(C)})}}});return new Response(A)}else throw new EX(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(u){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(p=>new DOMParser().parseFromString(p,l));case"json":return f.json();default:if(l===void 0)return f.text();{const v=/charset="?([^;"\s]*)"?/i.exec(l),g=v&&v[1]?v[1].toLowerCase():void 0,b=new TextDecoder(g);return f.arrayBuffer().then(_=>b.decode(_))}}}).then(f=>{Ku.add(e,f);const p=Gu[e];delete Gu[e];for(let v=0,g=p.length;v<g;v++){const b=p[v];b.onLoad&&b.onLoad(f)}}).catch(f=>{const p=Gu[e];if(p===void 0)throw this.manager.itemError(e),f;delete Gu[e];for(let v=0,g=p.length;v<g;v++){const b=p[v];b.onError&&b.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class TX extends va{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new Cs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(u){r?r(u):console.error(u),a.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=xm.parse(e[i]);t.push(r)}return t}}class wX extends va{constructor(e){super(e)}load(e,t,i,r){const a=this,s=[],l=new FS,u=new Cs(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(a.withCredentials);let f=0;function p(v){u.load(e[v],function(g){const b=a.parse(g,!0);s[v]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},f+=1,f===6&&(b.mipmapCount===1&&(l.minFilter=Zi),l.image=s,l.format=b.format,l.needsUpdate=!0,t&&t(l))},i,r)}if(Array.isArray(e))for(let v=0,g=e.length;v<g;++v)p(v);else u.load(e,function(v){const g=a.parse(v,!0);if(g.isCubemap){const b=g.mipmaps.length/g.mipmapCount;for(let _=0;_<b;_++){s[_]={mipmaps:[]};for(let M=0;M<g.mipmapCount;M++)s[_].mipmaps.push(g.mipmaps[_*g.mipmapCount+M]),s[_].format=g.format,s[_].width=g.width,s[_].height=g.height}l.image=s}else l.image.width=g.width,l.image.height=g.height,l.mipmaps=g.mipmaps;g.mipmapCount===1&&(l.minFilter=Zi),l.format=g.format,l.needsUpdate=!0,t&&t(l)},i,r);return l}}class Ey extends va{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Ku.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;const l=xy("img");function u(){p(),Ku.add(e,this),t&&t(this),a.manager.itemEnd(e)}function f(v){p(),r&&r(v),a.manager.itemError(e),a.manager.itemEnd(e)}function p(){l.removeEventListener("load",u,!1),l.removeEventListener("error",f,!1)}return l.addEventListener("load",u,!1),l.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),a.manager.itemStart(e),l.src=e,l}}class CX extends va{constructor(e){super(e)}load(e,t,i,r){const a=new d0;a.colorSpace=fa;const s=new Ey(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let l=0;function u(f){s.load(e[f],function(p){a.images[f]=p,l++,l===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(let f=0;f<e.length;++f)u(f);return a}}class RX extends va{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new Jl,l=new Cs(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(a.withCredentials),l.load(e,function(u){let f;try{f=a.parse(u)}catch(p){if(r!==void 0)r(p);else{console.error(p);return}}f.image!==void 0?s.image=f.image:f.data!==void 0&&(s.image.width=f.width,s.image.height=f.height,s.image.data=f.data),s.wrapS=f.wrapS!==void 0?f.wrapS:Ms,s.wrapT=f.wrapT!==void 0?f.wrapT:Ms,s.magFilter=f.magFilter!==void 0?f.magFilter:Zi,s.minFilter=f.minFilter!==void 0?f.minFilter:Zi,s.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(s.colorSpace=f.colorSpace),f.flipY!==void 0&&(s.flipY=f.flipY),f.format!==void 0&&(s.format=f.format),f.type!==void 0&&(s.type=f.type),f.mipmaps!==void 0&&(s.mipmaps=f.mipmaps,s.minFilter=$s),f.mipmapCount===1&&(s.minFilter=Zi),f.generateMipmaps!==void 0&&(s.generateMipmaps=f.generateMipmaps),s.needsUpdate=!0,t&&t(s,f)},i,r),s}}class x5 extends va{constructor(e){super(e)}load(e,t,i,r){const a=new _i,s=new Ey(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(l){a.image=l,a.needsUpdate=!0,t!==void 0&&t(a)},i,r),a}}class Cf extends Cn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new dt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class _5 extends Cf{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Cn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new dt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const rE=new Lt,xP=new Q,_P=new Q;class hB{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ke(512,512),this.map=null,this.mapPass=null,this.matrix=new Lt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new v0,this._frameExtents=new ke(1,1),this._viewportCount=1,this._viewports=[new pn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;xP.setFromMatrixPosition(e.matrixWorld),t.position.copy(xP),_P.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(_P),t.updateMatrixWorld(),rE.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(rE),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(rE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class OX extends hB{constructor(){super(new bi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=gm*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(i!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=i,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class dB extends Cf{constructor(e,t,i=0,r=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Cn.DEFAULT_UP),this.updateMatrix(),this.target=new Cn,this.distance=i,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new OX}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const AP=new Lt,Ig=new Q,aE=new Q;class BX extends hB{constructor(){super(new bi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ke(4,2),this._viewportCount=6,this._viewports=[new pn(2,1,1,1),new pn(0,1,1,1),new pn(3,1,1,1),new pn(1,1,1,1),new pn(3,0,1,1),new pn(1,0,1,1)],this._cubeDirections=[new Q(1,0,0),new Q(-1,0,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,1,0),new Q(0,-1,0)],this._cubeUps=[new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,0,1),new Q(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),Ig.setFromMatrixPosition(e.matrixWorld),i.position.copy(Ig),aE.copy(i.position),aE.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(aE),i.updateMatrixWorld(),r.makeTranslation(-Ig.x,-Ig.y,-Ig.z),AP.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(AP)}}class pB extends Cf{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new BX}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class el extends NS{constructor(e=-1,t=1,i=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,s=i+e,l=r+t,u=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=f*this.view.offsetX,s=a+f*this.view.width,l-=p*this.view.offsetY,u=l-p*this.view.height}this.projectionMatrix.makeOrthographic(a,s,l,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class DX extends hB{constructor(){super(new el(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class mB extends Cf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Cn.DEFAULT_UP),this.updateMatrix(),this.target=new Cn,this.shadow=new DX}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class A5 extends Cf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class S5 extends Cf{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class M5{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Q)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*r),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*i),t.addScaledVector(s[4],1.092548*(i*r)),t.addScaledVector(s[5],1.092548*(r*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(i*a)),t.addScaledVector(s[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*r),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*i),t.addScaledVector(s[4],2*.429043*i*r),t.addScaledVector(s[5],2*.429043*r*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*i*a),t.addScaledVector(s[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*i*a,t[8]=.546274*(i*i-r*r)}}class E5 extends Cf{constructor(e=new M5,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class $S extends va{constructor(e){super(e),this.textures={}}load(e,t,i,r){const a=this,s=new Cs(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(u){r?r(u):console.error(u),a.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new dt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=i(s.value);break;case"c":r.uniforms[a].value=new dt().setHex(s.value);break;case"v2":r.uniforms[a].value=new ke().fromArray(s.value);break;case"v3":r.uniforms[a].value=new Q().fromArray(s.value);break;case"v4":r.uniforms[a].value=new pn().fromArray(s.value);break;case"m3":r.uniforms[a].value=new Qt().fromArray(s.value);break;case"m4":r.uniforms[a].value=new Lt().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new ke().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ke().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return $S.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:s5,SpriteMaterial:WO,RawShaderMaterial:o5,ShaderMaterial:ws,PointsMaterial:IS,MeshPhysicalMaterial:ro,MeshStandardMaterial:x0,MeshPhongMaterial:l5,MeshToonMaterial:u5,MeshNormalMaterial:c5,MeshLambertMaterial:f5,MeshDepthMaterial:sB,MeshDistanceMaterial:oB,MeshBasicMaterial:Es,MeshMatcapMaterial:h5,LineDashedMaterial:d5,LineBasicMaterial:ma,Material:mr};return new t[e]}}class xf{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class vB extends $t{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class T5 extends va{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new Cs(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(u){r?r(u):console.error(u),a.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(b,_){if(t[_]!==void 0)return t[_];const A=b.interleavedBuffers[_],S=a(b,A.buffer),w=nm(A.type,S),C=new p0(w,A.stride);return C.uuid=A.uuid,t[_]=C,C}function a(b,_){if(i[_]!==void 0)return i[_];const A=b.arrayBuffers[_],S=new Uint32Array(A).buffer;return i[_]=S,S}const s=e.isInstancedBufferGeometry?new vB:new $t,l=e.data.index;if(l!==void 0){const b=nm(l.type,l.array);s.setIndex(new Dn(b,1))}const u=e.data.attributes;for(const b in u){const _=u[b];let M;if(_.isInterleavedBufferAttribute){const A=r(e.data,_.data);M=new $a(A,_.itemSize,_.offset,_.normalized)}else{const A=nm(_.type,_.array),S=_.isInstancedBufferAttribute?dd:Dn;M=new S(A,_.itemSize,_.normalized)}_.name!==void 0&&(M.name=_.name),_.usage!==void 0&&M.setUsage(_.usage),s.setAttribute(b,M)}const f=e.data.morphAttributes;if(f)for(const b in f){const _=f[b],M=[];for(let A=0,S=_.length;A<S;A++){const w=_[A];let C;if(w.isInterleavedBufferAttribute){const R=r(e.data,w.data);C=new $a(R,w.itemSize,w.offset,w.normalized)}else{const R=nm(w.type,w.array);C=new Dn(R,w.itemSize,w.normalized)}w.name!==void 0&&(C.name=w.name),M.push(C)}s.morphAttributes[b]=M}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const v=e.data.groups||e.data.drawcalls||e.data.offsets;if(v!==void 0)for(let b=0,_=v.length;b!==_;++b){const M=v[b];s.addGroup(M.start,M.count,M.materialIndex)}const g=e.data.boundingSphere;if(g!==void 0){const b=new Q;g.center!==void 0&&b.fromArray(g.center),s.boundingSphere=new pr(b,g.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class NX extends va{constructor(e){super(e)}load(e,t,i,r){const a=this,s=this.path===""?xf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const l=new Cs(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){let f=null;try{f=JSON.parse(u)}catch(v){r!==void 0&&r(v),console.error("THREE:ObjectLoader: Can't parse "+e+".",v.message);return}const p=f.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(f,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?xf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new Cs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),l=JSON.parse(s),u=l.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(l)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){t!==void 0&&t(f)}),l=this.parseTextures(e.textures,s),u=this.parseMaterials(e.materials,l),f=this.parseObject(e.object,a,u,l,i),p=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,p),this.bindLightTargets(f),t!==void 0){let v=!1;for(const g in s)if(s[g].data instanceof HTMLImageElement){v=!0;break}v===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,r,l,s,t),f=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,f),this.bindLightTargets(u),u}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new ad().fromJSON(e[i]);t[a.uuid]=a}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=new m0().fromJSON(e[a],r);i[l.uuid]=l}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new T5;for(let a=0,s=e.length;a<s;a++){let l;const u=e[a];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(u);break;default:u.type in bP?l=bP[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}l.uuid=u.uuid,u.name!==void 0&&(l.name=u.name),u.userData!==void 0&&(l.userData=u.userData),i[u.uuid]=l}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const a=new $S;a.setTextures(t);for(let s=0,l=e.length;s<l;s++){const u=e[s];i[u.uuid]===void 0&&(i[u.uuid]=a.parse(u)),r[u.uuid]=i[u.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=xm.parse(r);t[a.uuid]=a}return t}parseImages(e,t){const i=this,r={};let a;function s(u){return i.manager.itemStart(u),a.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}function l(u){if(typeof u=="string"){const f=u,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return s(p)}else return u.data?{data:nm(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new fB(t);a=new Ey(u),a.setCrossOrigin(this.crossOrigin);for(let f=0,p=e.length;f<p;f++){const v=e[f],g=v.url;if(Array.isArray(g)){const b=[];for(let _=0,M=g.length;_<M;_++){const A=g[_],S=l(A);S!==null&&(S instanceof HTMLImageElement?b.push(S):b.push(new Jl(S.data,S.width,S.height)))}r[v.uuid]=new yf(b)}else{const b=l(v.url);r[v.uuid]=new yf(b)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function a(s){if(typeof s=="string"){const l=s,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await r.loadAsync(u)}else return s.data?{data:nm(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new Ey(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,l=e.length;s<l;s++){const u=e[s],f=u.url;if(Array.isArray(f)){const p=[];for(let v=0,g=f.length;v<g;v++){const b=f[v],_=await a(b);_!==null&&(_ instanceof HTMLImageElement?p.push(_):p.push(new Jl(_.data,_.width,_.height)))}i[u.uuid]=new yf(p)}else{const p=await a(u.url);i[u.uuid]=new yf(p)}}}return i}parseTextures(e,t){function i(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=e[a];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const u=t[l.image],f=u.data;let p;Array.isArray(f)?(p=new d0,f.length===6&&(p.needsUpdate=!0)):(f&&f.data?p=new Jl:p=new _i,f&&(p.needsUpdate=!0)),p.source=u,p.uuid=l.uuid,l.name!==void 0&&(p.name=l.name),l.mapping!==void 0&&(p.mapping=i(l.mapping,PX)),l.channel!==void 0&&(p.channel=l.channel),l.offset!==void 0&&p.offset.fromArray(l.offset),l.repeat!==void 0&&p.repeat.fromArray(l.repeat),l.center!==void 0&&p.center.fromArray(l.center),l.rotation!==void 0&&(p.rotation=l.rotation),l.wrap!==void 0&&(p.wrapS=i(l.wrap[0],SP),p.wrapT=i(l.wrap[1],SP)),l.format!==void 0&&(p.format=l.format),l.internalFormat!==void 0&&(p.internalFormat=l.internalFormat),l.type!==void 0&&(p.type=l.type),l.colorSpace!==void 0&&(p.colorSpace=l.colorSpace),l.minFilter!==void 0&&(p.minFilter=i(l.minFilter,MP)),l.magFilter!==void 0&&(p.magFilter=i(l.magFilter,MP)),l.anisotropy!==void 0&&(p.anisotropy=l.anisotropy),l.flipY!==void 0&&(p.flipY=l.flipY),l.generateMipmaps!==void 0&&(p.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(p.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(p.compareFunction=l.compareFunction),l.userData!==void 0&&(p.userData=l.userData),r[l.uuid]=p}return r}parseObject(e,t,i,r,a){let s;function l(g){return t[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",g),t[g]}function u(g){if(g!==void 0){if(Array.isArray(g)){const b=[];for(let _=0,M=g.length;_<M;_++){const A=g[_];i[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),b.push(i[A])}return b}return i[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),i[g]}}function f(g){return r[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",g),r[g]}let p,v;switch(e.type){case"Scene":s=new XO,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new dt(e.background):s.background=f(e.background)),e.environment!==void 0&&(s.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new LS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new PS(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new bi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new el(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new A5(e.color,e.intensity);break;case"DirectionalLight":s=new mB(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new pB(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new S5(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new dB(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new _5(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new E5().fromJSON(e);break;case"SkinnedMesh":p=l(e.geometry),v=u(e.material),s=new YO(p,v),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":p=l(e.geometry),v=u(e.material),s=new qi(p,v);break;case"InstancedMesh":p=l(e.geometry),v=u(e.material);const g=e.count,b=e.instanceMatrix,_=e.instanceColor;s=new KO(p,v,g),s.instanceMatrix=new dd(new Float32Array(b.array),16),_!==void 0&&(s.instanceColor=new dd(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":p=l(e.geometry),v=u(e.material),s=new KG(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,v),s.geometry=p,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(M=>{const A=new dr;A.min.fromArray(M.boxMin),A.max.fromArray(M.boxMax);const S=new pr;return S.radius=M.sphereRadius,S.center.fromArray(M.sphereCenter),{boxInitialized:M.boxInitialized,box:A,sphereInitialized:M.sphereInitialized,sphere:S}}),s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=f(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=f(e.colorsTexture.uuid));break;case"LOD":s=new YG;break;case"Line":s=new uc(l(e.geometry),u(e.material));break;case"LineLoop":s=new JO(l(e.geometry),u(e.material));break;case"LineSegments":s=new nl(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":s=new ZO(l(e.geometry),u(e.material));break;case"Sprite":s=new WG(u(e.material));break;case"Group":s=new Yu;break;case"Bone":s=new US;break;default:s=new Cn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const g=e.children;for(let b=0;b<g.length;b++)s.add(this.parseObject(g[b],t,i,r,a))}if(e.animations!==void 0){const g=e.animations;for(let b=0;b<g.length;b++){const _=g[b];s.animations.push(a[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const g=e.levels;for(let b=0;b<g.length;b++){const _=g[b],M=s.getObjectByProperty("uuid",_.object);M!==void 0&&s.addLevel(M,_.distance,_.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new Cn}})}}const PX={UVMapping:_S,CubeReflectionMapping:oc,CubeRefractionMapping:Sf,EquirectangularReflectionMapping:py,EquirectangularRefractionMapping:my,CubeUVReflectionMapping:Jm},SP={RepeatWrapping:Mf,ClampToEdgeWrapping:Ms,MirroredRepeatWrapping:dm},MP={NearestFilter:Dr,NearestMipmapNearestFilter:AS,NearestMipmapLinearFilter:Xh,LinearFilter:Zi,LinearMipmapNearestFilter:sm,LinearMipmapLinearFilter:$s};class w5 extends va{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Ku.get(e);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(f=>{t&&t(f),a.manager.itemEnd(e)}).catch(f=>{r&&r(f)});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const u=fetch(e,l).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(f){return Ku.add(e,f),t&&t(f),a.manager.itemEnd(e),f}).catch(function(f){r&&r(f),Ku.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});Ku.add(e,u),a.manager.itemStart(e)}}let Wx;class gB{static getContext(){return Wx===void 0&&(Wx=new(window.AudioContext||window.webkitAudioContext)),Wx}static setContext(e){Wx=e}}class LX extends va{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new Cs(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(u){try{const f=u.slice(0);gB.getContext().decodeAudioData(f,function(v){t(v)}).catch(l)}catch(f){l(f)}},i,r);function l(u){r?r(u):console.error(u),a.manager.itemError(e)}}}const EP=new Lt,TP=new Lt,Rh=new Lt;class UX{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new bi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new bi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Rh.copy(e.projectionMatrix);const r=t.eyeSep/2,a=r*t.near/t.focus,s=t.near*Math.tan(rd*t.fov*.5)/t.zoom;let l,u;TP.elements[12]=-r,EP.elements[12]=r,l=-s*t.aspect+a,u=s*t.aspect+a,Rh.elements[0]=2*t.near/(u-l),Rh.elements[8]=(u+l)/(u-l),this.cameraL.projectionMatrix.copy(Rh),l=-s*t.aspect-a,u=s*t.aspect-a,Rh.elements[0]=2*t.near/(u-l),Rh.elements[8]=(u+l)/(u-l),this.cameraR.projectionMatrix.copy(Rh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(TP),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(EP)}}class C5 extends bi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class yB{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=wP(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=wP();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function wP(){return performance.now()}const Oh=new Q,CP=new hr,IX=new Q,Bh=new Q;class FX extends Cn{constructor(){super(),this.type="AudioListener",this.context=gB.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new yB}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Oh,CP,IX),Bh.set(0,0,-1).applyQuaternion(CP),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Oh.x,r),t.positionY.linearRampToValueAtTime(Oh.y,r),t.positionZ.linearRampToValueAtTime(Oh.z,r),t.forwardX.linearRampToValueAtTime(Bh.x,r),t.forwardY.linearRampToValueAtTime(Bh.y,r),t.forwardZ.linearRampToValueAtTime(Bh.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Oh.x,Oh.y,Oh.z),t.setOrientation(Bh.x,Bh.y,Bh.z,i.x,i.y,i.z)}}class R5 extends Cn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Dh=new Q,RP=new hr,zX=new Q,Nh=new Q;class HX extends R5{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Dh,RP,zX),Nh.set(0,0,1).applyQuaternion(RP);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Dh.x,i),t.positionY.linearRampToValueAtTime(Dh.y,i),t.positionZ.linearRampToValueAtTime(Dh.z,i),t.orientationX.linearRampToValueAtTime(Nh.x,i),t.orientationY.linearRampToValueAtTime(Nh.y,i),t.orientationZ.linearRampToValueAtTime(Nh.z,i)}else t.setPosition(Dh.x,Dh.y,Dh.z),t.setOrientation(Nh.x,Nh.y,Nh.z)}}class GX{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class O5{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,a,s;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,a=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let l=0;l!==r;++l)i[a+l]=i[l];s=t}else{s+=t;const l=t/s;this._mixBufferRegion(i,a,0,l,r)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const u=t*this._origIndex;this._mixBufferRegion(i,r,u,1-a,t)}s>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let u=t,f=t+t;u!==f;++u)if(i[u]!==i[u+t]){l.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let a=i,s=r;a!==s;++a)t[a]=t[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[t+s]=e[i+s]}_slerp(e,t,i,r){hr.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,a){const s=this._workIndex*a;hr.multiplyQuaternionsFlat(e,s,e,t,e,i),hr.slerpFlat(e,t,e,t,e,s,r)}_lerp(e,t,i,r,a){const s=1-r;for(let l=0;l!==a;++l){const u=t+l;e[u]=e[u]*s+e[i+l]*r}}_lerpAdditive(e,t,i,r,a){for(let s=0;s!==a;++s){const l=t+s;e[l]=e[l]+e[i+s]*r}}}const bB="\\[\\]\\.:\\/",kX=new RegExp("["+bB+"]","g"),xB="[^"+bB+"]",VX="[^"+bB.replace("\\.","")+"]",jX=/((?:WC+[\/:])*)/.source.replace("WC",xB),qX=/(WCOD+)?/.source.replace("WCOD",VX),XX=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",xB),WX=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",xB),YX=new RegExp("^"+jX+qX+XX+WX+"$"),KX=["material","materials","bones","map"];class JX{constructor(e,t,i){const r=i||Bn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Bn{constructor(e,t,i){this.path=t,this.parsedPath=i||Bn.parseTrackName(t),this.node=Bn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Bn.Composite(e,t,i):new Bn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(kX,"")}static parseTrackName(e){const t=YX.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);KX.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(a){for(let s=0;s<a.length;s++){const l=a[s];if(l.name===t||l.uuid===t)return l;const u=i(l.children);if(u)return u}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=Bn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let f=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===f){f=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const s=e[r];if(s===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Bn.Composite=JX;Bn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Bn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Bn.prototype.GetterByBindingType=[Bn.prototype._getValue_direct,Bn.prototype._getValue_array,Bn.prototype._getValue_arrayElement,Bn.prototype._getValue_toArray];Bn.prototype.SetterByBindingTypeAndVersioning=[[Bn.prototype._setValue_direct,Bn.prototype._setValue_direct_setNeedsUpdate,Bn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Bn.prototype._setValue_array,Bn.prototype._setValue_array_setNeedsUpdate,Bn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Bn.prototype._setValue_arrayElement,Bn.prototype._setValue_arrayElement_setNeedsUpdate,Bn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Bn.prototype._setValue_fromArray,Bn.prototype._setValue_fromArray_setNeedsUpdate,Bn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class ZX{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ts(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length;let l,u=e.length,f=this.nCachedObjects_;for(let p=0,v=arguments.length;p!==v;++p){const g=arguments[p],b=g.uuid;let _=t[b];if(_===void 0){_=u++,t[b]=_,e.push(g);for(let M=0,A=s;M!==A;++M)a[M].push(new Bn(g,i[M],r[M]))}else if(_<f){l=e[_];const M=--f,A=e[M];t[A.uuid]=_,e[_]=A,t[b]=M,e[M]=g;for(let S=0,w=s;S!==w;++S){const C=a[S],R=C[M];let D=C[_];C[_]=R,D===void 0&&(D=new Bn(g,i[S],r[S])),C[M]=D}}else e[_]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],f=u.uuid,p=t[f];if(p!==void 0&&p>=a){const v=a++,g=e[v];t[g.uuid]=p,e[p]=g,t[f]=v,e[v]=u;for(let b=0,_=r;b!==_;++b){const M=i[b],A=M[v],S=M[p];M[p]=A,M[v]=S}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,s=e.length;for(let l=0,u=arguments.length;l!==u;++l){const f=arguments[l],p=f.uuid,v=t[p];if(v!==void 0)if(delete t[p],v<a){const g=--a,b=e[g],_=--s,M=e[_];t[b.uuid]=v,e[v]=b,t[M.uuid]=g,e[g]=M,e.pop();for(let A=0,S=r;A!==S;++A){const w=i[A],C=w[g],R=w[_];w[v]=C,w[g]=R,w.pop()}}else{const g=--s,b=e[g];g>0&&(t[b.uuid]=v),e[v]=b,e.pop();for(let _=0,M=r;_!==M;++_){const A=i[_];A[v]=A[g],A.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const s=this._paths,l=this._parsedPaths,u=this._objects,f=u.length,p=this.nCachedObjects_,v=new Array(f);r=a.length,i[e]=r,s.push(e),l.push(t),a.push(v);for(let g=p,b=u.length;g!==b;++g){const _=u[g];v[g]=new Bn(_,e,t)}return v}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,s=this._bindings,l=s.length-1,u=s[l],f=e[l];t[f]=i,s[i]=u,s.pop(),a[i]=a[l],a.pop(),r[i]=r[l],r.pop()}}}class B5{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const a=t.tracks,s=a.length,l=new Array(s),u={endingStart:Wh,endingEnd:Wh};for(let f=0;f!==s;++f){const p=a[f].createInterpolant(null);l[f]=p,p.settings=u}this._interpolantSettings=u,this._interpolants=l,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=TG,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,a=e._clip.duration,s=a/r,l=r/a;e.warp(1,s,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,a=r.time,s=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const u=l.parameterPositions,f=l.sampleValues;return u[0]=a,u[1]=a+i,f[0]=e/s,f[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const u=(e-a)*i;u<0||i===0?t=0:(this._startTime=null,t=i*u)}t*=this._updateTimeScale(e);const s=this._updateTime(t),l=this._updateWeight(e);if(l>0){const u=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case HO:for(let p=0,v=u.length;p!==v;++p)u[p].evaluate(s),f[p].accumulateAdditive(l);break;case RS:default:for(let p=0,v=u.length;p!==v;++p)u[p].evaluate(s),f[p].accumulate(r,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const s=i===wG;if(e===0)return a===-1?r:s&&(a&1)===1?t-r:r;if(i===EG){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=t||r<0){const l=Math.floor(r/t);r-=t*l,a+=Math.abs(l);const u=this.repetitions-a;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const f=e<0;this._setEndings(f,!f,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(s&&(a&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Yh,r.endingEnd=Yh):(e?r.endingStart=this.zeroSlopeAtStart?Yh:Wh:r.endingStart=vy,t?r.endingEnd=this.zeroSlopeAtEnd?Yh:Wh:r.endingEnd=vy)}_scheduleFading(e,t,i){const r=this._mixer,a=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=a,u[0]=t,l[1]=a+e,u[1]=i,this}}const QX=new Float32Array(1);class $X extends au{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,l=e._interpolants,u=i.uuid,f=this._bindingsByRootAndName;let p=f[u];p===void 0&&(p={},f[u]=p);for(let v=0;v!==a;++v){const g=r[v],b=g.name;let _=p[b];if(_!==void 0)++_.referenceCount,s[v]=_;else{if(_=s[v],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,u,b));continue}const M=t&&t._propertyBindings[v].binding.parsedPath;_=new O5(Bn.create(i,b,M),g.ValueTypeName,g.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,u,b),s[v]=_}l[v].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const l=s.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,l=s[a],u=l.knownActions,f=u[u.length-1],p=e._byClipCacheIndex;f._byClipCacheIndex=p,u[p]=f,u.pop(),e._byClipCacheIndex=null;const v=l.actionByRoot,g=(e._localRoot||this._root).uuid;delete v[g],u.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,a=this._bindings;let s=r[t];s===void 0&&(s={},r[t]=s),s[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,s=this._bindingsByRootAndName,l=s[r],u=t[t.length-1],f=e._cacheIndex;u._cacheIndex=f,t[f]=u,t.pop(),delete l[a],Object.keys(l).length===0&&delete s[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new uB(new Float32Array(2),new Float32Array(2),1,QX),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=i,t[i]=a}clipAction(e,t,i){const r=t||this._root,a=r.uuid;let s=typeof e=="string"?xm.findByName(r,e):e;const l=s!==null?s.uuid:e,u=this._actionsByClip[l];let f=null;if(i===void 0&&(s!==null?i=s.blendMode:i=RS),u!==void 0){const v=u.actionByRoot[a];if(v!==void 0&&v.blendMode===i)return v;f=u.knownActions[0],s===null&&(s=f._clip)}if(s===null)return null;const p=new B5(this,s,t,i);return this._bindAction(p,f),this._addInactiveAction(p,l,a),p}existingAction(e,t){const i=t||this._root,r=i.uuid,a=typeof e=="string"?xm.findByName(i,e):e,s=a?a.uuid:e,l=this._actionsByClip[s];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let f=0;f!==i;++f)t[f]._update(r,e,a,s);const l=this._bindings,u=this._nActiveBindings;for(let f=0;f!==u;++f)l[f].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const s=a.knownActions;for(let l=0,u=s.length;l!==u;++l){const f=s[l];this._deactivateAction(f);const p=f._cacheIndex,v=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,v._cacheIndex=p,t[p]=v,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const s in i){const l=i[s].actionByRoot,u=l[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(const s in a){const l=a[s];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class eW extends BS{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new DS(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class tW extends BS{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTargetArray=!0,this.depth=i,this.texture=new h0(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class _B{constructor(e){this.value=e}clone(){return new _B(this.value.clone===void 0?this.value:this.value.clone())}}let nW=0;class iW extends au{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:nW++}),this.name="",this.usage=yy,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const a=Array.isArray(t[i])?t[i]:[t[i]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class xA extends p0{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class rW{constructor(e,t,i,r,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const OP=new Lt;class D5{constructor(e,t,i=0,r=1/0){this.ray=new Ed(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new ym,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return OP.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(OP),this}intersectObject(e,t=!0,i=[]){return WC(e,this,i,t),i.sort(BP),i}intersectObjects(e,t=!0,i=[]){for(let r=0,a=e.length;r<a;r++)WC(e[r],this,i,t);return i.sort(BP),i}}function BP(n,e){return n.distance-e.distance}function WC(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const a=n.children;for(let s=0,l=a.length;s<l;s++)WC(a[s],e,t,!0)}}class _A{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Kt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Kt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class aW{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class AB{constructor(e,t,i,r){AB.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const a=this.elements;return a[0]=e,a[2]=t,a[1]=i,a[3]=r,this}}const DP=new ke;class sW{constructor(e=new ke(1/0,1/0),t=new ke(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=DP.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,DP).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const NP=new Q,Yx=new Q;class N5{constructor(e=new Q,t=new Q){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){NP.subVectors(e,this.start),Yx.subVectors(this.end,this.start);const i=Yx.dot(Yx);let a=Yx.dot(NP)/i;return t&&(a=Kt(a,0,1)),a}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const PP=new Q;class oW extends Cn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new $t,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,l=1,u=32;s<u;s++,l++){const f=s/u*Math.PI*2,p=l/u*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(p),Math.sin(p),1)}i.setAttribute("position",new Ct(r,3));const a=new ma({fog:!1,toneMapped:!1});this.cone=new nl(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),PP.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(PP),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const hf=new Q,Kx=new Lt,sE=new Lt;class lW extends nl{constructor(e){const t=P5(e),i=new $t,r=[],a=[],s=new dt(0,0,1),l=new dt(0,1,0);for(let f=0;f<t.length;f++){const p=t[f];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(s.r,s.g,s.b),a.push(l.r,l.g,l.b))}i.setAttribute("position",new Ct(r,3)),i.setAttribute("color",new Ct(a,3));const u=new ma({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");sE.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const l=t[a];l.parent&&l.parent.isBone&&(Kx.multiplyMatrices(sE,l.matrixWorld),hf.setFromMatrixPosition(Kx),r.setXYZ(s,hf.x,hf.y,hf.z),Kx.multiplyMatrices(sE,l.parent.matrixWorld),hf.setFromMatrixPosition(Kx),r.setXYZ(s+1,hf.x,hf.y,hf.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function P5(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...P5(n.children[t]));return e}class uW extends qi{constructor(e,t,i){const r=new b0(t,4,2),a=new Es({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const cW=new Q,LP=new dt,UP=new dt;class fW extends Cn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new y0(t);r.rotateY(Math.PI*.5),this.material=new Es({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new Dn(s,3)),this.add(new qi(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");LP.copy(this.light.color),UP.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const a=i<r/2?LP:UP;t.setXYZ(i,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(cW.setFromMatrixPosition(this.light.matrixWorld).negate())}}class hW extends nl{constructor(e=10,t=10,i=4473924,r=8947848){i=new dt(i),r=new dt(r);const a=t/2,s=e/t,l=e/2,u=[],f=[];for(let g=0,b=0,_=-l;g<=t;g++,_+=s){u.push(-l,0,_,l,0,_),u.push(_,0,-l,_,0,l);const M=g===a?i:r;M.toArray(f,b),b+=3,M.toArray(f,b),b+=3,M.toArray(f,b),b+=3,M.toArray(f,b),b+=3}const p=new $t;p.setAttribute("position",new Ct(u,3)),p.setAttribute("color",new Ct(f,3));const v=new ma({vertexColors:!0,toneMapped:!1});super(p,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class dW extends nl{constructor(e=10,t=16,i=8,r=64,a=4473924,s=8947848){a=new dt(a),s=new dt(s);const l=[],u=[];if(t>1)for(let v=0;v<t;v++){const g=v/t*(Math.PI*2),b=Math.sin(g)*e,_=Math.cos(g)*e;l.push(0,0,0),l.push(b,0,_);const M=v&1?a:s;u.push(M.r,M.g,M.b),u.push(M.r,M.g,M.b)}for(let v=0;v<i;v++){const g=v&1?a:s,b=e-e/i*v;for(let _=0;_<r;_++){let M=_/r*(Math.PI*2),A=Math.sin(M)*b,S=Math.cos(M)*b;l.push(A,0,S),u.push(g.r,g.g,g.b),M=(_+1)/r*(Math.PI*2),A=Math.sin(M)*b,S=Math.cos(M)*b,l.push(A,0,S),u.push(g.r,g.g,g.b)}}const f=new $t;f.setAttribute("position",new Ct(l,3)),f.setAttribute("color",new Ct(u,3));const p=new ma({vertexColors:!0,toneMapped:!1});super(f,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const IP=new Q,Jx=new Q,FP=new Q;class pW extends Cn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new $t;r.setAttribute("position",new Ct([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new ma({fog:!1,toneMapped:!1});this.lightPlane=new uc(r,a),this.add(this.lightPlane),r=new $t,r.setAttribute("position",new Ct([0,0,0,0,0,1],3)),this.targetLine=new uc(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),IP.setFromMatrixPosition(this.light.matrixWorld),Jx.setFromMatrixPosition(this.light.target.matrixWorld),FP.subVectors(Jx,IP),this.lightPlane.lookAt(Jx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Jx),this.targetLine.scale.z=FP.length()}}const Zx=new Q,Vi=new NS;class mW extends nl{constructor(e){const t=new $t,i=new ma({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(_,M){u(_),u(M)}function u(_){r.push(0,0,0),a.push(0,0,0),s[_]===void 0&&(s[_]=[]),s[_].push(r.length/3-1)}t.setAttribute("position",new Ct(r,3)),t.setAttribute("color",new Ct(a,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const f=new dt(16755200),p=new dt(16711680),v=new dt(43775),g=new dt(16777215),b=new dt(3355443);this.setColors(f,p,v,g,b)}setColors(e,t,i,r,a){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,a.r,a.g,a.b),l.setXYZ(41,a.r,a.g,a.b),l.setXYZ(42,a.r,a.g,a.b),l.setXYZ(43,a.r,a.g,a.b),l.setXYZ(44,a.r,a.g,a.b),l.setXYZ(45,a.r,a.g,a.b),l.setXYZ(46,a.r,a.g,a.b),l.setXYZ(47,a.r,a.g,a.b),l.setXYZ(48,a.r,a.g,a.b),l.setXYZ(49,a.r,a.g,a.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Vi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===Qo?-1:0;Ki("c",t,e,Vi,0,0,a),Ki("t",t,e,Vi,0,0,1),Ki("n1",t,e,Vi,-1,-1,a),Ki("n2",t,e,Vi,i,-1,a),Ki("n3",t,e,Vi,-1,r,a),Ki("n4",t,e,Vi,i,r,a),Ki("f1",t,e,Vi,-1,-1,1),Ki("f2",t,e,Vi,i,-1,1),Ki("f3",t,e,Vi,-1,r,1),Ki("f4",t,e,Vi,i,r,1),Ki("u1",t,e,Vi,i*.7,r*1.1,a),Ki("u2",t,e,Vi,-1*.7,r*1.1,a),Ki("u3",t,e,Vi,0,r*2,a),Ki("cf1",t,e,Vi,-1,0,1),Ki("cf2",t,e,Vi,i,0,1),Ki("cf3",t,e,Vi,0,-1,1),Ki("cf4",t,e,Vi,0,r,1),Ki("cn1",t,e,Vi,-1,0,a),Ki("cn2",t,e,Vi,i,0,a),Ki("cn3",t,e,Vi,0,-1,a),Ki("cn4",t,e,Vi,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ki(n,e,t,i,r,a,s){Zx.set(r,a,s).unproject(i);const l=e[n];if(l!==void 0){const u=t.getAttribute("position");for(let f=0,p=l.length;f<p;f++)u.setXYZ(l[f],Zx.x,Zx.y,Zx.z)}}const Qx=new dr;class vW extends nl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),a=new $t;a.setIndex(new Dn(i,1)),a.setAttribute("position",new Dn(r,3)),super(a,new ma({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Qx.setFromObject(this.object),Qx.isEmpty())return;const e=Qx.min,t=Qx.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class gW extends nl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new $t;a.setIndex(new Dn(i,1)),a.setAttribute("position",new Ct(r,3)),super(a,new ma({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class yW extends uc{constructor(e,t=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new $t;s.setAttribute("position",new Ct(a,3)),s.computeBoundingSphere(),super(s,new ma({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new $t;u.setAttribute("position",new Ct(l,3)),u.computeBoundingSphere(),this.add(new qi(u,new Es({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const zP=new Q;let $x,oE;class bW extends Cn{constructor(e=new Q(0,0,1),t=new Q(0,0,0),i=1,r=16776960,a=i*.2,s=a*.2){super(),this.type="ArrowHelper",$x===void 0&&($x=new $t,$x.setAttribute("position",new Ct([0,0,0,0,1,0],3)),oE=new Qm(0,.5,1,5,1),oE.translate(0,-.5,0)),this.position.copy(t),this.line=new uc($x,new ma({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new qi(oE,new Es({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{zP.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(zP,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class xW extends nl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new $t;r.setAttribute("position",new Ct(t,3)),r.setAttribute("color",new Ct(i,3));const a=new ma({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,i){const r=new dt,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class _W{constructor(){this.type="ShapePath",this.color=new dt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new _y,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,a,s){return this.currentPath.bezierCurveTo(e,t,i,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const w=[];for(let C=0,R=S.length;C<R;C++){const D=S[C],N=new ad;N.curves=D.curves,w.push(N)}return w}function i(S,w){const C=w.length;let R=!1;for(let D=C-1,N=0;N<C;D=N++){let L=w[D],z=w[N],P=z.x-L.x,U=z.y-L.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(L=w[N],P=-P,z=w[D],U=-U),S.y<L.y||S.y>z.y)continue;if(S.y===L.y){if(S.x===L.x)return!0}else{const H=U*(S.x-L.x)-P*(S.y-L.y);if(H===0)return!0;if(H<0)continue;R=!R}}else{if(S.y!==L.y)continue;if(z.x<=S.x&&S.x<=L.x||L.x<=S.x&&S.x<=z.x)return!0}}return R}const r=Zl.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,l,u;const f=[];if(a.length===1)return l=a[0],u=new ad,u.curves=l.curves,f.push(u),f;let p=!r(a[0].getPoints());p=e?!p:p;const v=[],g=[];let b=[],_=0,M;g[_]=void 0,b[_]=[];for(let S=0,w=a.length;S<w;S++)l=a[S],M=l.getPoints(),s=r(M),s=e?!s:s,s?(!p&&g[_]&&_++,g[_]={s:new ad,p:M},g[_].s.curves=l.curves,p&&_++,b[_]=[]):b[_].push({h:l,p:M[0]});if(!g[0])return t(a);if(g.length>1){let S=!1,w=0;for(let C=0,R=g.length;C<R;C++)v[C]=[];for(let C=0,R=g.length;C<R;C++){const D=b[C];for(let N=0;N<D.length;N++){const L=D[N];let z=!0;for(let P=0;P<g.length;P++)i(L.p,g[P].p)&&(C!==P&&w++,z?(z=!1,v[P].push(L)):S=!0);z&&v[C].push(L)}}w>0&&S===!1&&(b=v)}let A;for(let S=0,w=g.length;S<w;S++){u=g[S].s,f.push(u),A=b[S];for(let C=0,R=A.length;C<R;C++)u.holes.push(A[C].h)}return f}}class AW extends au{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function SW(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function MW(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function EW(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function YC(n,e,t,i){const r=TW(i);switch(t){case PO:return n*e;case UO:return n*e;case IO:return n*e*2;case TS:return n*e/r.components*r.byteLength;case f0:return n*e/r.components*r.byteLength;case FO:return n*e*2/r.components*r.byteLength;case wS:return n*e*2/r.components*r.byteLength;case LO:return n*e*3/r.components*r.byteLength;case pa:return n*e*4/r.components*r.byteLength;case CS:return n*e*4/r.components*r.byteLength;case ey:case ty:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case ny:case iy:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case j_:case X_:return Math.max(n,16)*Math.max(e,8)/4;case V_:case q_:return Math.max(n,8)*Math.max(e,8)/2;case W_:case Y_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case K_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case J_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Z_:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case Q_:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case $_:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case eA:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case tA:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case nA:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case iA:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case rA:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case aA:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case sA:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case oA:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case lA:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case uA:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case ry:case cA:case fA:return Math.ceil(n/4)*Math.ceil(e/4)*16;case zO:case hA:return Math.ceil(n/4)*Math.ceil(e/4)*8;case dA:case pA:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function TW(n){switch(n){case tl:case BO:return{byteLength:1,components:1};case pm:case DO:case Zm:return{byteLength:2,components:1};case MS:case ES:return{byteLength:2,components:4};case lc:case SS:case Qa:return{byteLength:4,components:1};case NO:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class wW{static contain(e,t){return SW(e,t)}static cover(e,t){return MW(e,t)}static fill(e){return EW(e)}static getByteLength(e,t,i,r){return YC(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Km}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Km);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function L5(){let n=null,e=!1,t=null,i=null;function r(a,s){t(a,s),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function CW(n){const e=new WeakMap;function t(l,u){const f=l.array,p=l.usage,v=f.byteLength,g=n.createBuffer();n.bindBuffer(u,g),n.bufferData(u,f,p),l.onUploadCallback();let b;if(f instanceof Float32Array)b=n.FLOAT;else if(f instanceof Uint16Array)l.isFloat16BufferAttribute?b=n.HALF_FLOAT:b=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)b=n.SHORT;else if(f instanceof Uint32Array)b=n.UNSIGNED_INT;else if(f instanceof Int32Array)b=n.INT;else if(f instanceof Int8Array)b=n.BYTE;else if(f instanceof Uint8Array)b=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)b=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:g,type:b,bytesPerElement:f.BYTES_PER_ELEMENT,version:l.version,size:v}}function i(l,u,f){const p=u.array,v=u.updateRanges;if(n.bindBuffer(f,l),v.length===0)n.bufferSubData(f,0,p);else{v.sort((b,_)=>b.start-_.start);let g=0;for(let b=1;b<v.length;b++){const _=v[g],M=v[b];M.start<=_.start+_.count+1?_.count=Math.max(_.count,M.start+M.count-_.start):(++g,v[g]=M)}v.length=g+1;for(let b=0,_=v.length;b<_;b++){const M=v[b];n.bufferSubData(f,M.start*p.BYTES_PER_ELEMENT,p,M.start,M.count)}u.clearUpdateRanges()}u.onUploadCallback()}function r(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=e.get(l);u&&(n.deleteBuffer(u.buffer),e.delete(l))}function s(l,u){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const p=e.get(l);(!p||p.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const f=e.get(l);if(f===void 0)e.set(l,t(l,u));else if(f.version<l.version){if(f.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(f.buffer,l,u),f.version=l.version}}return{get:r,remove:a,update:s}}var RW=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,OW=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,BW=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,DW=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,NW=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,PW=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,LW=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,UW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,IW=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,FW=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,zW=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,HW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,GW=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,kW=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,VW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,jW=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,qW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,XW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,WW=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,YW=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,KW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,JW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,ZW=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,QW=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,$W=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,eY=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,tY=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,nY=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,iY=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,rY=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,aY="gl_FragColor = linearToOutputTexel( gl_FragColor );",sY=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,oY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,lY=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,uY=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,cY=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,fY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,hY=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,dY=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,pY=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,mY=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,vY=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,gY=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,yY=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,bY=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,xY=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,_Y=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,AY=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,SY=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,MY=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,EY=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,TY=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,wY=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,CY=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,RY=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,OY=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,BY=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,DY=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,NY=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,PY=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,LY=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,UY=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,IY=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,FY=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zY=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,HY=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,GY=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,kY=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,VY=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,jY=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,qY=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,XY=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,WY=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,YY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,KY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,JY=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,ZY=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,QY=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,$Y=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,eK=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,tK=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,nK=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,iK=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,rK=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,aK=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,sK=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,oK=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,lK=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,uK=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,cK=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,fK=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,hK=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,dK=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,pK=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,mK=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,vK=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,gK=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,yK=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,bK=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,xK=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,_K=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,AK=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,SK=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,MK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,EK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,TK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,wK=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const CK=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,RK=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,OK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,BK=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,DK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,NK=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,PK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,LK=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,UK=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,IK=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,FK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,zK=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,HK=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,GK=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,VK=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jK=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qK=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XK=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,WK=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YK=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,KK=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,JK=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ZK=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QK=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,$K=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eJ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tJ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nJ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,iJ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rJ=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aJ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sJ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,oJ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sn={alphahash_fragment:RW,alphahash_pars_fragment:OW,alphamap_fragment:BW,alphamap_pars_fragment:DW,alphatest_fragment:NW,alphatest_pars_fragment:PW,aomap_fragment:LW,aomap_pars_fragment:UW,batching_pars_vertex:IW,batching_vertex:FW,begin_vertex:zW,beginnormal_vertex:HW,bsdfs:GW,iridescence_fragment:kW,bumpmap_pars_fragment:VW,clipping_planes_fragment:jW,clipping_planes_pars_fragment:qW,clipping_planes_pars_vertex:XW,clipping_planes_vertex:WW,color_fragment:YW,color_pars_fragment:KW,color_pars_vertex:JW,color_vertex:ZW,common:QW,cube_uv_reflection_fragment:$W,defaultnormal_vertex:eY,displacementmap_pars_vertex:tY,displacementmap_vertex:nY,emissivemap_fragment:iY,emissivemap_pars_fragment:rY,colorspace_fragment:aY,colorspace_pars_fragment:sY,envmap_fragment:oY,envmap_common_pars_fragment:lY,envmap_pars_fragment:uY,envmap_pars_vertex:cY,envmap_physical_pars_fragment:_Y,envmap_vertex:fY,fog_vertex:hY,fog_pars_vertex:dY,fog_fragment:pY,fog_pars_fragment:mY,gradientmap_pars_fragment:vY,lightmap_pars_fragment:gY,lights_lambert_fragment:yY,lights_lambert_pars_fragment:bY,lights_pars_begin:xY,lights_toon_fragment:AY,lights_toon_pars_fragment:SY,lights_phong_fragment:MY,lights_phong_pars_fragment:EY,lights_physical_fragment:TY,lights_physical_pars_fragment:wY,lights_fragment_begin:CY,lights_fragment_maps:RY,lights_fragment_end:OY,logdepthbuf_fragment:BY,logdepthbuf_pars_fragment:DY,logdepthbuf_pars_vertex:NY,logdepthbuf_vertex:PY,map_fragment:LY,map_pars_fragment:UY,map_particle_fragment:IY,map_particle_pars_fragment:FY,metalnessmap_fragment:zY,metalnessmap_pars_fragment:HY,morphinstance_vertex:GY,morphcolor_vertex:kY,morphnormal_vertex:VY,morphtarget_pars_vertex:jY,morphtarget_vertex:qY,normal_fragment_begin:XY,normal_fragment_maps:WY,normal_pars_fragment:YY,normal_pars_vertex:KY,normal_vertex:JY,normalmap_pars_fragment:ZY,clearcoat_normal_fragment_begin:QY,clearcoat_normal_fragment_maps:$Y,clearcoat_pars_fragment:eK,iridescence_pars_fragment:tK,opaque_fragment:nK,packing:iK,premultiplied_alpha_fragment:rK,project_vertex:aK,dithering_fragment:sK,dithering_pars_fragment:oK,roughnessmap_fragment:lK,roughnessmap_pars_fragment:uK,shadowmap_pars_fragment:cK,shadowmap_pars_vertex:fK,shadowmap_vertex:hK,shadowmask_pars_fragment:dK,skinbase_vertex:pK,skinning_pars_vertex:mK,skinning_vertex:vK,skinnormal_vertex:gK,specularmap_fragment:yK,specularmap_pars_fragment:bK,tonemapping_fragment:xK,tonemapping_pars_fragment:_K,transmission_fragment:AK,transmission_pars_fragment:SK,uv_pars_fragment:MK,uv_pars_vertex:EK,uv_vertex:TK,worldpos_vertex:wK,background_vert:CK,background_frag:RK,backgroundCube_vert:OK,backgroundCube_frag:BK,cube_vert:DK,cube_frag:NK,depth_vert:PK,depth_frag:LK,distanceRGBA_vert:UK,distanceRGBA_frag:IK,equirect_vert:FK,equirect_frag:zK,linedashed_vert:HK,linedashed_frag:GK,meshbasic_vert:kK,meshbasic_frag:VK,meshlambert_vert:jK,meshlambert_frag:qK,meshmatcap_vert:XK,meshmatcap_frag:WK,meshnormal_vert:YK,meshnormal_frag:KK,meshphong_vert:JK,meshphong_frag:ZK,meshphysical_vert:QK,meshphysical_frag:$K,meshtoon_vert:eJ,meshtoon_frag:tJ,points_vert:nJ,points_frag:iJ,shadow_vert:rJ,shadow_frag:aJ,sprite_vert:sJ,sprite_frag:oJ},pt={common:{diffuse:{value:new dt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Qt},alphaMap:{value:null},alphaMapTransform:{value:new Qt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Qt}},envmap:{envMap:{value:null},envMapRotation:{value:new Qt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Qt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Qt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Qt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Qt},normalScale:{value:new ke(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Qt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Qt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Qt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Qt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new dt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new dt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Qt},alphaTest:{value:0},uvTransform:{value:new Qt}},sprite:{diffuse:{value:new dt(16777215)},opacity:{value:1},center:{value:new ke(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Qt},alphaMap:{value:null},alphaMapTransform:{value:new Qt},alphaTest:{value:0}}},Ko={basic:{uniforms:Ra([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.fog]),vertexShader:sn.meshbasic_vert,fragmentShader:sn.meshbasic_frag},lambert:{uniforms:Ra([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new dt(0)}}]),vertexShader:sn.meshlambert_vert,fragmentShader:sn.meshlambert_frag},phong:{uniforms:Ra([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new dt(0)},specular:{value:new dt(1118481)},shininess:{value:30}}]),vertexShader:sn.meshphong_vert,fragmentShader:sn.meshphong_frag},standard:{uniforms:Ra([pt.common,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.roughnessmap,pt.metalnessmap,pt.fog,pt.lights,{emissive:{value:new dt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag},toon:{uniforms:Ra([pt.common,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.gradientmap,pt.fog,pt.lights,{emissive:{value:new dt(0)}}]),vertexShader:sn.meshtoon_vert,fragmentShader:sn.meshtoon_frag},matcap:{uniforms:Ra([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,{matcap:{value:null}}]),vertexShader:sn.meshmatcap_vert,fragmentShader:sn.meshmatcap_frag},points:{uniforms:Ra([pt.points,pt.fog]),vertexShader:sn.points_vert,fragmentShader:sn.points_frag},dashed:{uniforms:Ra([pt.common,pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:sn.linedashed_vert,fragmentShader:sn.linedashed_frag},depth:{uniforms:Ra([pt.common,pt.displacementmap]),vertexShader:sn.depth_vert,fragmentShader:sn.depth_frag},normal:{uniforms:Ra([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,{opacity:{value:1}}]),vertexShader:sn.meshnormal_vert,fragmentShader:sn.meshnormal_frag},sprite:{uniforms:Ra([pt.sprite,pt.fog]),vertexShader:sn.sprite_vert,fragmentShader:sn.sprite_frag},background:{uniforms:{uvTransform:{value:new Qt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:sn.background_vert,fragmentShader:sn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Qt}},vertexShader:sn.backgroundCube_vert,fragmentShader:sn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:sn.cube_vert,fragmentShader:sn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:sn.equirect_vert,fragmentShader:sn.equirect_frag},distanceRGBA:{uniforms:Ra([pt.common,pt.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:sn.distanceRGBA_vert,fragmentShader:sn.distanceRGBA_frag},shadow:{uniforms:Ra([pt.lights,pt.fog,{color:{value:new dt(0)},opacity:{value:1}}]),vertexShader:sn.shadow_vert,fragmentShader:sn.shadow_frag}};Ko.physical={uniforms:Ra([Ko.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Qt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Qt},clearcoatNormalScale:{value:new ke(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Qt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Qt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Qt},sheen:{value:0},sheenColor:{value:new dt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Qt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Qt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Qt},transmissionSamplerSize:{value:new ke},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Qt},attenuationDistance:{value:0},attenuationColor:{value:new dt(0)},specularColor:{value:new dt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Qt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Qt},anisotropyVector:{value:new ke},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Qt}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag};const e_={r:0,b:0,g:0},Ph=new ts,lJ=new Lt;function uJ(n,e,t,i,r,a,s){const l=new dt(0);let u=a===!0?0:1,f,p,v=null,g=0,b=null;function _(C){let R=C.isScene===!0?C.background:null;return R&&R.isTexture&&(R=(C.backgroundBlurriness>0?t:e).get(R)),R}function M(C){let R=!1;const D=_(C);D===null?S(l,u):D&&D.isColor&&(S(D,1),R=!0);const N=n.xr.getEnvironmentBlendMode();N==="additive"?i.buffers.color.setClear(0,0,0,1,s):N==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,s),(n.autoClear||R)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function A(C,R){const D=_(R);D&&(D.isCubeTexture||D.mapping===Jm)?(p===void 0&&(p=new qi(new Td(1,1,1),new ws({name:"BackgroundCubeMaterial",uniforms:bm(Ko.backgroundCube.uniforms),vertexShader:Ko.backgroundCube.vertexShader,fragmentShader:Ko.backgroundCube.fragmentShader,side:Na,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(N,L,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(p)),Ph.copy(R.backgroundRotation),Ph.x*=-1,Ph.y*=-1,Ph.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(Ph.y*=-1,Ph.z*=-1),p.material.uniforms.envMap.value=D,p.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=R.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,p.material.uniforms.backgroundRotation.value.setFromMatrix4(lJ.makeRotationFromEuler(Ph)),p.material.toneMapped=Tn.getTransfer(D.colorSpace)!==Kn,(v!==D||g!==D.version||b!==n.toneMapping)&&(p.material.needsUpdate=!0,v=D,g=D.version,b=n.toneMapping),p.layers.enableAll(),C.unshift(p,p.geometry,p.material,0,0,null)):D&&D.isTexture&&(f===void 0&&(f=new qi(new $m(2,2),new ws({name:"BackgroundMaterial",uniforms:bm(Ko.background.uniforms),vertexShader:Ko.background.vertexShader,fragmentShader:Ko.background.fragmentShader,side:tu,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=D,f.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,f.material.toneMapped=Tn.getTransfer(D.colorSpace)!==Kn,D.matrixAutoUpdate===!0&&D.updateMatrix(),f.material.uniforms.uvTransform.value.copy(D.matrix),(v!==D||g!==D.version||b!==n.toneMapping)&&(f.material.needsUpdate=!0,v=D,g=D.version,b=n.toneMapping),f.layers.enableAll(),C.unshift(f,f.geometry,f.material,0,0,null))}function S(C,R){C.getRGB(e_,VG(n)),i.buffers.color.setClear(e_.r,e_.g,e_.b,R,s)}function w(){p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return l},setClearColor:function(C,R=1){l.set(C),u=R,S(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(C){u=C,S(l,u)},render:M,addToRenderList:A,dispose:w}}function cJ(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=g(null);let a=r,s=!1;function l(U,H,J,V,ne){let ee=!1;const Y=v(V,J,H);a!==Y&&(a=Y,f(a.object)),ee=b(U,V,J,ne),ee&&_(U,V,J,ne),ne!==null&&e.update(ne,n.ELEMENT_ARRAY_BUFFER),(ee||s)&&(s=!1,R(U,H,J,V),ne!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ne).buffer))}function u(){return n.createVertexArray()}function f(U){return n.bindVertexArray(U)}function p(U){return n.deleteVertexArray(U)}function v(U,H,J){const V=J.wireframe===!0;let ne=i[U.id];ne===void 0&&(ne={},i[U.id]=ne);let ee=ne[H.id];ee===void 0&&(ee={},ne[H.id]=ee);let Y=ee[V];return Y===void 0&&(Y=g(u()),ee[V]=Y),Y}function g(U){const H=[],J=[],V=[];for(let ne=0;ne<t;ne++)H[ne]=0,J[ne]=0,V[ne]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:J,attributeDivisors:V,object:U,attributes:{},index:null}}function b(U,H,J,V){const ne=a.attributes,ee=H.attributes;let Y=0;const re=J.getAttributes();for(const ie in re)if(re[ie].location>=0){const q=ne[ie];let se=ee[ie];if(se===void 0&&(ie==="instanceMatrix"&&U.instanceMatrix&&(se=U.instanceMatrix),ie==="instanceColor"&&U.instanceColor&&(se=U.instanceColor)),q===void 0||q.attribute!==se||se&&q.data!==se.data)return!0;Y++}return a.attributesNum!==Y||a.index!==V}function _(U,H,J,V){const ne={},ee=H.attributes;let Y=0;const re=J.getAttributes();for(const ie in re)if(re[ie].location>=0){let q=ee[ie];q===void 0&&(ie==="instanceMatrix"&&U.instanceMatrix&&(q=U.instanceMatrix),ie==="instanceColor"&&U.instanceColor&&(q=U.instanceColor));const se={};se.attribute=q,q&&q.data&&(se.data=q.data),ne[ie]=se,Y++}a.attributes=ne,a.attributesNum=Y,a.index=V}function M(){const U=a.newAttributes;for(let H=0,J=U.length;H<J;H++)U[H]=0}function A(U){S(U,0)}function S(U,H){const J=a.newAttributes,V=a.enabledAttributes,ne=a.attributeDivisors;J[U]=1,V[U]===0&&(n.enableVertexAttribArray(U),V[U]=1),ne[U]!==H&&(n.vertexAttribDivisor(U,H),ne[U]=H)}function w(){const U=a.newAttributes,H=a.enabledAttributes;for(let J=0,V=H.length;J<V;J++)H[J]!==U[J]&&(n.disableVertexAttribArray(J),H[J]=0)}function C(U,H,J,V,ne,ee,Y){Y===!0?n.vertexAttribIPointer(U,H,J,ne,ee):n.vertexAttribPointer(U,H,J,V,ne,ee)}function R(U,H,J,V){M();const ne=V.attributes,ee=J.getAttributes(),Y=H.defaultAttributeValues;for(const re in ee){const ie=ee[re];if(ie.location>=0){let he=ne[re];if(he===void 0&&(re==="instanceMatrix"&&U.instanceMatrix&&(he=U.instanceMatrix),re==="instanceColor"&&U.instanceColor&&(he=U.instanceColor)),he!==void 0){const q=he.normalized,se=he.itemSize,pe=e.get(he);if(pe===void 0)continue;const Se=pe.buffer,oe=pe.type,Te=pe.bytesPerElement,Ue=oe===n.INT||oe===n.UNSIGNED_INT||he.gpuType===SS;if(he.isInterleavedBufferAttribute){const We=he.data,qe=We.stride,Le=he.offset;if(We.isInstancedInterleavedBuffer){for(let De=0;De<ie.locationSize;De++)S(ie.location+De,We.meshPerAttribute);U.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=We.meshPerAttribute*We.count)}else for(let De=0;De<ie.locationSize;De++)A(ie.location+De);n.bindBuffer(n.ARRAY_BUFFER,Se);for(let De=0;De<ie.locationSize;De++)C(ie.location+De,se/ie.locationSize,oe,q,qe*Te,(Le+se/ie.locationSize*De)*Te,Ue)}else{if(he.isInstancedBufferAttribute){for(let We=0;We<ie.locationSize;We++)S(ie.location+We,he.meshPerAttribute);U.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let We=0;We<ie.locationSize;We++)A(ie.location+We);n.bindBuffer(n.ARRAY_BUFFER,Se);for(let We=0;We<ie.locationSize;We++)C(ie.location+We,se/ie.locationSize,oe,q,se*Te,se/ie.locationSize*We*Te,Ue)}}else if(Y!==void 0){const q=Y[re];if(q!==void 0)switch(q.length){case 2:n.vertexAttrib2fv(ie.location,q);break;case 3:n.vertexAttrib3fv(ie.location,q);break;case 4:n.vertexAttrib4fv(ie.location,q);break;default:n.vertexAttrib1fv(ie.location,q)}}}}w()}function D(){z();for(const U in i){const H=i[U];for(const J in H){const V=H[J];for(const ne in V)p(V[ne].object),delete V[ne];delete H[J]}delete i[U]}}function N(U){if(i[U.id]===void 0)return;const H=i[U.id];for(const J in H){const V=H[J];for(const ne in V)p(V[ne].object),delete V[ne];delete H[J]}delete i[U.id]}function L(U){for(const H in i){const J=i[H];if(J[U.id]===void 0)continue;const V=J[U.id];for(const ne in V)p(V[ne].object),delete V[ne];delete J[U.id]}}function z(){P(),s=!0,a!==r&&(a=r,f(a.object))}function P(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:l,reset:z,resetDefaultState:P,dispose:D,releaseStatesOfGeometry:N,releaseStatesOfProgram:L,initAttributes:M,enableAttribute:A,disableUnusedAttributes:w}}function fJ(n,e,t){let i;function r(f){i=f}function a(f,p){n.drawArrays(i,f,p),t.update(p,i,1)}function s(f,p,v){v!==0&&(n.drawArraysInstanced(i,f,p,v),t.update(p,i,v))}function l(f,p,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,f,0,p,0,v);let b=0;for(let _=0;_<v;_++)b+=p[_];t.update(b,i,1)}function u(f,p,v,g){if(v===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let _=0;_<f.length;_++)s(f[_],p[_],g[_]);else{b.multiDrawArraysInstancedWEBGL(i,f,0,p,0,g,0,v);let _=0;for(let M=0;M<v;M++)_+=p[M]*g[M];t.update(_,i,1)}}this.setMode=r,this.render=a,this.renderInstances=s,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function hJ(n,e,t,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(L){return!(L!==pa&&i.convert(L)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(L){const z=L===Zm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(L!==tl&&i.convert(L)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&L!==Qa&&!z)}function u(L){if(L==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";L="mediump"}return L==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=t.precision!==void 0?t.precision:"highp";const p=u(f);p!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",p,"instead."),f=p);const v=t.logarithmicDepthBuffer===!0,g=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),b=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),M=n.getParameter(n.MAX_TEXTURE_SIZE),A=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),w=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),C=n.getParameter(n.MAX_VARYING_VECTORS),R=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),D=_>0,N=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:u,textureFormatReadable:s,textureTypeReadable:l,precision:f,logarithmicDepthBuffer:v,reverseDepthBuffer:g,maxTextures:b,maxVertexTextures:_,maxTextureSize:M,maxCubemapSize:A,maxAttributes:S,maxVertexUniforms:w,maxVaryings:C,maxFragmentUniforms:R,vertexTextures:D,maxSamples:N}}function dJ(n){const e=this;let t=null,i=0,r=!1,a=!1;const s=new qu,l=new Qt,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(v,g){const b=v.length!==0||g||i!==0||r;return r=g,i=v.length,b},this.beginShadows=function(){a=!0,p(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(v,g){t=p(v,g,0)},this.setState=function(v,g,b){const _=v.clippingPlanes,M=v.clipIntersection,A=v.clipShadows,S=n.get(v);if(!r||_===null||_.length===0||a&&!A)a?p(null):f();else{const w=a?0:i,C=w*4;let R=S.clippingState||null;u.value=R,R=p(_,g,C,b);for(let D=0;D!==C;++D)R[D]=t[D];S.clippingState=R,this.numIntersection=M?this.numPlanes:0,this.numPlanes+=w}};function f(){u.value!==t&&(u.value=t,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function p(v,g,b,_){const M=v!==null?v.length:0;let A=null;if(M!==0){if(A=u.value,_!==!0||A===null){const S=b+M*4,w=g.matrixWorldInverse;l.getNormalMatrix(w),(A===null||A.length<S)&&(A=new Float32Array(S));for(let C=0,R=b;C!==M;++C,R+=4)s.copy(v[C]).applyMatrix4(w,l),s.normal.toArray(A,R),A[R+3]=s.constant}u.value=A,u.needsUpdate=!0}return e.numPlanes=M,e.numIntersection=0,A}}function pJ(n){let e=new WeakMap;function t(s,l){return l===py?s.mapping=oc:l===my&&(s.mapping=Sf),s}function i(s){if(s&&s.isTexture){const l=s.mapping;if(l===py||l===my)if(e.has(s)){const u=e.get(s).texture;return t(u,s.mapping)}else{const u=s.image;if(u&&u.height>0){const f=new qG(u.height);return f.fromEquirectangularTexture(n,s),e.set(s,f),s.addEventListener("dispose",r),t(f.texture,s.mapping)}else return null}}return s}function r(s){const l=s.target;l.removeEventListener("dispose",r);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const rm=4,HP=[.125,.215,.35,.446,.526,.582],qh=20,lE=new el,GP=new dt;let uE=null,cE=0,fE=0,hE=!1;const kh=(1+Math.sqrt(5))/2,Yp=1/kh,kP=[new Q(-kh,Yp,0),new Q(kh,Yp,0),new Q(-Yp,0,kh),new Q(Yp,0,kh),new Q(0,kh,-Yp),new Q(0,kh,Yp),new Q(-1,1,-1),new Q(1,1,-1),new Q(-1,1,1),new Q(1,1,1)],mJ=new Q;class KC{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,a={}){const{size:s=256,position:l=mJ}=a;uE=this._renderer.getRenderTarget(),cE=this._renderer.getActiveCubeFace(),fE=this._renderer.getActiveMipmapLevel(),hE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,i,r,u,l),t>0&&this._blur(u,0,0,t),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=qP(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=jP(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(uE,cE,fE),this._renderer.xr.enabled=hE,e.scissorTest=!1,t_(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===oc||e.mapping===Sf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),uE=this._renderer.getRenderTarget(),cE=this._renderer.getActiveCubeFace(),fE=this._renderer.getActiveMipmapLevel(),hE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Zi,minFilter:Zi,generateMipmaps:!1,type:Zm,format:pa,colorSpace:Ef,depthBuffer:!1},r=VP(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=VP(e,t,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=vJ(a)),this._blurMaterial=gJ(a,e,t)}return r}_compileMaterial(e){const t=new qi(this._lodPlanes[0],e);this._renderer.compile(t,lE)}_sceneToCubeUV(e,t,i,r,a){const u=new bi(90,1,t,i),f=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],v=this._renderer,g=v.autoClear,b=v.toneMapping;v.getClearColor(GP),v.toneMapping=Kl,v.autoClear=!1;const _=new Es({name:"PMREM.Background",side:Na,depthWrite:!1,depthTest:!1}),M=new qi(new Td,_);let A=!1;const S=e.background;S?S.isColor&&(_.color.copy(S),e.background=null,A=!0):(_.color.copy(GP),A=!0);for(let w=0;w<6;w++){const C=w%3;C===0?(u.up.set(0,f[w],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x+p[w],a.y,a.z)):C===1?(u.up.set(0,0,f[w]),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y+p[w],a.z)):(u.up.set(0,f[w],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y,a.z+p[w]));const R=this._cubeSize;t_(r,C*R,w>2?R:0,R,R),v.setRenderTarget(r),A&&v.render(M,u),v.render(e,u)}M.geometry.dispose(),M.material.dispose(),v.toneMapping=b,v.autoClear=g,e.background=S}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===oc||e.mapping===Sf;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=qP()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=jP());const a=r?this._cubemapMaterial:this._equirectMaterial,s=new qi(this._lodPlanes[0],a),l=a.uniforms;l.envMap.value=e;const u=this._cubeSize;t_(t,0,0,3*u,2*u),i.setRenderTarget(t),i.render(s,lE)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),l=kP[(r-a-1)%kP.length];this._blur(e,a-1,a,s,l)}t.autoClear=i}_blur(e,t,i,r,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,i,r,"latitudinal",a),this._halfBlur(s,e,i,i,r,"longitudinal",a)}_halfBlur(e,t,i,r,a,s,l){const u=this._renderer,f=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,v=new qi(this._lodPlanes[r],f),g=f.uniforms,b=this._sizeLods[i]-1,_=isFinite(a)?Math.PI/(2*b):2*Math.PI/(2*qh-1),M=a/_,A=isFinite(a)?1+Math.floor(p*M):qh;A>qh&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${qh}`);const S=[];let w=0;for(let L=0;L<qh;++L){const z=L/M,P=Math.exp(-z*z/2);S.push(P),L===0?w+=P:L<A&&(w+=2*P)}for(let L=0;L<S.length;L++)S[L]=S[L]/w;g.envMap.value=e.texture,g.samples.value=A,g.weights.value=S,g.latitudinal.value=s==="latitudinal",l&&(g.poleAxis.value=l);const{_lodMax:C}=this;g.dTheta.value=_,g.mipInt.value=C-i;const R=this._sizeLods[r],D=3*R*(r>C-rm?r-C+rm:0),N=4*(this._cubeSize-R);t_(t,D,N,3*R,2*R),u.setRenderTarget(t),u.render(v,lE)}}function vJ(n){const e=[],t=[],i=[];let r=n;const a=n-rm+1+HP.length;for(let s=0;s<a;s++){const l=Math.pow(2,r);t.push(l);let u=1/l;s>n-rm?u=HP[s-n+rm-1]:s===0&&(u=0),i.push(u);const f=1/(l-2),p=-f,v=1+f,g=[p,p,v,p,v,v,p,p,v,v,p,v],b=6,_=6,M=3,A=2,S=1,w=new Float32Array(M*_*b),C=new Float32Array(A*_*b),R=new Float32Array(S*_*b);for(let N=0;N<b;N++){const L=N%3*2/3-1,z=N>2?0:-1,P=[L,z,0,L+2/3,z,0,L+2/3,z+1,0,L,z,0,L+2/3,z+1,0,L,z+1,0];w.set(P,M*_*N),C.set(g,A*_*N);const U=[N,N,N,N,N,N];R.set(U,S*_*N)}const D=new $t;D.setAttribute("position",new Dn(w,M)),D.setAttribute("uv",new Dn(C,A)),D.setAttribute("faceIndex",new Dn(R,S)),e.push(D),r>rm&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function VP(n,e,t){const i=new nu(n,e,t);return i.texture.mapping=Jm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function t_(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function gJ(n,e,t){const i=new Float32Array(qh),r=new Q(0,1,0);return new ws({name:"SphericalGaussianBlur",defines:{n:qh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:SB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ec,depthTest:!1,depthWrite:!1})}function jP(){return new ws({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:SB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ec,depthTest:!1,depthWrite:!1})}function qP(){return new ws({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:SB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ec,depthTest:!1,depthWrite:!1})}function SB(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function yJ(n){let e=new WeakMap,t=null;function i(l){if(l&&l.isTexture){const u=l.mapping,f=u===py||u===my,p=u===oc||u===Sf;if(f||p){let v=e.get(l);const g=v!==void 0?v.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==g)return t===null&&(t=new KC(n)),v=f?t.fromEquirectangular(l,v):t.fromCubemap(l,v),v.texture.pmremVersion=l.pmremVersion,e.set(l,v),v.texture;if(v!==void 0)return v.texture;{const b=l.image;return f&&b&&b.height>0||p&&b&&r(b)?(t===null&&(t=new KC(n)),v=f?t.fromEquirectangular(l):t.fromCubemap(l),v.texture.pmremVersion=l.pmremVersion,e.set(l,v),l.addEventListener("dispose",a),v.texture):null}}}return l}function r(l){let u=0;const f=6;for(let p=0;p<f;p++)l[p]!==void 0&&u++;return u===f}function a(l){const u=l.target;u.removeEventListener("dispose",a);const f=e.get(u);f!==void 0&&(e.delete(u),f.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:s}}function bJ(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&Gh("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function xJ(n,e,t,i){const r={},a=new WeakMap;function s(v){const g=v.target;g.index!==null&&e.remove(g.index);for(const _ in g.attributes)e.remove(g.attributes[_]);g.removeEventListener("dispose",s),delete r[g.id];const b=a.get(g);b&&(e.remove(b),a.delete(g)),i.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,t.memory.geometries--}function l(v,g){return r[g.id]===!0||(g.addEventListener("dispose",s),r[g.id]=!0,t.memory.geometries++),g}function u(v){const g=v.attributes;for(const b in g)e.update(g[b],n.ARRAY_BUFFER)}function f(v){const g=[],b=v.index,_=v.attributes.position;let M=0;if(b!==null){const w=b.array;M=b.version;for(let C=0,R=w.length;C<R;C+=3){const D=w[C+0],N=w[C+1],L=w[C+2];g.push(D,N,N,L,L,D)}}else if(_!==void 0){const w=_.array;M=_.version;for(let C=0,R=w.length/3-1;C<R;C+=3){const D=C+0,N=C+1,L=C+2;g.push(D,N,N,L,L,D)}}else return;const A=new(zG(g)?qO:jO)(g,1);A.version=M;const S=a.get(v);S&&e.remove(S),a.set(v,A)}function p(v){const g=a.get(v);if(g){const b=v.index;b!==null&&g.version<b.version&&f(v)}else f(v);return a.get(v)}return{get:l,update:u,getWireframeAttribute:p}}function _J(n,e,t){let i;function r(g){i=g}let a,s;function l(g){a=g.type,s=g.bytesPerElement}function u(g,b){n.drawElements(i,b,a,g*s),t.update(b,i,1)}function f(g,b,_){_!==0&&(n.drawElementsInstanced(i,b,a,g*s,_),t.update(b,i,_))}function p(g,b,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,b,0,a,g,0,_);let A=0;for(let S=0;S<_;S++)A+=b[S];t.update(A,i,1)}function v(g,b,_,M){if(_===0)return;const A=e.get("WEBGL_multi_draw");if(A===null)for(let S=0;S<g.length;S++)f(g[S]/s,b[S],M[S]);else{A.multiDrawElementsInstancedWEBGL(i,b,0,a,g,0,M,0,_);let S=0;for(let w=0;w<_;w++)S+=b[w]*M[w];t.update(S,i,1)}}this.setMode=r,this.setIndex=l,this.render=u,this.renderInstances=f,this.renderMultiDraw=p,this.renderMultiDrawInstances=v}function AJ(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,s,l){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=l*(a/3);break;case n.LINES:t.lines+=l*(a/2);break;case n.LINE_STRIP:t.lines+=l*(a-1);break;case n.LINE_LOOP:t.lines+=l*a;break;case n.POINTS:t.points+=l*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function SJ(n,e,t){const i=new WeakMap,r=new pn;function a(s,l,u){const f=s.morphTargetInfluences,p=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,v=p!==void 0?p.length:0;let g=i.get(l);if(g===void 0||g.count!==v){let U=function(){z.dispose(),i.delete(l),l.removeEventListener("dispose",U)};var b=U;g!==void 0&&g.texture.dispose();const _=l.morphAttributes.position!==void 0,M=l.morphAttributes.normal!==void 0,A=l.morphAttributes.color!==void 0,S=l.morphAttributes.position||[],w=l.morphAttributes.normal||[],C=l.morphAttributes.color||[];let R=0;_===!0&&(R=1),M===!0&&(R=2),A===!0&&(R=3);let D=l.attributes.position.count*R,N=1;D>e.maxTextureSize&&(N=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const L=new Float32Array(D*N*4*v),z=new h0(L,D,N,v);z.type=Qa,z.needsUpdate=!0;const P=R*4;for(let H=0;H<v;H++){const J=S[H],V=w[H],ne=C[H],ee=D*N*4*H;for(let Y=0;Y<J.count;Y++){const re=Y*P;_===!0&&(r.fromBufferAttribute(J,Y),L[ee+re+0]=r.x,L[ee+re+1]=r.y,L[ee+re+2]=r.z,L[ee+re+3]=0),M===!0&&(r.fromBufferAttribute(V,Y),L[ee+re+4]=r.x,L[ee+re+5]=r.y,L[ee+re+6]=r.z,L[ee+re+7]=0),A===!0&&(r.fromBufferAttribute(ne,Y),L[ee+re+8]=r.x,L[ee+re+9]=r.y,L[ee+re+10]=r.z,L[ee+re+11]=ne.itemSize===4?r.w:1)}}g={count:v,texture:z,size:new ke(D,N)},i.set(l,g),l.addEventListener("dispose",U)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let _=0;for(let A=0;A<f.length;A++)_+=f[A];const M=l.morphTargetsRelative?1:1-_;u.getUniforms().setValue(n,"morphTargetBaseInfluence",M),u.getUniforms().setValue(n,"morphTargetInfluences",f)}u.getUniforms().setValue(n,"morphTargetsTexture",g.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",g.size)}return{update:a}}function MJ(n,e,t,i){let r=new WeakMap;function a(u){const f=i.render.frame,p=u.geometry,v=e.get(u,p);if(r.get(v)!==f&&(e.update(v),r.set(v,f)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),r.get(u)!==f&&(t.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,n.ARRAY_BUFFER),r.set(u,f))),u.isSkinnedMesh){const g=u.skeleton;r.get(g)!==f&&(g.update(),r.set(g,f))}return v}function s(){r=new WeakMap}function l(u){const f=u.target;f.removeEventListener("dispose",l),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:a,dispose:s}}const U5=new _i,XP=new QO(1,1),I5=new h0,F5=new DS,z5=new d0,WP=[],YP=[],KP=new Float32Array(16),JP=new Float32Array(9),ZP=new Float32Array(4);function tv(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let a=WP[r];if(a===void 0&&(a=new Float32Array(r),WP[r]=a),e!==0){i.toArray(a,0);for(let s=1,l=0;s!==e;++s)l+=t,n[s].toArray(a,l)}return a}function vr(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function gr(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function e1(n,e){let t=YP[e];t===void 0&&(t=new Int32Array(e),YP[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function EJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function TJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(vr(t,e))return;n.uniform2fv(this.addr,e),gr(t,e)}}function wJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(vr(t,e))return;n.uniform3fv(this.addr,e),gr(t,e)}}function CJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(vr(t,e))return;n.uniform4fv(this.addr,e),gr(t,e)}}function RJ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(vr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),gr(t,e)}else{if(vr(t,i))return;ZP.set(i),n.uniformMatrix2fv(this.addr,!1,ZP),gr(t,i)}}function OJ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(vr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),gr(t,e)}else{if(vr(t,i))return;JP.set(i),n.uniformMatrix3fv(this.addr,!1,JP),gr(t,i)}}function BJ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(vr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),gr(t,e)}else{if(vr(t,i))return;KP.set(i),n.uniformMatrix4fv(this.addr,!1,KP),gr(t,i)}}function DJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function NJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(vr(t,e))return;n.uniform2iv(this.addr,e),gr(t,e)}}function PJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(vr(t,e))return;n.uniform3iv(this.addr,e),gr(t,e)}}function LJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(vr(t,e))return;n.uniform4iv(this.addr,e),gr(t,e)}}function UJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function IJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(vr(t,e))return;n.uniform2uiv(this.addr,e),gr(t,e)}}function FJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(vr(t,e))return;n.uniform3uiv(this.addr,e),gr(t,e)}}function zJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(vr(t,e))return;n.uniform4uiv(this.addr,e),gr(t,e)}}function HJ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let a;this.type===n.SAMPLER_2D_SHADOW?(XP.compareFunction=kO,a=XP):a=U5,t.setTexture2D(e||a,r)}function GJ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||F5,r)}function kJ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||z5,r)}function VJ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||I5,r)}function jJ(n){switch(n){case 5126:return EJ;case 35664:return TJ;case 35665:return wJ;case 35666:return CJ;case 35674:return RJ;case 35675:return OJ;case 35676:return BJ;case 5124:case 35670:return DJ;case 35667:case 35671:return NJ;case 35668:case 35672:return PJ;case 35669:case 35673:return LJ;case 5125:return UJ;case 36294:return IJ;case 36295:return FJ;case 36296:return zJ;case 35678:case 36198:case 36298:case 36306:case 35682:return HJ;case 35679:case 36299:case 36307:return GJ;case 35680:case 36300:case 36308:case 36293:return kJ;case 36289:case 36303:case 36311:case 36292:return VJ}}function qJ(n,e){n.uniform1fv(this.addr,e)}function XJ(n,e){const t=tv(e,this.size,2);n.uniform2fv(this.addr,t)}function WJ(n,e){const t=tv(e,this.size,3);n.uniform3fv(this.addr,t)}function YJ(n,e){const t=tv(e,this.size,4);n.uniform4fv(this.addr,t)}function KJ(n,e){const t=tv(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function JJ(n,e){const t=tv(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function ZJ(n,e){const t=tv(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function QJ(n,e){n.uniform1iv(this.addr,e)}function $J(n,e){n.uniform2iv(this.addr,e)}function eZ(n,e){n.uniform3iv(this.addr,e)}function tZ(n,e){n.uniform4iv(this.addr,e)}function nZ(n,e){n.uniform1uiv(this.addr,e)}function iZ(n,e){n.uniform2uiv(this.addr,e)}function rZ(n,e){n.uniform3uiv(this.addr,e)}function aZ(n,e){n.uniform4uiv(this.addr,e)}function sZ(n,e,t){const i=this.cache,r=e.length,a=e1(t,r);vr(i,a)||(n.uniform1iv(this.addr,a),gr(i,a));for(let s=0;s!==r;++s)t.setTexture2D(e[s]||U5,a[s])}function oZ(n,e,t){const i=this.cache,r=e.length,a=e1(t,r);vr(i,a)||(n.uniform1iv(this.addr,a),gr(i,a));for(let s=0;s!==r;++s)t.setTexture3D(e[s]||F5,a[s])}function lZ(n,e,t){const i=this.cache,r=e.length,a=e1(t,r);vr(i,a)||(n.uniform1iv(this.addr,a),gr(i,a));for(let s=0;s!==r;++s)t.setTextureCube(e[s]||z5,a[s])}function uZ(n,e,t){const i=this.cache,r=e.length,a=e1(t,r);vr(i,a)||(n.uniform1iv(this.addr,a),gr(i,a));for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||I5,a[s])}function cZ(n){switch(n){case 5126:return qJ;case 35664:return XJ;case 35665:return WJ;case 35666:return YJ;case 35674:return KJ;case 35675:return JJ;case 35676:return ZJ;case 5124:case 35670:return QJ;case 35667:case 35671:return $J;case 35668:case 35672:return eZ;case 35669:case 35673:return tZ;case 5125:return nZ;case 36294:return iZ;case 36295:return rZ;case 36296:return aZ;case 35678:case 36198:case 36298:case 36306:case 35682:return sZ;case 35679:case 36299:case 36307:return oZ;case 35680:case 36300:case 36308:case 36293:return lZ;case 36289:case 36303:case 36311:case 36292:return uZ}}class fZ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=jJ(t.type)}}class hZ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=cZ(t.type)}}class dZ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let a=0,s=r.length;a!==s;++a){const l=r[a];l.setValue(e,t[l.id],i)}}}const dE=/(\w+)(\])?(\[|\.)?/g;function QP(n,e){n.seq.push(e),n.map[e.id]=e}function pZ(n,e,t){const i=n.name,r=i.length;for(dE.lastIndex=0;;){const a=dE.exec(i),s=dE.lastIndex;let l=a[1];const u=a[2]==="]",f=a[3];if(u&&(l=l|0),f===void 0||f==="["&&s+2===r){QP(t,f===void 0?new fZ(l,n,e):new hZ(l,n,e));break}else{let v=t.map[l];v===void 0&&(v=new dZ(l),QP(t,v)),t=v}}}class C_{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(t,r),s=e.getUniformLocation(t,a.name);pZ(a,s,this)}}setValue(e,t,i,r){const a=this.map[t];a!==void 0&&a.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let a=0,s=t.length;a!==s;++a){const l=t[a],u=i[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,a=e.length;r!==a;++r){const s=e[r];s.id in t&&i.push(s)}return i}}function $P(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const mZ=37297;let vZ=0;function gZ(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=r;s<a;s++){const l=s+1;i.push(`${l===e?">":" "} ${l}: ${t[s]}`)}return i.join(`
`)}const e3=new Qt;function yZ(n){Tn._getMatrix(e3,Tn.workingColorSpace,n);const e=`mat3( ${e3.elements.map(t=>t.toFixed(4))} )`;switch(Tn.getTransfer(n)){case gy:return[e,"LinearTransferOETF"];case Kn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function t3(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const s=parseInt(a[1]);return t.toUpperCase()+`

`+r+`

`+gZ(n.getShaderSource(e),s)}else return r}function bZ(n,e){const t=yZ(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function xZ(n,e){let t;switch(e){case yG:t="Linear";break;case bG:t="Reinhard";break;case xG:t="Cineon";break;case OO:t="ACESFilmic";break;case AG:t="AgX";break;case SG:t="Neutral";break;case _G:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const n_=new Q;function _Z(){Tn.getLuminanceCoefficients(n_);const n=n_.x.toFixed(4),e=n_.y.toFixed(4),t=n_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function AZ(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Kg).join(`
`)}function SZ(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function MZ(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=n.getActiveAttrib(e,r),s=a.name;let l=1;a.type===n.FLOAT_MAT2&&(l=2),a.type===n.FLOAT_MAT3&&(l=3),a.type===n.FLOAT_MAT4&&(l=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:l}}return t}function Kg(n){return n!==""}function n3(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function i3(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const EZ=/^[ \t]*#include +<([\w\d./]+)>/gm;function JC(n){return n.replace(EZ,wZ)}const TZ=new Map;function wZ(n,e){let t=sn[e];if(t===void 0){const i=TZ.get(e);if(i!==void 0)t=sn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return JC(t)}const CZ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function r3(n){return n.replace(CZ,RZ)}function RZ(n,e,t,i){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function a3(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function OZ(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===xS?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===$g?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===qo&&(e="SHADOWMAP_TYPE_VSM"),e}function BZ(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case oc:case Sf:e="ENVMAP_TYPE_CUBE";break;case Jm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function DZ(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Sf:e="ENVMAP_MODE_REFRACTION";break}return e}function NZ(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case c0:e="ENVMAP_BLENDING_MULTIPLY";break;case vG:e="ENVMAP_BLENDING_MIX";break;case gG:e="ENVMAP_BLENDING_ADD";break}return e}function PZ(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function LZ(n,e,t,i){const r=n.getContext(),a=t.defines;let s=t.vertexShader,l=t.fragmentShader;const u=OZ(t),f=BZ(t),p=DZ(t),v=NZ(t),g=PZ(t),b=AZ(t),_=SZ(a),M=r.createProgram();let A,S,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Kg).join(`
`),A.length>0&&(A+=`
`),S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Kg).join(`
`),S.length>0&&(S+=`
`)):(A=[a3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Kg).join(`
`),S=[a3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+p:"",t.envMap?"#define "+v:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Kl?"#define TONE_MAPPING":"",t.toneMapping!==Kl?sn.tonemapping_pars_fragment:"",t.toneMapping!==Kl?xZ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",sn.colorspace_pars_fragment,bZ("linearToOutputTexel",t.outputColorSpace),_Z(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Kg).join(`
`)),s=JC(s),s=n3(s,t),s=i3(s,t),l=JC(l),l=n3(l,t),l=i3(l,t),s=r3(s),l=r3(l),t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,A=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,S=["#define varying in",t.glslVersion===kC?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===kC?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const C=w+A+s,R=w+S+l,D=$P(r,r.VERTEX_SHADER,C),N=$P(r,r.FRAGMENT_SHADER,R);r.attachShader(M,D),r.attachShader(M,N),t.index0AttributeName!==void 0?r.bindAttribLocation(M,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(M,0,"position"),r.linkProgram(M);function L(H){if(n.debug.checkShaderErrors){const J=r.getProgramInfoLog(M).trim(),V=r.getShaderInfoLog(D).trim(),ne=r.getShaderInfoLog(N).trim();let ee=!0,Y=!0;if(r.getProgramParameter(M,r.LINK_STATUS)===!1)if(ee=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,M,D,N);else{const re=t3(r,D,"vertex"),ie=t3(r,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(M,r.VALIDATE_STATUS)+`

Material Name: `+H.name+`
Material Type: `+H.type+`

Program Info Log: `+J+`
`+re+`
`+ie)}else J!==""?console.warn("THREE.WebGLProgram: Program Info Log:",J):(V===""||ne==="")&&(Y=!1);Y&&(H.diagnostics={runnable:ee,programLog:J,vertexShader:{log:V,prefix:A},fragmentShader:{log:ne,prefix:S}})}r.deleteShader(D),r.deleteShader(N),z=new C_(r,M),P=MZ(r,M)}let z;this.getUniforms=function(){return z===void 0&&L(this),z};let P;this.getAttributes=function(){return P===void 0&&L(this),P};let U=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=r.getProgramParameter(M,mZ)),U},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(M),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=vZ++,this.cacheKey=e,this.usedTimes=1,this.program=M,this.vertexShader=D,this.fragmentShader=N,this}let UZ=0;class IZ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new FZ(e),t.set(e,i)),i}}class FZ{constructor(e){this.id=UZ++,this.code=e,this.usedTimes=0}}function zZ(n,e,t,i,r,a,s){const l=new ym,u=new IZ,f=new Set,p=[],v=r.logarithmicDepthBuffer,g=r.vertexTextures;let b=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function M(P){return f.add(P),P===0?"uv":`uv${P}`}function A(P,U,H,J,V){const ne=J.fog,ee=V.geometry,Y=P.isMeshStandardMaterial?J.environment:null,re=(P.isMeshStandardMaterial?t:e).get(P.envMap||Y),ie=re&&re.mapping===Jm?re.image.height:null,he=_[P.type];P.precision!==null&&(b=r.getMaxPrecision(P.precision),b!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",b,"instead."));const q=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,se=q!==void 0?q.length:0;let pe=0;ee.morphAttributes.position!==void 0&&(pe=1),ee.morphAttributes.normal!==void 0&&(pe=2),ee.morphAttributes.color!==void 0&&(pe=3);let Se,oe,Te,Ue;if(he){const Zt=Ko[he];Se=Zt.vertexShader,oe=Zt.fragmentShader}else Se=P.vertexShader,oe=P.fragmentShader,u.update(P),Te=u.getVertexShaderID(P),Ue=u.getFragmentShaderID(P);const We=n.getRenderTarget(),qe=n.state.buffers.depth.getReversed(),Le=V.isInstancedMesh===!0,De=V.isBatchedMesh===!0,Xe=!!P.map,fe=!!P.matcap,Ce=!!re,K=!!P.aoMap,st=!!P.lightMap,Ie=!!P.bumpMap,Ze=!!P.normalMap,Je=!!P.displacementMap,At=!!P.emissiveMap,rt=!!P.metalnessMap,$=!!P.roughnessMap,k=P.anisotropy>0,_e=P.clearcoat>0,Ne=P.dispersion>0,Ye=P.iridescence>0,He=P.sheen>0,vt=P.transmission>0,lt=k&&!!P.anisotropyMap,_t=_e&&!!P.clearcoatMap,Jt=_e&&!!P.clearcoatNormalMap,tt=_e&&!!P.clearcoatRoughnessMap,St=Ye&&!!P.iridescenceMap,Tt=Ye&&!!P.iridescenceThicknessMap,Mt=He&&!!P.sheenColorMap,xt=He&&!!P.sheenRoughnessMap,ce=!!P.specularMap,Pe=!!P.specularColorMap,ft=!!P.specularIntensityMap,ue=vt&&!!P.transmissionMap,it=vt&&!!P.thicknessMap,Be=!!P.gradientMap,Ge=!!P.alphaMap,ct=P.alphaTest>0,ht=!!P.alphaHash,Rt=!!P.extensions;let un=Kl;P.toneMapped&&(We===null||We.isXRRenderTarget===!0)&&(un=n.toneMapping);const In={shaderID:he,shaderType:P.type,shaderName:P.name,vertexShader:Se,fragmentShader:oe,defines:P.defines,customVertexShaderID:Te,customFragmentShaderID:Ue,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:b,batching:De,batchingColor:De&&V._colorsTexture!==null,instancing:Le,instancingColor:Le&&V.instanceColor!==null,instancingMorph:Le&&V.morphTexture!==null,supportsVertexTextures:g,outputColorSpace:We===null?n.outputColorSpace:We.isXRRenderTarget===!0?We.texture.colorSpace:Ef,alphaToCoverage:!!P.alphaToCoverage,map:Xe,matcap:fe,envMap:Ce,envMapMode:Ce&&re.mapping,envMapCubeUVHeight:ie,aoMap:K,lightMap:st,bumpMap:Ie,normalMap:Ze,displacementMap:g&&Je,emissiveMap:At,normalMapObjectSpace:Ze&&P.normalMapType===BG,normalMapTangentSpace:Ze&&P.normalMapType===Tf,metalnessMap:rt,roughnessMap:$,anisotropy:k,anisotropyMap:lt,clearcoat:_e,clearcoatMap:_t,clearcoatNormalMap:Jt,clearcoatRoughnessMap:tt,dispersion:Ne,iridescence:Ye,iridescenceMap:St,iridescenceThicknessMap:Tt,sheen:He,sheenColorMap:Mt,sheenRoughnessMap:xt,specularMap:ce,specularColorMap:Pe,specularIntensityMap:ft,transmission:vt,transmissionMap:ue,thicknessMap:it,gradientMap:Be,opaque:P.transparent===!1&&P.blending===nd&&P.alphaToCoverage===!1,alphaMap:Ge,alphaTest:ct,alphaHash:ht,combine:P.combine,mapUv:Xe&&M(P.map.channel),aoMapUv:K&&M(P.aoMap.channel),lightMapUv:st&&M(P.lightMap.channel),bumpMapUv:Ie&&M(P.bumpMap.channel),normalMapUv:Ze&&M(P.normalMap.channel),displacementMapUv:Je&&M(P.displacementMap.channel),emissiveMapUv:At&&M(P.emissiveMap.channel),metalnessMapUv:rt&&M(P.metalnessMap.channel),roughnessMapUv:$&&M(P.roughnessMap.channel),anisotropyMapUv:lt&&M(P.anisotropyMap.channel),clearcoatMapUv:_t&&M(P.clearcoatMap.channel),clearcoatNormalMapUv:Jt&&M(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:tt&&M(P.clearcoatRoughnessMap.channel),iridescenceMapUv:St&&M(P.iridescenceMap.channel),iridescenceThicknessMapUv:Tt&&M(P.iridescenceThicknessMap.channel),sheenColorMapUv:Mt&&M(P.sheenColorMap.channel),sheenRoughnessMapUv:xt&&M(P.sheenRoughnessMap.channel),specularMapUv:ce&&M(P.specularMap.channel),specularColorMapUv:Pe&&M(P.specularColorMap.channel),specularIntensityMapUv:ft&&M(P.specularIntensityMap.channel),transmissionMapUv:ue&&M(P.transmissionMap.channel),thicknessMapUv:it&&M(P.thicknessMap.channel),alphaMapUv:Ge&&M(P.alphaMap.channel),vertexTangents:!!ee.attributes.tangent&&(Ze||k),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!ee.attributes.color&&ee.attributes.color.itemSize===4,pointsUvs:V.isPoints===!0&&!!ee.attributes.uv&&(Xe||Ge),fog:!!ne,useFog:P.fog===!0,fogExp2:!!ne&&ne.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:v,reverseDepthBuffer:qe,skinning:V.isSkinnedMesh===!0,morphTargets:ee.morphAttributes.position!==void 0,morphNormals:ee.morphAttributes.normal!==void 0,morphColors:ee.morphAttributes.color!==void 0,morphTargetsCount:se,morphTextureStride:pe,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&H.length>0,shadowMapType:n.shadowMap.type,toneMapping:un,decodeVideoTexture:Xe&&P.map.isVideoTexture===!0&&Tn.getTransfer(P.map.colorSpace)===Kn,decodeVideoTextureEmissive:At&&P.emissiveMap.isVideoTexture===!0&&Tn.getTransfer(P.emissiveMap.colorSpace)===Kn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Qs,flipSided:P.side===Na,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:Rt&&P.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Rt&&P.extensions.multiDraw===!0||De)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return In.vertexUv1s=f.has(1),In.vertexUv2s=f.has(2),In.vertexUv3s=f.has(3),f.clear(),In}function S(P){const U=[];if(P.shaderID?U.push(P.shaderID):(U.push(P.customVertexShaderID),U.push(P.customFragmentShaderID)),P.defines!==void 0)for(const H in P.defines)U.push(H),U.push(P.defines[H]);return P.isRawShaderMaterial===!1&&(w(U,P),C(U,P),U.push(n.outputColorSpace)),U.push(P.customProgramCacheKey),U.join()}function w(P,U){P.push(U.precision),P.push(U.outputColorSpace),P.push(U.envMapMode),P.push(U.envMapCubeUVHeight),P.push(U.mapUv),P.push(U.alphaMapUv),P.push(U.lightMapUv),P.push(U.aoMapUv),P.push(U.bumpMapUv),P.push(U.normalMapUv),P.push(U.displacementMapUv),P.push(U.emissiveMapUv),P.push(U.metalnessMapUv),P.push(U.roughnessMapUv),P.push(U.anisotropyMapUv),P.push(U.clearcoatMapUv),P.push(U.clearcoatNormalMapUv),P.push(U.clearcoatRoughnessMapUv),P.push(U.iridescenceMapUv),P.push(U.iridescenceThicknessMapUv),P.push(U.sheenColorMapUv),P.push(U.sheenRoughnessMapUv),P.push(U.specularMapUv),P.push(U.specularColorMapUv),P.push(U.specularIntensityMapUv),P.push(U.transmissionMapUv),P.push(U.thicknessMapUv),P.push(U.combine),P.push(U.fogExp2),P.push(U.sizeAttenuation),P.push(U.morphTargetsCount),P.push(U.morphAttributeCount),P.push(U.numDirLights),P.push(U.numPointLights),P.push(U.numSpotLights),P.push(U.numSpotLightMaps),P.push(U.numHemiLights),P.push(U.numRectAreaLights),P.push(U.numDirLightShadows),P.push(U.numPointLightShadows),P.push(U.numSpotLightShadows),P.push(U.numSpotLightShadowsWithMaps),P.push(U.numLightProbes),P.push(U.shadowMapType),P.push(U.toneMapping),P.push(U.numClippingPlanes),P.push(U.numClipIntersection),P.push(U.depthPacking)}function C(P,U){l.disableAll(),U.supportsVertexTextures&&l.enable(0),U.instancing&&l.enable(1),U.instancingColor&&l.enable(2),U.instancingMorph&&l.enable(3),U.matcap&&l.enable(4),U.envMap&&l.enable(5),U.normalMapObjectSpace&&l.enable(6),U.normalMapTangentSpace&&l.enable(7),U.clearcoat&&l.enable(8),U.iridescence&&l.enable(9),U.alphaTest&&l.enable(10),U.vertexColors&&l.enable(11),U.vertexAlphas&&l.enable(12),U.vertexUv1s&&l.enable(13),U.vertexUv2s&&l.enable(14),U.vertexUv3s&&l.enable(15),U.vertexTangents&&l.enable(16),U.anisotropy&&l.enable(17),U.alphaHash&&l.enable(18),U.batching&&l.enable(19),U.dispersion&&l.enable(20),U.batchingColor&&l.enable(21),P.push(l.mask),l.disableAll(),U.fog&&l.enable(0),U.useFog&&l.enable(1),U.flatShading&&l.enable(2),U.logarithmicDepthBuffer&&l.enable(3),U.reverseDepthBuffer&&l.enable(4),U.skinning&&l.enable(5),U.morphTargets&&l.enable(6),U.morphNormals&&l.enable(7),U.morphColors&&l.enable(8),U.premultipliedAlpha&&l.enable(9),U.shadowMapEnabled&&l.enable(10),U.doubleSided&&l.enable(11),U.flipSided&&l.enable(12),U.useDepthPacking&&l.enable(13),U.dithering&&l.enable(14),U.transmission&&l.enable(15),U.sheen&&l.enable(16),U.opaque&&l.enable(17),U.pointsUvs&&l.enable(18),U.decodeVideoTexture&&l.enable(19),U.decodeVideoTextureEmissive&&l.enable(20),U.alphaToCoverage&&l.enable(21),P.push(l.mask)}function R(P){const U=_[P.type];let H;if(U){const J=Ko[U];H=vA.clone(J.uniforms)}else H=P.uniforms;return H}function D(P,U){let H;for(let J=0,V=p.length;J<V;J++){const ne=p[J];if(ne.cacheKey===U){H=ne,++H.usedTimes;break}}return H===void 0&&(H=new LZ(n,U,P,a),p.push(H)),H}function N(P){if(--P.usedTimes===0){const U=p.indexOf(P);p[U]=p[p.length-1],p.pop(),P.destroy()}}function L(P){u.remove(P)}function z(){u.dispose()}return{getParameters:A,getProgramCacheKey:S,getUniforms:R,acquireProgram:D,releaseProgram:N,releaseShaderCache:L,programs:p,dispose:z}}function HZ(){let n=new WeakMap;function e(s){return n.has(s)}function t(s){let l=n.get(s);return l===void 0&&(l={},n.set(s,l)),l}function i(s){n.delete(s)}function r(s,l,u){n.get(s)[l]=u}function a(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:a}}function GZ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function s3(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function o3(){const n=[];let e=0;const t=[],i=[],r=[];function a(){e=0,t.length=0,i.length=0,r.length=0}function s(v,g,b,_,M,A){let S=n[e];return S===void 0?(S={id:v.id,object:v,geometry:g,material:b,groupOrder:_,renderOrder:v.renderOrder,z:M,group:A},n[e]=S):(S.id=v.id,S.object=v,S.geometry=g,S.material=b,S.groupOrder=_,S.renderOrder=v.renderOrder,S.z=M,S.group=A),e++,S}function l(v,g,b,_,M,A){const S=s(v,g,b,_,M,A);b.transmission>0?i.push(S):b.transparent===!0?r.push(S):t.push(S)}function u(v,g,b,_,M,A){const S=s(v,g,b,_,M,A);b.transmission>0?i.unshift(S):b.transparent===!0?r.unshift(S):t.unshift(S)}function f(v,g){t.length>1&&t.sort(v||GZ),i.length>1&&i.sort(g||s3),r.length>1&&r.sort(g||s3)}function p(){for(let v=e,g=n.length;v<g;v++){const b=n[v];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:t,transmissive:i,transparent:r,init:a,push:l,unshift:u,finish:p,sort:f}}function kZ(){let n=new WeakMap;function e(i,r){const a=n.get(i);let s;return a===void 0?(s=new o3,n.set(i,[s])):r>=a.length?(s=new o3,a.push(s)):s=a[r],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function VZ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Q,color:new dt};break;case"SpotLight":t={position:new Q,direction:new Q,color:new dt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Q,color:new dt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Q,skyColor:new dt,groundColor:new dt};break;case"RectAreaLight":t={color:new dt,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return n[e.id]=t,t}}}function jZ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let qZ=0;function XZ(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function WZ(n){const e=new VZ,t=jZ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)i.probe.push(new Q);const r=new Q,a=new Lt,s=new Lt;function l(f){let p=0,v=0,g=0;for(let P=0;P<9;P++)i.probe[P].set(0,0,0);let b=0,_=0,M=0,A=0,S=0,w=0,C=0,R=0,D=0,N=0,L=0;f.sort(XZ);for(let P=0,U=f.length;P<U;P++){const H=f[P],J=H.color,V=H.intensity,ne=H.distance,ee=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)p+=J.r*V,v+=J.g*V,g+=J.b*V;else if(H.isLightProbe){for(let Y=0;Y<9;Y++)i.probe[Y].addScaledVector(H.sh.coefficients[Y],V);L++}else if(H.isDirectionalLight){const Y=e.get(H);if(Y.color.copy(H.color).multiplyScalar(H.intensity),H.castShadow){const re=H.shadow,ie=t.get(H);ie.shadowIntensity=re.intensity,ie.shadowBias=re.bias,ie.shadowNormalBias=re.normalBias,ie.shadowRadius=re.radius,ie.shadowMapSize=re.mapSize,i.directionalShadow[b]=ie,i.directionalShadowMap[b]=ee,i.directionalShadowMatrix[b]=H.shadow.matrix,w++}i.directional[b]=Y,b++}else if(H.isSpotLight){const Y=e.get(H);Y.position.setFromMatrixPosition(H.matrixWorld),Y.color.copy(J).multiplyScalar(V),Y.distance=ne,Y.coneCos=Math.cos(H.angle),Y.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),Y.decay=H.decay,i.spot[M]=Y;const re=H.shadow;if(H.map&&(i.spotLightMap[D]=H.map,D++,re.updateMatrices(H),H.castShadow&&N++),i.spotLightMatrix[M]=re.matrix,H.castShadow){const ie=t.get(H);ie.shadowIntensity=re.intensity,ie.shadowBias=re.bias,ie.shadowNormalBias=re.normalBias,ie.shadowRadius=re.radius,ie.shadowMapSize=re.mapSize,i.spotShadow[M]=ie,i.spotShadowMap[M]=ee,R++}M++}else if(H.isRectAreaLight){const Y=e.get(H);Y.color.copy(J).multiplyScalar(V),Y.halfWidth.set(H.width*.5,0,0),Y.halfHeight.set(0,H.height*.5,0),i.rectArea[A]=Y,A++}else if(H.isPointLight){const Y=e.get(H);if(Y.color.copy(H.color).multiplyScalar(H.intensity),Y.distance=H.distance,Y.decay=H.decay,H.castShadow){const re=H.shadow,ie=t.get(H);ie.shadowIntensity=re.intensity,ie.shadowBias=re.bias,ie.shadowNormalBias=re.normalBias,ie.shadowRadius=re.radius,ie.shadowMapSize=re.mapSize,ie.shadowCameraNear=re.camera.near,ie.shadowCameraFar=re.camera.far,i.pointShadow[_]=ie,i.pointShadowMap[_]=ee,i.pointShadowMatrix[_]=H.shadow.matrix,C++}i.point[_]=Y,_++}else if(H.isHemisphereLight){const Y=e.get(H);Y.skyColor.copy(H.color).multiplyScalar(V),Y.groundColor.copy(H.groundColor).multiplyScalar(V),i.hemi[S]=Y,S++}}A>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=pt.LTC_FLOAT_1,i.rectAreaLTC2=pt.LTC_FLOAT_2):(i.rectAreaLTC1=pt.LTC_HALF_1,i.rectAreaLTC2=pt.LTC_HALF_2)),i.ambient[0]=p,i.ambient[1]=v,i.ambient[2]=g;const z=i.hash;(z.directionalLength!==b||z.pointLength!==_||z.spotLength!==M||z.rectAreaLength!==A||z.hemiLength!==S||z.numDirectionalShadows!==w||z.numPointShadows!==C||z.numSpotShadows!==R||z.numSpotMaps!==D||z.numLightProbes!==L)&&(i.directional.length=b,i.spot.length=M,i.rectArea.length=A,i.point.length=_,i.hemi.length=S,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=R,i.spotShadowMap.length=R,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=R+D-N,i.spotLightMap.length=D,i.numSpotLightShadowsWithMaps=N,i.numLightProbes=L,z.directionalLength=b,z.pointLength=_,z.spotLength=M,z.rectAreaLength=A,z.hemiLength=S,z.numDirectionalShadows=w,z.numPointShadows=C,z.numSpotShadows=R,z.numSpotMaps=D,z.numLightProbes=L,i.version=qZ++)}function u(f,p){let v=0,g=0,b=0,_=0,M=0;const A=p.matrixWorldInverse;for(let S=0,w=f.length;S<w;S++){const C=f[S];if(C.isDirectionalLight){const R=i.directional[v];R.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),R.direction.sub(r),R.direction.transformDirection(A),v++}else if(C.isSpotLight){const R=i.spot[b];R.position.setFromMatrixPosition(C.matrixWorld),R.position.applyMatrix4(A),R.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),R.direction.sub(r),R.direction.transformDirection(A),b++}else if(C.isRectAreaLight){const R=i.rectArea[_];R.position.setFromMatrixPosition(C.matrixWorld),R.position.applyMatrix4(A),s.identity(),a.copy(C.matrixWorld),a.premultiply(A),s.extractRotation(a),R.halfWidth.set(C.width*.5,0,0),R.halfHeight.set(0,C.height*.5,0),R.halfWidth.applyMatrix4(s),R.halfHeight.applyMatrix4(s),_++}else if(C.isPointLight){const R=i.point[g];R.position.setFromMatrixPosition(C.matrixWorld),R.position.applyMatrix4(A),g++}else if(C.isHemisphereLight){const R=i.hemi[M];R.direction.setFromMatrixPosition(C.matrixWorld),R.direction.transformDirection(A),M++}}}return{setup:l,setupView:u,state:i}}function l3(n){const e=new WZ(n),t=[],i=[];function r(p){f.camera=p,t.length=0,i.length=0}function a(p){t.push(p)}function s(p){i.push(p)}function l(){e.setup(t)}function u(p){e.setupView(t,p)}const f={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:f,setupLights:l,setupLightsView:u,pushLight:a,pushShadow:s}}function YZ(n){let e=new WeakMap;function t(r,a=0){const s=e.get(r);let l;return s===void 0?(l=new l3(n),e.set(r,[l])):a>=s.length?(l=new l3(n),s.push(l)):l=s[a],l}function i(){e=new WeakMap}return{get:t,dispose:i}}const KZ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,JZ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function ZZ(n,e,t){let i=new v0;const r=new ke,a=new ke,s=new pn,l=new sB({depthPacking:OG}),u=new oB,f={},p=t.maxTextureSize,v={[tu]:Na,[Na]:tu,[Qs]:Qs},g=new ws({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ke},radius:{value:4}},vertexShader:KZ,fragmentShader:JZ}),b=g.clone();b.defines.HORIZONTAL_PASS=1;const _=new $t;_.setAttribute("position",new Dn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const M=new qi(_,g),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=xS;let S=this.type;this.render=function(N,L,z){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||N.length===0)return;const P=n.getRenderTarget(),U=n.getActiveCubeFace(),H=n.getActiveMipmapLevel(),J=n.state;J.setBlending(ec),J.buffers.color.setClear(1,1,1,1),J.buffers.depth.setTest(!0),J.setScissorTest(!1);const V=S!==qo&&this.type===qo,ne=S===qo&&this.type!==qo;for(let ee=0,Y=N.length;ee<Y;ee++){const re=N[ee],ie=re.shadow;if(ie===void 0){console.warn("THREE.WebGLShadowMap:",re,"has no shadow.");continue}if(ie.autoUpdate===!1&&ie.needsUpdate===!1)continue;r.copy(ie.mapSize);const he=ie.getFrameExtents();if(r.multiply(he),a.copy(ie.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(a.x=Math.floor(p/he.x),r.x=a.x*he.x,ie.mapSize.x=a.x),r.y>p&&(a.y=Math.floor(p/he.y),r.y=a.y*he.y,ie.mapSize.y=a.y)),ie.map===null||V===!0||ne===!0){const se=this.type!==qo?{minFilter:Dr,magFilter:Dr}:{};ie.map!==null&&ie.map.dispose(),ie.map=new nu(r.x,r.y,se),ie.map.texture.name=re.name+".shadowMap",ie.camera.updateProjectionMatrix()}n.setRenderTarget(ie.map),n.clear();const q=ie.getViewportCount();for(let se=0;se<q;se++){const pe=ie.getViewport(se);s.set(a.x*pe.x,a.y*pe.y,a.x*pe.z,a.y*pe.w),J.viewport(s),ie.updateMatrices(re,se),i=ie.getFrustum(),R(L,z,ie.camera,re,this.type)}ie.isPointLightShadow!==!0&&this.type===qo&&w(ie,z),ie.needsUpdate=!1}S=this.type,A.needsUpdate=!1,n.setRenderTarget(P,U,H)};function w(N,L){const z=e.update(M);g.defines.VSM_SAMPLES!==N.blurSamples&&(g.defines.VSM_SAMPLES=N.blurSamples,b.defines.VSM_SAMPLES=N.blurSamples,g.needsUpdate=!0,b.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new nu(r.x,r.y)),g.uniforms.shadow_pass.value=N.map.texture,g.uniforms.resolution.value=N.mapSize,g.uniforms.radius.value=N.radius,n.setRenderTarget(N.mapPass),n.clear(),n.renderBufferDirect(L,null,z,g,M,null),b.uniforms.shadow_pass.value=N.mapPass.texture,b.uniforms.resolution.value=N.mapSize,b.uniforms.radius.value=N.radius,n.setRenderTarget(N.map),n.clear(),n.renderBufferDirect(L,null,z,b,M,null)}function C(N,L,z,P){let U=null;const H=z.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(H!==void 0)U=H;else if(U=z.isPointLight===!0?u:l,n.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0){const J=U.uuid,V=L.uuid;let ne=f[J];ne===void 0&&(ne={},f[J]=ne);let ee=ne[V];ee===void 0&&(ee=U.clone(),ne[V]=ee,L.addEventListener("dispose",D)),U=ee}if(U.visible=L.visible,U.wireframe=L.wireframe,P===qo?U.side=L.shadowSide!==null?L.shadowSide:L.side:U.side=L.shadowSide!==null?L.shadowSide:v[L.side],U.alphaMap=L.alphaMap,U.alphaTest=L.alphaTest,U.map=L.map,U.clipShadows=L.clipShadows,U.clippingPlanes=L.clippingPlanes,U.clipIntersection=L.clipIntersection,U.displacementMap=L.displacementMap,U.displacementScale=L.displacementScale,U.displacementBias=L.displacementBias,U.wireframeLinewidth=L.wireframeLinewidth,U.linewidth=L.linewidth,z.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const J=n.properties.get(U);J.light=z}return U}function R(N,L,z,P,U){if(N.visible===!1)return;if(N.layers.test(L.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&U===qo)&&(!N.frustumCulled||i.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,N.matrixWorld);const V=e.update(N),ne=N.material;if(Array.isArray(ne)){const ee=V.groups;for(let Y=0,re=ee.length;Y<re;Y++){const ie=ee[Y],he=ne[ie.materialIndex];if(he&&he.visible){const q=C(N,he,P,U);N.onBeforeShadow(n,N,L,z,V,q,ie),n.renderBufferDirect(z,null,V,q,N,ie),N.onAfterShadow(n,N,L,z,V,q,ie)}}}else if(ne.visible){const ee=C(N,ne,P,U);N.onBeforeShadow(n,N,L,z,V,ee,null),n.renderBufferDirect(z,null,V,ee,N,null),N.onAfterShadow(n,N,L,z,V,ee,null)}}const J=N.children;for(let V=0,ne=J.length;V<ne;V++)R(J[V],L,z,P,U)}function D(N){N.target.removeEventListener("dispose",D);for(const z in f){const P=f[z],U=N.target.uuid;U in P&&(P[U].dispose(),delete P[U])}}}const QZ={[U_]:I_,[F_]:G_,[z_]:k_,[cd]:H_,[I_]:U_,[G_]:F_,[k_]:z_,[H_]:cd};function $Z(n,e){function t(){let ue=!1;const it=new pn;let Be=null;const Ge=new pn(0,0,0,0);return{setMask:function(ct){Be!==ct&&!ue&&(n.colorMask(ct,ct,ct,ct),Be=ct)},setLocked:function(ct){ue=ct},setClear:function(ct,ht,Rt,un,In){In===!0&&(ct*=un,ht*=un,Rt*=un),it.set(ct,ht,Rt,un),Ge.equals(it)===!1&&(n.clearColor(ct,ht,Rt,un),Ge.copy(it))},reset:function(){ue=!1,Be=null,Ge.set(-1,0,0,0)}}}function i(){let ue=!1,it=!1,Be=null,Ge=null,ct=null;return{setReversed:function(ht){if(it!==ht){const Rt=e.get("EXT_clip_control");it?Rt.clipControlEXT(Rt.LOWER_LEFT_EXT,Rt.ZERO_TO_ONE_EXT):Rt.clipControlEXT(Rt.LOWER_LEFT_EXT,Rt.NEGATIVE_ONE_TO_ONE_EXT);const un=ct;ct=null,this.setClear(un)}it=ht},getReversed:function(){return it},setTest:function(ht){ht?We(n.DEPTH_TEST):qe(n.DEPTH_TEST)},setMask:function(ht){Be!==ht&&!ue&&(n.depthMask(ht),Be=ht)},setFunc:function(ht){if(it&&(ht=QZ[ht]),Ge!==ht){switch(ht){case U_:n.depthFunc(n.NEVER);break;case I_:n.depthFunc(n.ALWAYS);break;case F_:n.depthFunc(n.LESS);break;case cd:n.depthFunc(n.LEQUAL);break;case z_:n.depthFunc(n.EQUAL);break;case H_:n.depthFunc(n.GEQUAL);break;case G_:n.depthFunc(n.GREATER);break;case k_:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Ge=ht}},setLocked:function(ht){ue=ht},setClear:function(ht){ct!==ht&&(it&&(ht=1-ht),n.clearDepth(ht),ct=ht)},reset:function(){ue=!1,Be=null,Ge=null,ct=null,it=!1}}}function r(){let ue=!1,it=null,Be=null,Ge=null,ct=null,ht=null,Rt=null,un=null,In=null;return{setTest:function(Zt){ue||(Zt?We(n.STENCIL_TEST):qe(n.STENCIL_TEST))},setMask:function(Zt){it!==Zt&&!ue&&(n.stencilMask(Zt),it=Zt)},setFunc:function(Zt,di,Ai){(Be!==Zt||Ge!==di||ct!==Ai)&&(n.stencilFunc(Zt,di,Ai),Be=Zt,Ge=di,ct=Ai)},setOp:function(Zt,di,Ai){(ht!==Zt||Rt!==di||un!==Ai)&&(n.stencilOp(Zt,di,Ai),ht=Zt,Rt=di,un=Ai)},setLocked:function(Zt){ue=Zt},setClear:function(Zt){In!==Zt&&(n.clearStencil(Zt),In=Zt)},reset:function(){ue=!1,it=null,Be=null,Ge=null,ct=null,ht=null,Rt=null,un=null,In=null}}}const a=new t,s=new i,l=new r,u=new WeakMap,f=new WeakMap;let p={},v={},g=new WeakMap,b=[],_=null,M=!1,A=null,S=null,w=null,C=null,R=null,D=null,N=null,L=new dt(0,0,0),z=0,P=!1,U=null,H=null,J=null,V=null,ne=null;const ee=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Y=!1,re=0;const ie=n.getParameter(n.VERSION);ie.indexOf("WebGL")!==-1?(re=parseFloat(/^WebGL (\d)/.exec(ie)[1]),Y=re>=1):ie.indexOf("OpenGL ES")!==-1&&(re=parseFloat(/^OpenGL ES (\d)/.exec(ie)[1]),Y=re>=2);let he=null,q={};const se=n.getParameter(n.SCISSOR_BOX),pe=n.getParameter(n.VIEWPORT),Se=new pn().fromArray(se),oe=new pn().fromArray(pe);function Te(ue,it,Be,Ge){const ct=new Uint8Array(4),ht=n.createTexture();n.bindTexture(ue,ht),n.texParameteri(ue,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ue,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Rt=0;Rt<Be;Rt++)ue===n.TEXTURE_3D||ue===n.TEXTURE_2D_ARRAY?n.texImage3D(it,0,n.RGBA,1,1,Ge,0,n.RGBA,n.UNSIGNED_BYTE,ct):n.texImage2D(it+Rt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,ct);return ht}const Ue={};Ue[n.TEXTURE_2D]=Te(n.TEXTURE_2D,n.TEXTURE_2D,1),Ue[n.TEXTURE_CUBE_MAP]=Te(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ue[n.TEXTURE_2D_ARRAY]=Te(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ue[n.TEXTURE_3D]=Te(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),l.setClear(0),We(n.DEPTH_TEST),s.setFunc(cd),Ie(!1),Ze(IC),We(n.CULL_FACE),K(ec);function We(ue){p[ue]!==!0&&(n.enable(ue),p[ue]=!0)}function qe(ue){p[ue]!==!1&&(n.disable(ue),p[ue]=!1)}function Le(ue,it){return v[ue]!==it?(n.bindFramebuffer(ue,it),v[ue]=it,ue===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=it),ue===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=it),!0):!1}function De(ue,it){let Be=b,Ge=!1;if(ue){Be=g.get(it),Be===void 0&&(Be=[],g.set(it,Be));const ct=ue.textures;if(Be.length!==ct.length||Be[0]!==n.COLOR_ATTACHMENT0){for(let ht=0,Rt=ct.length;ht<Rt;ht++)Be[ht]=n.COLOR_ATTACHMENT0+ht;Be.length=ct.length,Ge=!0}}else Be[0]!==n.BACK&&(Be[0]=n.BACK,Ge=!0);Ge&&n.drawBuffers(Be)}function Xe(ue){return _!==ue?(n.useProgram(ue),_=ue,!0):!1}const fe={[mf]:n.FUNC_ADD,[$H]:n.FUNC_SUBTRACT,[eG]:n.FUNC_REVERSE_SUBTRACT};fe[tG]=n.MIN,fe[nG]=n.MAX;const Ce={[iG]:n.ZERO,[rG]:n.ONE,[aG]:n.SRC_COLOR,[P_]:n.SRC_ALPHA,[fG]:n.SRC_ALPHA_SATURATE,[uG]:n.DST_COLOR,[oG]:n.DST_ALPHA,[sG]:n.ONE_MINUS_SRC_COLOR,[L_]:n.ONE_MINUS_SRC_ALPHA,[cG]:n.ONE_MINUS_DST_COLOR,[lG]:n.ONE_MINUS_DST_ALPHA,[hG]:n.CONSTANT_COLOR,[dG]:n.ONE_MINUS_CONSTANT_COLOR,[pG]:n.CONSTANT_ALPHA,[mG]:n.ONE_MINUS_CONSTANT_ALPHA};function K(ue,it,Be,Ge,ct,ht,Rt,un,In,Zt){if(ue===ec){M===!0&&(qe(n.BLEND),M=!1);return}if(M===!1&&(We(n.BLEND),M=!0),ue!==QH){if(ue!==A||Zt!==P){if((S!==mf||R!==mf)&&(n.blendEquation(n.FUNC_ADD),S=mf,R=mf),Zt)switch(ue){case nd:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case N_:n.blendFunc(n.ONE,n.ONE);break;case FC:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case zC:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ue);break}else switch(ue){case nd:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case N_:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case FC:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case zC:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ue);break}w=null,C=null,D=null,N=null,L.set(0,0,0),z=0,A=ue,P=Zt}return}ct=ct||it,ht=ht||Be,Rt=Rt||Ge,(it!==S||ct!==R)&&(n.blendEquationSeparate(fe[it],fe[ct]),S=it,R=ct),(Be!==w||Ge!==C||ht!==D||Rt!==N)&&(n.blendFuncSeparate(Ce[Be],Ce[Ge],Ce[ht],Ce[Rt]),w=Be,C=Ge,D=ht,N=Rt),(un.equals(L)===!1||In!==z)&&(n.blendColor(un.r,un.g,un.b,In),L.copy(un),z=In),A=ue,P=!1}function st(ue,it){ue.side===Qs?qe(n.CULL_FACE):We(n.CULL_FACE);let Be=ue.side===Na;it&&(Be=!Be),Ie(Be),ue.blending===nd&&ue.transparent===!1?K(ec):K(ue.blending,ue.blendEquation,ue.blendSrc,ue.blendDst,ue.blendEquationAlpha,ue.blendSrcAlpha,ue.blendDstAlpha,ue.blendColor,ue.blendAlpha,ue.premultipliedAlpha),s.setFunc(ue.depthFunc),s.setTest(ue.depthTest),s.setMask(ue.depthWrite),a.setMask(ue.colorWrite);const Ge=ue.stencilWrite;l.setTest(Ge),Ge&&(l.setMask(ue.stencilWriteMask),l.setFunc(ue.stencilFunc,ue.stencilRef,ue.stencilFuncMask),l.setOp(ue.stencilFail,ue.stencilZFail,ue.stencilZPass)),At(ue.polygonOffset,ue.polygonOffsetFactor,ue.polygonOffsetUnits),ue.alphaToCoverage===!0?We(n.SAMPLE_ALPHA_TO_COVERAGE):qe(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ie(ue){U!==ue&&(ue?n.frontFace(n.CW):n.frontFace(n.CCW),U=ue)}function Ze(ue){ue!==KH?(We(n.CULL_FACE),ue!==H&&(ue===IC?n.cullFace(n.BACK):ue===JH?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):qe(n.CULL_FACE),H=ue}function Je(ue){ue!==J&&(Y&&n.lineWidth(ue),J=ue)}function At(ue,it,Be){ue?(We(n.POLYGON_OFFSET_FILL),(V!==it||ne!==Be)&&(n.polygonOffset(it,Be),V=it,ne=Be)):qe(n.POLYGON_OFFSET_FILL)}function rt(ue){ue?We(n.SCISSOR_TEST):qe(n.SCISSOR_TEST)}function $(ue){ue===void 0&&(ue=n.TEXTURE0+ee-1),he!==ue&&(n.activeTexture(ue),he=ue)}function k(ue,it,Be){Be===void 0&&(he===null?Be=n.TEXTURE0+ee-1:Be=he);let Ge=q[Be];Ge===void 0&&(Ge={type:void 0,texture:void 0},q[Be]=Ge),(Ge.type!==ue||Ge.texture!==it)&&(he!==Be&&(n.activeTexture(Be),he=Be),n.bindTexture(ue,it||Ue[ue]),Ge.type=ue,Ge.texture=it)}function _e(){const ue=q[he];ue!==void 0&&ue.type!==void 0&&(n.bindTexture(ue.type,null),ue.type=void 0,ue.texture=void 0)}function Ne(){try{n.compressedTexImage2D(...arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Ye(){try{n.compressedTexImage3D(...arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function He(){try{n.texSubImage2D(...arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function vt(){try{n.texSubImage3D(...arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function lt(){try{n.compressedTexSubImage2D(...arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function _t(){try{n.compressedTexSubImage3D(...arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Jt(){try{n.texStorage2D(...arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function tt(){try{n.texStorage3D(...arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function St(){try{n.texImage2D(...arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Tt(){try{n.texImage3D(...arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Mt(ue){Se.equals(ue)===!1&&(n.scissor(ue.x,ue.y,ue.z,ue.w),Se.copy(ue))}function xt(ue){oe.equals(ue)===!1&&(n.viewport(ue.x,ue.y,ue.z,ue.w),oe.copy(ue))}function ce(ue,it){let Be=f.get(it);Be===void 0&&(Be=new WeakMap,f.set(it,Be));let Ge=Be.get(ue);Ge===void 0&&(Ge=n.getUniformBlockIndex(it,ue.name),Be.set(ue,Ge))}function Pe(ue,it){const Ge=f.get(it).get(ue);u.get(it)!==Ge&&(n.uniformBlockBinding(it,Ge,ue.__bindingPointIndex),u.set(it,Ge))}function ft(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),s.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},he=null,q={},v={},g=new WeakMap,b=[],_=null,M=!1,A=null,S=null,w=null,C=null,R=null,D=null,N=null,L=new dt(0,0,0),z=0,P=!1,U=null,H=null,J=null,V=null,ne=null,Se.set(0,0,n.canvas.width,n.canvas.height),oe.set(0,0,n.canvas.width,n.canvas.height),a.reset(),s.reset(),l.reset()}return{buffers:{color:a,depth:s,stencil:l},enable:We,disable:qe,bindFramebuffer:Le,drawBuffers:De,useProgram:Xe,setBlending:K,setMaterial:st,setFlipSided:Ie,setCullFace:Ze,setLineWidth:Je,setPolygonOffset:At,setScissorTest:rt,activeTexture:$,bindTexture:k,unbindTexture:_e,compressedTexImage2D:Ne,compressedTexImage3D:Ye,texImage2D:St,texImage3D:Tt,updateUBOMapping:ce,uniformBlockBinding:Pe,texStorage2D:Jt,texStorage3D:tt,texSubImage2D:He,texSubImage3D:vt,compressedTexSubImage2D:lt,compressedTexSubImage3D:_t,scissor:Mt,viewport:xt,reset:ft}}function eQ(n,e,t,i,r,a,s){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new ke,p=new WeakMap;let v;const g=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _($,k){return b?new OffscreenCanvas($,k):xy("canvas")}function M($,k,_e){let Ne=1;const Ye=rt($);if((Ye.width>_e||Ye.height>_e)&&(Ne=_e/Math.max(Ye.width,Ye.height)),Ne<1)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof VideoFrame<"u"&&$ instanceof VideoFrame){const He=Math.floor(Ne*Ye.width),vt=Math.floor(Ne*Ye.height);v===void 0&&(v=_(He,vt));const lt=k?_(He,vt):v;return lt.width=He,lt.height=vt,lt.getContext("2d").drawImage($,0,0,He,vt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ye.width+"x"+Ye.height+") to ("+He+"x"+vt+")."),lt}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ye.width+"x"+Ye.height+")."),$;return $}function A($){return $.generateMipmaps}function S($){n.generateMipmap($)}function w($){return $.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:$.isWebGL3DRenderTarget?n.TEXTURE_3D:$.isWebGLArrayRenderTarget||$.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function C($,k,_e,Ne,Ye=!1){if($!==null){if(n[$]!==void 0)return n[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let He=k;if(k===n.RED&&(_e===n.FLOAT&&(He=n.R32F),_e===n.HALF_FLOAT&&(He=n.R16F),_e===n.UNSIGNED_BYTE&&(He=n.R8)),k===n.RED_INTEGER&&(_e===n.UNSIGNED_BYTE&&(He=n.R8UI),_e===n.UNSIGNED_SHORT&&(He=n.R16UI),_e===n.UNSIGNED_INT&&(He=n.R32UI),_e===n.BYTE&&(He=n.R8I),_e===n.SHORT&&(He=n.R16I),_e===n.INT&&(He=n.R32I)),k===n.RG&&(_e===n.FLOAT&&(He=n.RG32F),_e===n.HALF_FLOAT&&(He=n.RG16F),_e===n.UNSIGNED_BYTE&&(He=n.RG8)),k===n.RG_INTEGER&&(_e===n.UNSIGNED_BYTE&&(He=n.RG8UI),_e===n.UNSIGNED_SHORT&&(He=n.RG16UI),_e===n.UNSIGNED_INT&&(He=n.RG32UI),_e===n.BYTE&&(He=n.RG8I),_e===n.SHORT&&(He=n.RG16I),_e===n.INT&&(He=n.RG32I)),k===n.RGB_INTEGER&&(_e===n.UNSIGNED_BYTE&&(He=n.RGB8UI),_e===n.UNSIGNED_SHORT&&(He=n.RGB16UI),_e===n.UNSIGNED_INT&&(He=n.RGB32UI),_e===n.BYTE&&(He=n.RGB8I),_e===n.SHORT&&(He=n.RGB16I),_e===n.INT&&(He=n.RGB32I)),k===n.RGBA_INTEGER&&(_e===n.UNSIGNED_BYTE&&(He=n.RGBA8UI),_e===n.UNSIGNED_SHORT&&(He=n.RGBA16UI),_e===n.UNSIGNED_INT&&(He=n.RGBA32UI),_e===n.BYTE&&(He=n.RGBA8I),_e===n.SHORT&&(He=n.RGBA16I),_e===n.INT&&(He=n.RGBA32I)),k===n.RGB&&_e===n.UNSIGNED_INT_5_9_9_9_REV&&(He=n.RGB9_E5),k===n.RGBA){const vt=Ye?gy:Tn.getTransfer(Ne);_e===n.FLOAT&&(He=n.RGBA32F),_e===n.HALF_FLOAT&&(He=n.RGBA16F),_e===n.UNSIGNED_BYTE&&(He=vt===Kn?n.SRGB8_ALPHA8:n.RGBA8),_e===n.UNSIGNED_SHORT_4_4_4_4&&(He=n.RGBA4),_e===n.UNSIGNED_SHORT_5_5_5_1&&(He=n.RGB5_A1)}return(He===n.R16F||He===n.R32F||He===n.RG16F||He===n.RG32F||He===n.RGBA16F||He===n.RGBA32F)&&e.get("EXT_color_buffer_float"),He}function R($,k){let _e;return $?k===null||k===lc||k===fd?_e=n.DEPTH24_STENCIL8:k===Qa?_e=n.DEPTH32F_STENCIL8:k===pm&&(_e=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):k===null||k===lc||k===fd?_e=n.DEPTH_COMPONENT24:k===Qa?_e=n.DEPTH_COMPONENT32F:k===pm&&(_e=n.DEPTH_COMPONENT16),_e}function D($,k){return A($)===!0||$.isFramebufferTexture&&$.minFilter!==Dr&&$.minFilter!==Zi?Math.log2(Math.max(k.width,k.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?k.mipmaps.length:1}function N($){const k=$.target;k.removeEventListener("dispose",N),z(k),k.isVideoTexture&&p.delete(k)}function L($){const k=$.target;k.removeEventListener("dispose",L),U(k)}function z($){const k=i.get($);if(k.__webglInit===void 0)return;const _e=$.source,Ne=g.get(_e);if(Ne){const Ye=Ne[k.__cacheKey];Ye.usedTimes--,Ye.usedTimes===0&&P($),Object.keys(Ne).length===0&&g.delete(_e)}i.remove($)}function P($){const k=i.get($);n.deleteTexture(k.__webglTexture);const _e=$.source,Ne=g.get(_e);delete Ne[k.__cacheKey],s.memory.textures--}function U($){const k=i.get($);if($.depthTexture&&($.depthTexture.dispose(),i.remove($.depthTexture)),$.isWebGLCubeRenderTarget)for(let Ne=0;Ne<6;Ne++){if(Array.isArray(k.__webglFramebuffer[Ne]))for(let Ye=0;Ye<k.__webglFramebuffer[Ne].length;Ye++)n.deleteFramebuffer(k.__webglFramebuffer[Ne][Ye]);else n.deleteFramebuffer(k.__webglFramebuffer[Ne]);k.__webglDepthbuffer&&n.deleteRenderbuffer(k.__webglDepthbuffer[Ne])}else{if(Array.isArray(k.__webglFramebuffer))for(let Ne=0;Ne<k.__webglFramebuffer.length;Ne++)n.deleteFramebuffer(k.__webglFramebuffer[Ne]);else n.deleteFramebuffer(k.__webglFramebuffer);if(k.__webglDepthbuffer&&n.deleteRenderbuffer(k.__webglDepthbuffer),k.__webglMultisampledFramebuffer&&n.deleteFramebuffer(k.__webglMultisampledFramebuffer),k.__webglColorRenderbuffer)for(let Ne=0;Ne<k.__webglColorRenderbuffer.length;Ne++)k.__webglColorRenderbuffer[Ne]&&n.deleteRenderbuffer(k.__webglColorRenderbuffer[Ne]);k.__webglDepthRenderbuffer&&n.deleteRenderbuffer(k.__webglDepthRenderbuffer)}const _e=$.textures;for(let Ne=0,Ye=_e.length;Ne<Ye;Ne++){const He=i.get(_e[Ne]);He.__webglTexture&&(n.deleteTexture(He.__webglTexture),s.memory.textures--),i.remove(_e[Ne])}i.remove($)}let H=0;function J(){H=0}function V(){const $=H;return $>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+r.maxTextures),H+=1,$}function ne($){const k=[];return k.push($.wrapS),k.push($.wrapT),k.push($.wrapR||0),k.push($.magFilter),k.push($.minFilter),k.push($.anisotropy),k.push($.internalFormat),k.push($.format),k.push($.type),k.push($.generateMipmaps),k.push($.premultiplyAlpha),k.push($.flipY),k.push($.unpackAlignment),k.push($.colorSpace),k.join()}function ee($,k){const _e=i.get($);if($.isVideoTexture&&Je($),$.isRenderTargetTexture===!1&&$.version>0&&_e.__version!==$.version){const Ne=$.image;if(Ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{oe(_e,$,k);return}}t.bindTexture(n.TEXTURE_2D,_e.__webglTexture,n.TEXTURE0+k)}function Y($,k){const _e=i.get($);if($.version>0&&_e.__version!==$.version){oe(_e,$,k);return}t.bindTexture(n.TEXTURE_2D_ARRAY,_e.__webglTexture,n.TEXTURE0+k)}function re($,k){const _e=i.get($);if($.version>0&&_e.__version!==$.version){oe(_e,$,k);return}t.bindTexture(n.TEXTURE_3D,_e.__webglTexture,n.TEXTURE0+k)}function ie($,k){const _e=i.get($);if($.version>0&&_e.__version!==$.version){Te(_e,$,k);return}t.bindTexture(n.TEXTURE_CUBE_MAP,_e.__webglTexture,n.TEXTURE0+k)}const he={[Mf]:n.REPEAT,[Ms]:n.CLAMP_TO_EDGE,[dm]:n.MIRRORED_REPEAT},q={[Dr]:n.NEAREST,[AS]:n.NEAREST_MIPMAP_NEAREST,[Xh]:n.NEAREST_MIPMAP_LINEAR,[Zi]:n.LINEAR,[sm]:n.LINEAR_MIPMAP_NEAREST,[$s]:n.LINEAR_MIPMAP_LINEAR},se={[DG]:n.NEVER,[FG]:n.ALWAYS,[NG]:n.LESS,[kO]:n.LEQUAL,[PG]:n.EQUAL,[IG]:n.GEQUAL,[LG]:n.GREATER,[UG]:n.NOTEQUAL};function pe($,k){if(k.type===Qa&&e.has("OES_texture_float_linear")===!1&&(k.magFilter===Zi||k.magFilter===sm||k.magFilter===Xh||k.magFilter===$s||k.minFilter===Zi||k.minFilter===sm||k.minFilter===Xh||k.minFilter===$s)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri($,n.TEXTURE_WRAP_S,he[k.wrapS]),n.texParameteri($,n.TEXTURE_WRAP_T,he[k.wrapT]),($===n.TEXTURE_3D||$===n.TEXTURE_2D_ARRAY)&&n.texParameteri($,n.TEXTURE_WRAP_R,he[k.wrapR]),n.texParameteri($,n.TEXTURE_MAG_FILTER,q[k.magFilter]),n.texParameteri($,n.TEXTURE_MIN_FILTER,q[k.minFilter]),k.compareFunction&&(n.texParameteri($,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri($,n.TEXTURE_COMPARE_FUNC,se[k.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(k.magFilter===Dr||k.minFilter!==Xh&&k.minFilter!==$s||k.type===Qa&&e.has("OES_texture_float_linear")===!1)return;if(k.anisotropy>1||i.get(k).__currentAnisotropy){const _e=e.get("EXT_texture_filter_anisotropic");n.texParameterf($,_e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,r.getMaxAnisotropy())),i.get(k).__currentAnisotropy=k.anisotropy}}}function Se($,k){let _e=!1;$.__webglInit===void 0&&($.__webglInit=!0,k.addEventListener("dispose",N));const Ne=k.source;let Ye=g.get(Ne);Ye===void 0&&(Ye={},g.set(Ne,Ye));const He=ne(k);if(He!==$.__cacheKey){Ye[He]===void 0&&(Ye[He]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,_e=!0),Ye[He].usedTimes++;const vt=Ye[$.__cacheKey];vt!==void 0&&(Ye[$.__cacheKey].usedTimes--,vt.usedTimes===0&&P(k)),$.__cacheKey=He,$.__webglTexture=Ye[He].texture}return _e}function oe($,k,_e){let Ne=n.TEXTURE_2D;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(Ne=n.TEXTURE_2D_ARRAY),k.isData3DTexture&&(Ne=n.TEXTURE_3D);const Ye=Se($,k),He=k.source;t.bindTexture(Ne,$.__webglTexture,n.TEXTURE0+_e);const vt=i.get(He);if(He.version!==vt.__version||Ye===!0){t.activeTexture(n.TEXTURE0+_e);const lt=Tn.getPrimaries(Tn.workingColorSpace),_t=k.colorSpace===Xu?null:Tn.getPrimaries(k.colorSpace),Jt=k.colorSpace===Xu||lt===_t?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,k.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,k.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Jt);let tt=M(k.image,!1,r.maxTextureSize);tt=At(k,tt);const St=a.convert(k.format,k.colorSpace),Tt=a.convert(k.type);let Mt=C(k.internalFormat,St,Tt,k.colorSpace,k.isVideoTexture);pe(Ne,k);let xt;const ce=k.mipmaps,Pe=k.isVideoTexture!==!0,ft=vt.__version===void 0||Ye===!0,ue=He.dataReady,it=D(k,tt);if(k.isDepthTexture)Mt=R(k.format===hd,k.type),ft&&(Pe?t.texStorage2D(n.TEXTURE_2D,1,Mt,tt.width,tt.height):t.texImage2D(n.TEXTURE_2D,0,Mt,tt.width,tt.height,0,St,Tt,null));else if(k.isDataTexture)if(ce.length>0){Pe&&ft&&t.texStorage2D(n.TEXTURE_2D,it,Mt,ce[0].width,ce[0].height);for(let Be=0,Ge=ce.length;Be<Ge;Be++)xt=ce[Be],Pe?ue&&t.texSubImage2D(n.TEXTURE_2D,Be,0,0,xt.width,xt.height,St,Tt,xt.data):t.texImage2D(n.TEXTURE_2D,Be,Mt,xt.width,xt.height,0,St,Tt,xt.data);k.generateMipmaps=!1}else Pe?(ft&&t.texStorage2D(n.TEXTURE_2D,it,Mt,tt.width,tt.height),ue&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,tt.width,tt.height,St,Tt,tt.data)):t.texImage2D(n.TEXTURE_2D,0,Mt,tt.width,tt.height,0,St,Tt,tt.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){Pe&&ft&&t.texStorage3D(n.TEXTURE_2D_ARRAY,it,Mt,ce[0].width,ce[0].height,tt.depth);for(let Be=0,Ge=ce.length;Be<Ge;Be++)if(xt=ce[Be],k.format!==pa)if(St!==null)if(Pe){if(ue)if(k.layerUpdates.size>0){const ct=YC(xt.width,xt.height,k.format,k.type);for(const ht of k.layerUpdates){const Rt=xt.data.subarray(ht*ct/xt.data.BYTES_PER_ELEMENT,(ht+1)*ct/xt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Be,0,0,ht,xt.width,xt.height,1,St,Rt)}k.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Be,0,0,0,xt.width,xt.height,tt.depth,St,xt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Be,Mt,xt.width,xt.height,tt.depth,0,xt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Pe?ue&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Be,0,0,0,xt.width,xt.height,tt.depth,St,Tt,xt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Be,Mt,xt.width,xt.height,tt.depth,0,St,Tt,xt.data)}else{Pe&&ft&&t.texStorage2D(n.TEXTURE_2D,it,Mt,ce[0].width,ce[0].height);for(let Be=0,Ge=ce.length;Be<Ge;Be++)xt=ce[Be],k.format!==pa?St!==null?Pe?ue&&t.compressedTexSubImage2D(n.TEXTURE_2D,Be,0,0,xt.width,xt.height,St,xt.data):t.compressedTexImage2D(n.TEXTURE_2D,Be,Mt,xt.width,xt.height,0,xt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pe?ue&&t.texSubImage2D(n.TEXTURE_2D,Be,0,0,xt.width,xt.height,St,Tt,xt.data):t.texImage2D(n.TEXTURE_2D,Be,Mt,xt.width,xt.height,0,St,Tt,xt.data)}else if(k.isDataArrayTexture)if(Pe){if(ft&&t.texStorage3D(n.TEXTURE_2D_ARRAY,it,Mt,tt.width,tt.height,tt.depth),ue)if(k.layerUpdates.size>0){const Be=YC(tt.width,tt.height,k.format,k.type);for(const Ge of k.layerUpdates){const ct=tt.data.subarray(Ge*Be/tt.data.BYTES_PER_ELEMENT,(Ge+1)*Be/tt.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ge,tt.width,tt.height,1,St,Tt,ct)}k.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,tt.width,tt.height,tt.depth,St,Tt,tt.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Mt,tt.width,tt.height,tt.depth,0,St,Tt,tt.data);else if(k.isData3DTexture)Pe?(ft&&t.texStorage3D(n.TEXTURE_3D,it,Mt,tt.width,tt.height,tt.depth),ue&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,tt.width,tt.height,tt.depth,St,Tt,tt.data)):t.texImage3D(n.TEXTURE_3D,0,Mt,tt.width,tt.height,tt.depth,0,St,Tt,tt.data);else if(k.isFramebufferTexture){if(ft)if(Pe)t.texStorage2D(n.TEXTURE_2D,it,Mt,tt.width,tt.height);else{let Be=tt.width,Ge=tt.height;for(let ct=0;ct<it;ct++)t.texImage2D(n.TEXTURE_2D,ct,Mt,Be,Ge,0,St,Tt,null),Be>>=1,Ge>>=1}}else if(ce.length>0){if(Pe&&ft){const Be=rt(ce[0]);t.texStorage2D(n.TEXTURE_2D,it,Mt,Be.width,Be.height)}for(let Be=0,Ge=ce.length;Be<Ge;Be++)xt=ce[Be],Pe?ue&&t.texSubImage2D(n.TEXTURE_2D,Be,0,0,St,Tt,xt):t.texImage2D(n.TEXTURE_2D,Be,Mt,St,Tt,xt);k.generateMipmaps=!1}else if(Pe){if(ft){const Be=rt(tt);t.texStorage2D(n.TEXTURE_2D,it,Mt,Be.width,Be.height)}ue&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,St,Tt,tt)}else t.texImage2D(n.TEXTURE_2D,0,Mt,St,Tt,tt);A(k)&&S(Ne),vt.__version=He.version,k.onUpdate&&k.onUpdate(k)}$.__version=k.version}function Te($,k,_e){if(k.image.length!==6)return;const Ne=Se($,k),Ye=k.source;t.bindTexture(n.TEXTURE_CUBE_MAP,$.__webglTexture,n.TEXTURE0+_e);const He=i.get(Ye);if(Ye.version!==He.__version||Ne===!0){t.activeTexture(n.TEXTURE0+_e);const vt=Tn.getPrimaries(Tn.workingColorSpace),lt=k.colorSpace===Xu?null:Tn.getPrimaries(k.colorSpace),_t=k.colorSpace===Xu||vt===lt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,k.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,k.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,_t);const Jt=k.isCompressedTexture||k.image[0].isCompressedTexture,tt=k.image[0]&&k.image[0].isDataTexture,St=[];for(let Ge=0;Ge<6;Ge++)!Jt&&!tt?St[Ge]=M(k.image[Ge],!0,r.maxCubemapSize):St[Ge]=tt?k.image[Ge].image:k.image[Ge],St[Ge]=At(k,St[Ge]);const Tt=St[0],Mt=a.convert(k.format,k.colorSpace),xt=a.convert(k.type),ce=C(k.internalFormat,Mt,xt,k.colorSpace),Pe=k.isVideoTexture!==!0,ft=He.__version===void 0||Ne===!0,ue=Ye.dataReady;let it=D(k,Tt);pe(n.TEXTURE_CUBE_MAP,k);let Be;if(Jt){Pe&&ft&&t.texStorage2D(n.TEXTURE_CUBE_MAP,it,ce,Tt.width,Tt.height);for(let Ge=0;Ge<6;Ge++){Be=St[Ge].mipmaps;for(let ct=0;ct<Be.length;ct++){const ht=Be[ct];k.format!==pa?Mt!==null?Pe?ue&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct,0,0,ht.width,ht.height,Mt,ht.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct,ce,ht.width,ht.height,0,ht.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Pe?ue&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct,0,0,ht.width,ht.height,Mt,xt,ht.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct,ce,ht.width,ht.height,0,Mt,xt,ht.data)}}}else{if(Be=k.mipmaps,Pe&&ft){Be.length>0&&it++;const Ge=rt(St[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,it,ce,Ge.width,Ge.height)}for(let Ge=0;Ge<6;Ge++)if(tt){Pe?ue&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,St[Ge].width,St[Ge].height,Mt,xt,St[Ge].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,ce,St[Ge].width,St[Ge].height,0,Mt,xt,St[Ge].data);for(let ct=0;ct<Be.length;ct++){const Rt=Be[ct].image[Ge].image;Pe?ue&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct+1,0,0,Rt.width,Rt.height,Mt,xt,Rt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct+1,ce,Rt.width,Rt.height,0,Mt,xt,Rt.data)}}else{Pe?ue&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,Mt,xt,St[Ge]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,ce,Mt,xt,St[Ge]);for(let ct=0;ct<Be.length;ct++){const ht=Be[ct];Pe?ue&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct+1,0,0,Mt,xt,ht.image[Ge]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct+1,ce,Mt,xt,ht.image[Ge])}}}A(k)&&S(n.TEXTURE_CUBE_MAP),He.__version=Ye.version,k.onUpdate&&k.onUpdate(k)}$.__version=k.version}function Ue($,k,_e,Ne,Ye,He){const vt=a.convert(_e.format,_e.colorSpace),lt=a.convert(_e.type),_t=C(_e.internalFormat,vt,lt,_e.colorSpace),Jt=i.get(k),tt=i.get(_e);if(tt.__renderTarget=k,!Jt.__hasExternalTextures){const St=Math.max(1,k.width>>He),Tt=Math.max(1,k.height>>He);Ye===n.TEXTURE_3D||Ye===n.TEXTURE_2D_ARRAY?t.texImage3D(Ye,He,_t,St,Tt,k.depth,0,vt,lt,null):t.texImage2D(Ye,He,_t,St,Tt,0,vt,lt,null)}t.bindFramebuffer(n.FRAMEBUFFER,$),Ze(k)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ne,Ye,tt.__webglTexture,0,Ie(k)):(Ye===n.TEXTURE_2D||Ye>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ye<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ne,Ye,tt.__webglTexture,He),t.bindFramebuffer(n.FRAMEBUFFER,null)}function We($,k,_e){if(n.bindRenderbuffer(n.RENDERBUFFER,$),k.depthBuffer){const Ne=k.depthTexture,Ye=Ne&&Ne.isDepthTexture?Ne.type:null,He=R(k.stencilBuffer,Ye),vt=k.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,lt=Ie(k);Ze(k)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,lt,He,k.width,k.height):_e?n.renderbufferStorageMultisample(n.RENDERBUFFER,lt,He,k.width,k.height):n.renderbufferStorage(n.RENDERBUFFER,He,k.width,k.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,vt,n.RENDERBUFFER,$)}else{const Ne=k.textures;for(let Ye=0;Ye<Ne.length;Ye++){const He=Ne[Ye],vt=a.convert(He.format,He.colorSpace),lt=a.convert(He.type),_t=C(He.internalFormat,vt,lt,He.colorSpace),Jt=Ie(k);_e&&Ze(k)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Jt,_t,k.width,k.height):Ze(k)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Jt,_t,k.width,k.height):n.renderbufferStorage(n.RENDERBUFFER,_t,k.width,k.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function qe($,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,$),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ne=i.get(k.depthTexture);Ne.__renderTarget=k,(!Ne.__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),ee(k.depthTexture,0);const Ye=Ne.__webglTexture,He=Ie(k);if(k.depthTexture.format===id)Ze(k)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ye,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ye,0);else if(k.depthTexture.format===hd)Ze(k)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ye,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ye,0);else throw new Error("Unknown depthTexture format")}function Le($){const k=i.get($),_e=$.isWebGLCubeRenderTarget===!0;if(k.__boundDepthTexture!==$.depthTexture){const Ne=$.depthTexture;if(k.__depthDisposeCallback&&k.__depthDisposeCallback(),Ne){const Ye=()=>{delete k.__boundDepthTexture,delete k.__depthDisposeCallback,Ne.removeEventListener("dispose",Ye)};Ne.addEventListener("dispose",Ye),k.__depthDisposeCallback=Ye}k.__boundDepthTexture=Ne}if($.depthTexture&&!k.__autoAllocateDepthBuffer){if(_e)throw new Error("target.depthTexture not supported in Cube render targets");qe(k.__webglFramebuffer,$)}else if(_e){k.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)if(t.bindFramebuffer(n.FRAMEBUFFER,k.__webglFramebuffer[Ne]),k.__webglDepthbuffer[Ne]===void 0)k.__webglDepthbuffer[Ne]=n.createRenderbuffer(),We(k.__webglDepthbuffer[Ne],$,!1);else{const Ye=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,He=k.__webglDepthbuffer[Ne];n.bindRenderbuffer(n.RENDERBUFFER,He),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ye,n.RENDERBUFFER,He)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,k.__webglFramebuffer),k.__webglDepthbuffer===void 0)k.__webglDepthbuffer=n.createRenderbuffer(),We(k.__webglDepthbuffer,$,!1);else{const Ne=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ye=k.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ye),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ne,n.RENDERBUFFER,Ye)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function De($,k,_e){const Ne=i.get($);k!==void 0&&Ue(Ne.__webglFramebuffer,$,$.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),_e!==void 0&&Le($)}function Xe($){const k=$.texture,_e=i.get($),Ne=i.get(k);$.addEventListener("dispose",L);const Ye=$.textures,He=$.isWebGLCubeRenderTarget===!0,vt=Ye.length>1;if(vt||(Ne.__webglTexture===void 0&&(Ne.__webglTexture=n.createTexture()),Ne.__version=k.version,s.memory.textures++),He){_e.__webglFramebuffer=[];for(let lt=0;lt<6;lt++)if(k.mipmaps&&k.mipmaps.length>0){_e.__webglFramebuffer[lt]=[];for(let _t=0;_t<k.mipmaps.length;_t++)_e.__webglFramebuffer[lt][_t]=n.createFramebuffer()}else _e.__webglFramebuffer[lt]=n.createFramebuffer()}else{if(k.mipmaps&&k.mipmaps.length>0){_e.__webglFramebuffer=[];for(let lt=0;lt<k.mipmaps.length;lt++)_e.__webglFramebuffer[lt]=n.createFramebuffer()}else _e.__webglFramebuffer=n.createFramebuffer();if(vt)for(let lt=0,_t=Ye.length;lt<_t;lt++){const Jt=i.get(Ye[lt]);Jt.__webglTexture===void 0&&(Jt.__webglTexture=n.createTexture(),s.memory.textures++)}if($.samples>0&&Ze($)===!1){_e.__webglMultisampledFramebuffer=n.createFramebuffer(),_e.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,_e.__webglMultisampledFramebuffer);for(let lt=0;lt<Ye.length;lt++){const _t=Ye[lt];_e.__webglColorRenderbuffer[lt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,_e.__webglColorRenderbuffer[lt]);const Jt=a.convert(_t.format,_t.colorSpace),tt=a.convert(_t.type),St=C(_t.internalFormat,Jt,tt,_t.colorSpace,$.isXRRenderTarget===!0),Tt=Ie($);n.renderbufferStorageMultisample(n.RENDERBUFFER,Tt,St,$.width,$.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.RENDERBUFFER,_e.__webglColorRenderbuffer[lt])}n.bindRenderbuffer(n.RENDERBUFFER,null),$.depthBuffer&&(_e.__webglDepthRenderbuffer=n.createRenderbuffer(),We(_e.__webglDepthRenderbuffer,$,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(He){t.bindTexture(n.TEXTURE_CUBE_MAP,Ne.__webglTexture),pe(n.TEXTURE_CUBE_MAP,k);for(let lt=0;lt<6;lt++)if(k.mipmaps&&k.mipmaps.length>0)for(let _t=0;_t<k.mipmaps.length;_t++)Ue(_e.__webglFramebuffer[lt][_t],$,k,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,_t);else Ue(_e.__webglFramebuffer[lt],$,k,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0);A(k)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(vt){for(let lt=0,_t=Ye.length;lt<_t;lt++){const Jt=Ye[lt],tt=i.get(Jt);t.bindTexture(n.TEXTURE_2D,tt.__webglTexture),pe(n.TEXTURE_2D,Jt),Ue(_e.__webglFramebuffer,$,Jt,n.COLOR_ATTACHMENT0+lt,n.TEXTURE_2D,0),A(Jt)&&S(n.TEXTURE_2D)}t.unbindTexture()}else{let lt=n.TEXTURE_2D;if(($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(lt=$.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(lt,Ne.__webglTexture),pe(lt,k),k.mipmaps&&k.mipmaps.length>0)for(let _t=0;_t<k.mipmaps.length;_t++)Ue(_e.__webglFramebuffer[_t],$,k,n.COLOR_ATTACHMENT0,lt,_t);else Ue(_e.__webglFramebuffer,$,k,n.COLOR_ATTACHMENT0,lt,0);A(k)&&S(lt),t.unbindTexture()}$.depthBuffer&&Le($)}function fe($){const k=$.textures;for(let _e=0,Ne=k.length;_e<Ne;_e++){const Ye=k[_e];if(A(Ye)){const He=w($),vt=i.get(Ye).__webglTexture;t.bindTexture(He,vt),S(He),t.unbindTexture()}}}const Ce=[],K=[];function st($){if($.samples>0){if(Ze($)===!1){const k=$.textures,_e=$.width,Ne=$.height;let Ye=n.COLOR_BUFFER_BIT;const He=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,vt=i.get($),lt=k.length>1;if(lt)for(let _t=0;_t<k.length;_t++)t.bindFramebuffer(n.FRAMEBUFFER,vt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+_t,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,vt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+_t,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,vt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,vt.__webglFramebuffer);for(let _t=0;_t<k.length;_t++){if($.resolveDepthBuffer&&($.depthBuffer&&(Ye|=n.DEPTH_BUFFER_BIT),$.stencilBuffer&&$.resolveStencilBuffer&&(Ye|=n.STENCIL_BUFFER_BIT)),lt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,vt.__webglColorRenderbuffer[_t]);const Jt=i.get(k[_t]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Jt,0)}n.blitFramebuffer(0,0,_e,Ne,0,0,_e,Ne,Ye,n.NEAREST),u===!0&&(Ce.length=0,K.length=0,Ce.push(n.COLOR_ATTACHMENT0+_t),$.depthBuffer&&$.resolveDepthBuffer===!1&&(Ce.push(He),K.push(He),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,K)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ce))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),lt)for(let _t=0;_t<k.length;_t++){t.bindFramebuffer(n.FRAMEBUFFER,vt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+_t,n.RENDERBUFFER,vt.__webglColorRenderbuffer[_t]);const Jt=i.get(k[_t]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,vt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+_t,n.TEXTURE_2D,Jt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,vt.__webglMultisampledFramebuffer)}else if($.depthBuffer&&$.resolveDepthBuffer===!1&&u){const k=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[k])}}}function Ie($){return Math.min(r.maxSamples,$.samples)}function Ze($){const k=i.get($);return $.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function Je($){const k=s.render.frame;p.get($)!==k&&(p.set($,k),$.update())}function At($,k){const _e=$.colorSpace,Ne=$.format,Ye=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||_e!==Ef&&_e!==Xu&&(Tn.getTransfer(_e)===Kn?(Ne!==pa||Ye!==tl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",_e)),k}function rt($){return typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement?(f.width=$.naturalWidth||$.width,f.height=$.naturalHeight||$.height):typeof VideoFrame<"u"&&$ instanceof VideoFrame?(f.width=$.displayWidth,f.height=$.displayHeight):(f.width=$.width,f.height=$.height),f}this.allocateTextureUnit=V,this.resetTextureUnits=J,this.setTexture2D=ee,this.setTexture2DArray=Y,this.setTexture3D=re,this.setTextureCube=ie,this.rebindTextures=De,this.setupRenderTarget=Xe,this.updateRenderTargetMipmap=fe,this.updateMultisampleRenderTarget=st,this.setupDepthRenderbuffer=Le,this.setupFrameBufferTexture=Ue,this.useMultisampledRTT=Ze}function H5(n,e){function t(i,r=Xu){let a;const s=Tn.getTransfer(r);if(i===tl)return n.UNSIGNED_BYTE;if(i===MS)return n.UNSIGNED_SHORT_4_4_4_4;if(i===ES)return n.UNSIGNED_SHORT_5_5_5_1;if(i===NO)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===BO)return n.BYTE;if(i===DO)return n.SHORT;if(i===pm)return n.UNSIGNED_SHORT;if(i===SS)return n.INT;if(i===lc)return n.UNSIGNED_INT;if(i===Qa)return n.FLOAT;if(i===Zm)return n.HALF_FLOAT;if(i===PO)return n.ALPHA;if(i===LO)return n.RGB;if(i===pa)return n.RGBA;if(i===UO)return n.LUMINANCE;if(i===IO)return n.LUMINANCE_ALPHA;if(i===id)return n.DEPTH_COMPONENT;if(i===hd)return n.DEPTH_STENCIL;if(i===TS)return n.RED;if(i===f0)return n.RED_INTEGER;if(i===FO)return n.RG;if(i===wS)return n.RG_INTEGER;if(i===CS)return n.RGBA_INTEGER;if(i===ey||i===ty||i===ny||i===iy)if(s===Kn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===ey)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===ty)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===ny)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===iy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===ey)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===ty)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===ny)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===iy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===V_||i===j_||i===q_||i===X_)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===V_)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===j_)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===q_)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===X_)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===W_||i===Y_||i===K_)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===W_||i===Y_)return s===Kn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===K_)return s===Kn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===J_||i===Z_||i===Q_||i===$_||i===eA||i===tA||i===nA||i===iA||i===rA||i===aA||i===sA||i===oA||i===lA||i===uA)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===J_)return s===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Z_)return s===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Q_)return s===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===$_)return s===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===eA)return s===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===tA)return s===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===nA)return s===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===iA)return s===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===rA)return s===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===aA)return s===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===sA)return s===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===oA)return s===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===lA)return s===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===uA)return s===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===ry||i===cA||i===fA)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===ry)return s===Kn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===cA)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===fA)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===zO||i===hA||i===dA||i===pA)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===ry)return a.COMPRESSED_RED_RGTC1_EXT;if(i===hA)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===dA)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===pA)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===fd?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const tQ=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,nQ=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class iQ{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new _i,a=e.properties.get(r);a.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new ws({vertexShader:tQ,fragmentShader:nQ,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new qi(new $m(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class rQ extends au{constructor(e,t){super();const i=this;let r=null,a=1,s=null,l="local-floor",u=1,f=null,p=null,v=null,g=null,b=null,_=null;const M=new iQ,A=t.getContextAttributes();let S=null,w=null;const C=[],R=[],D=new ke;let N=null;const L=new bi;L.viewport=new pn;const z=new bi;z.viewport=new pn;const P=[L,z],U=new C5;let H=null,J=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(oe){let Te=C[oe];return Te===void 0&&(Te=new w_,C[oe]=Te),Te.getTargetRaySpace()},this.getControllerGrip=function(oe){let Te=C[oe];return Te===void 0&&(Te=new w_,C[oe]=Te),Te.getGripSpace()},this.getHand=function(oe){let Te=C[oe];return Te===void 0&&(Te=new w_,C[oe]=Te),Te.getHandSpace()};function V(oe){const Te=R.indexOf(oe.inputSource);if(Te===-1)return;const Ue=C[Te];Ue!==void 0&&(Ue.update(oe.inputSource,oe.frame,f||s),Ue.dispatchEvent({type:oe.type,data:oe.inputSource}))}function ne(){r.removeEventListener("select",V),r.removeEventListener("selectstart",V),r.removeEventListener("selectend",V),r.removeEventListener("squeeze",V),r.removeEventListener("squeezestart",V),r.removeEventListener("squeezeend",V),r.removeEventListener("end",ne),r.removeEventListener("inputsourceschange",ee);for(let oe=0;oe<C.length;oe++){const Te=R[oe];Te!==null&&(R[oe]=null,C[oe].disconnect(Te))}H=null,J=null,M.reset(),e.setRenderTarget(S),b=null,g=null,v=null,r=null,w=null,Se.stop(),i.isPresenting=!1,e.setPixelRatio(N),e.setSize(D.width,D.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(oe){a=oe,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(oe){l=oe,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||s},this.setReferenceSpace=function(oe){f=oe},this.getBaseLayer=function(){return g!==null?g:b},this.getBinding=function(){return v},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(oe){if(r=oe,r!==null){if(S=e.getRenderTarget(),r.addEventListener("select",V),r.addEventListener("selectstart",V),r.addEventListener("selectend",V),r.addEventListener("squeeze",V),r.addEventListener("squeezestart",V),r.addEventListener("squeezeend",V),r.addEventListener("end",ne),r.addEventListener("inputsourceschange",ee),A.xrCompatible!==!0&&await t.makeXRCompatible(),N=e.getPixelRatio(),e.getSize(D),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ue=null,We=null,qe=null;A.depth&&(qe=A.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ue=A.stencil?hd:id,We=A.stencil?fd:lc);const Le={colorFormat:t.RGBA8,depthFormat:qe,scaleFactor:a};v=new XRWebGLBinding(r,t),g=v.createProjectionLayer(Le),r.updateRenderState({layers:[g]}),e.setPixelRatio(1),e.setSize(g.textureWidth,g.textureHeight,!1),w=new nu(g.textureWidth,g.textureHeight,{format:pa,type:tl,depthTexture:new QO(g.textureWidth,g.textureHeight,We,void 0,void 0,void 0,void 0,void 0,void 0,Ue),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}else{const Ue={antialias:A.antialias,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:a};b=new XRWebGLLayer(r,t,Ue),r.updateRenderState({baseLayer:b}),e.setPixelRatio(1),e.setSize(b.framebufferWidth,b.framebufferHeight,!1),w=new nu(b.framebufferWidth,b.framebufferHeight,{format:pa,type:tl,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(u),f=null,s=await r.requestReferenceSpace(l),Se.setContext(r),Se.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return M.getDepthTexture()};function ee(oe){for(let Te=0;Te<oe.removed.length;Te++){const Ue=oe.removed[Te],We=R.indexOf(Ue);We>=0&&(R[We]=null,C[We].disconnect(Ue))}for(let Te=0;Te<oe.added.length;Te++){const Ue=oe.added[Te];let We=R.indexOf(Ue);if(We===-1){for(let Le=0;Le<C.length;Le++)if(Le>=R.length){R.push(Ue),We=Le;break}else if(R[Le]===null){R[Le]=Ue,We=Le;break}if(We===-1)break}const qe=C[We];qe&&qe.connect(Ue)}}const Y=new Q,re=new Q;function ie(oe,Te,Ue){Y.setFromMatrixPosition(Te.matrixWorld),re.setFromMatrixPosition(Ue.matrixWorld);const We=Y.distanceTo(re),qe=Te.projectionMatrix.elements,Le=Ue.projectionMatrix.elements,De=qe[14]/(qe[10]-1),Xe=qe[14]/(qe[10]+1),fe=(qe[9]+1)/qe[5],Ce=(qe[9]-1)/qe[5],K=(qe[8]-1)/qe[0],st=(Le[8]+1)/Le[0],Ie=De*K,Ze=De*st,Je=We/(-K+st),At=Je*-K;if(Te.matrixWorld.decompose(oe.position,oe.quaternion,oe.scale),oe.translateX(At),oe.translateZ(Je),oe.matrixWorld.compose(oe.position,oe.quaternion,oe.scale),oe.matrixWorldInverse.copy(oe.matrixWorld).invert(),qe[10]===-1)oe.projectionMatrix.copy(Te.projectionMatrix),oe.projectionMatrixInverse.copy(Te.projectionMatrixInverse);else{const rt=De+Je,$=Xe+Je,k=Ie-At,_e=Ze+(We-At),Ne=fe*Xe/$*rt,Ye=Ce*Xe/$*rt;oe.projectionMatrix.makePerspective(k,_e,Ne,Ye,rt,$),oe.projectionMatrixInverse.copy(oe.projectionMatrix).invert()}}function he(oe,Te){Te===null?oe.matrixWorld.copy(oe.matrix):oe.matrixWorld.multiplyMatrices(Te.matrixWorld,oe.matrix),oe.matrixWorldInverse.copy(oe.matrixWorld).invert()}this.updateCamera=function(oe){if(r===null)return;let Te=oe.near,Ue=oe.far;M.texture!==null&&(M.depthNear>0&&(Te=M.depthNear),M.depthFar>0&&(Ue=M.depthFar)),U.near=z.near=L.near=Te,U.far=z.far=L.far=Ue,(H!==U.near||J!==U.far)&&(r.updateRenderState({depthNear:U.near,depthFar:U.far}),H=U.near,J=U.far),L.layers.mask=oe.layers.mask|2,z.layers.mask=oe.layers.mask|4,U.layers.mask=L.layers.mask|z.layers.mask;const We=oe.parent,qe=U.cameras;he(U,We);for(let Le=0;Le<qe.length;Le++)he(qe[Le],We);qe.length===2?ie(U,L,z):U.projectionMatrix.copy(L.projectionMatrix),q(oe,U,We)};function q(oe,Te,Ue){Ue===null?oe.matrix.copy(Te.matrixWorld):(oe.matrix.copy(Ue.matrixWorld),oe.matrix.invert(),oe.matrix.multiply(Te.matrixWorld)),oe.matrix.decompose(oe.position,oe.quaternion,oe.scale),oe.updateMatrixWorld(!0),oe.projectionMatrix.copy(Te.projectionMatrix),oe.projectionMatrixInverse.copy(Te.projectionMatrixInverse),oe.isPerspectiveCamera&&(oe.fov=gm*2*Math.atan(1/oe.projectionMatrix.elements[5]),oe.zoom=1)}this.getCamera=function(){return U},this.getFoveation=function(){if(!(g===null&&b===null))return u},this.setFoveation=function(oe){u=oe,g!==null&&(g.fixedFoveation=oe),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=oe)},this.hasDepthSensing=function(){return M.texture!==null},this.getDepthSensingMesh=function(){return M.getMesh(U)};let se=null;function pe(oe,Te){if(p=Te.getViewerPose(f||s),_=Te,p!==null){const Ue=p.views;b!==null&&(e.setRenderTargetFramebuffer(w,b.framebuffer),e.setRenderTarget(w));let We=!1;Ue.length!==U.cameras.length&&(U.cameras.length=0,We=!0);for(let De=0;De<Ue.length;De++){const Xe=Ue[De];let fe=null;if(b!==null)fe=b.getViewport(Xe);else{const K=v.getViewSubImage(g,Xe);fe=K.viewport,De===0&&(e.setRenderTargetTextures(w,K.colorTexture,g.ignoreDepthValues?void 0:K.depthStencilTexture),e.setRenderTarget(w))}let Ce=P[De];Ce===void 0&&(Ce=new bi,Ce.layers.enable(De),Ce.viewport=new pn,P[De]=Ce),Ce.matrix.fromArray(Xe.transform.matrix),Ce.matrix.decompose(Ce.position,Ce.quaternion,Ce.scale),Ce.projectionMatrix.fromArray(Xe.projectionMatrix),Ce.projectionMatrixInverse.copy(Ce.projectionMatrix).invert(),Ce.viewport.set(fe.x,fe.y,fe.width,fe.height),De===0&&(U.matrix.copy(Ce.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale)),We===!0&&U.cameras.push(Ce)}const qe=r.enabledFeatures;if(qe&&qe.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&v){const De=v.getDepthInformation(Ue[0]);De&&De.isValid&&De.texture&&M.init(e,De,r.renderState)}}for(let Ue=0;Ue<C.length;Ue++){const We=R[Ue],qe=C[Ue];We!==null&&qe!==void 0&&qe.update(We,Te,f||s)}se&&se(oe,Te),Te.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Te}),_=null}const Se=new L5;Se.setAnimationLoop(pe),this.setAnimationLoop=function(oe){se=oe},this.dispose=function(){}}}const Lh=new ts,aQ=new Lt;function sQ(n,e){function t(A,S){A.matrixAutoUpdate===!0&&A.updateMatrix(),S.value.copy(A.matrix)}function i(A,S){S.color.getRGB(A.fogColor.value,VG(n)),S.isFog?(A.fogNear.value=S.near,A.fogFar.value=S.far):S.isFogExp2&&(A.fogDensity.value=S.density)}function r(A,S,w,C,R){S.isMeshBasicMaterial||S.isMeshLambertMaterial?a(A,S):S.isMeshToonMaterial?(a(A,S),v(A,S)):S.isMeshPhongMaterial?(a(A,S),p(A,S)):S.isMeshStandardMaterial?(a(A,S),g(A,S),S.isMeshPhysicalMaterial&&b(A,S,R)):S.isMeshMatcapMaterial?(a(A,S),_(A,S)):S.isMeshDepthMaterial?a(A,S):S.isMeshDistanceMaterial?(a(A,S),M(A,S)):S.isMeshNormalMaterial?a(A,S):S.isLineBasicMaterial?(s(A,S),S.isLineDashedMaterial&&l(A,S)):S.isPointsMaterial?u(A,S,w,C):S.isSpriteMaterial?f(A,S):S.isShadowMaterial?(A.color.value.copy(S.color),A.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function a(A,S){A.opacity.value=S.opacity,S.color&&A.diffuse.value.copy(S.color),S.emissive&&A.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(A.map.value=S.map,t(S.map,A.mapTransform)),S.alphaMap&&(A.alphaMap.value=S.alphaMap,t(S.alphaMap,A.alphaMapTransform)),S.bumpMap&&(A.bumpMap.value=S.bumpMap,t(S.bumpMap,A.bumpMapTransform),A.bumpScale.value=S.bumpScale,S.side===Na&&(A.bumpScale.value*=-1)),S.normalMap&&(A.normalMap.value=S.normalMap,t(S.normalMap,A.normalMapTransform),A.normalScale.value.copy(S.normalScale),S.side===Na&&A.normalScale.value.negate()),S.displacementMap&&(A.displacementMap.value=S.displacementMap,t(S.displacementMap,A.displacementMapTransform),A.displacementScale.value=S.displacementScale,A.displacementBias.value=S.displacementBias),S.emissiveMap&&(A.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,A.emissiveMapTransform)),S.specularMap&&(A.specularMap.value=S.specularMap,t(S.specularMap,A.specularMapTransform)),S.alphaTest>0&&(A.alphaTest.value=S.alphaTest);const w=e.get(S),C=w.envMap,R=w.envMapRotation;C&&(A.envMap.value=C,Lh.copy(R),Lh.x*=-1,Lh.y*=-1,Lh.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(Lh.y*=-1,Lh.z*=-1),A.envMapRotation.value.setFromMatrix4(aQ.makeRotationFromEuler(Lh)),A.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=S.reflectivity,A.ior.value=S.ior,A.refractionRatio.value=S.refractionRatio),S.lightMap&&(A.lightMap.value=S.lightMap,A.lightMapIntensity.value=S.lightMapIntensity,t(S.lightMap,A.lightMapTransform)),S.aoMap&&(A.aoMap.value=S.aoMap,A.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,A.aoMapTransform))}function s(A,S){A.diffuse.value.copy(S.color),A.opacity.value=S.opacity,S.map&&(A.map.value=S.map,t(S.map,A.mapTransform))}function l(A,S){A.dashSize.value=S.dashSize,A.totalSize.value=S.dashSize+S.gapSize,A.scale.value=S.scale}function u(A,S,w,C){A.diffuse.value.copy(S.color),A.opacity.value=S.opacity,A.size.value=S.size*w,A.scale.value=C*.5,S.map&&(A.map.value=S.map,t(S.map,A.uvTransform)),S.alphaMap&&(A.alphaMap.value=S.alphaMap,t(S.alphaMap,A.alphaMapTransform)),S.alphaTest>0&&(A.alphaTest.value=S.alphaTest)}function f(A,S){A.diffuse.value.copy(S.color),A.opacity.value=S.opacity,A.rotation.value=S.rotation,S.map&&(A.map.value=S.map,t(S.map,A.mapTransform)),S.alphaMap&&(A.alphaMap.value=S.alphaMap,t(S.alphaMap,A.alphaMapTransform)),S.alphaTest>0&&(A.alphaTest.value=S.alphaTest)}function p(A,S){A.specular.value.copy(S.specular),A.shininess.value=Math.max(S.shininess,1e-4)}function v(A,S){S.gradientMap&&(A.gradientMap.value=S.gradientMap)}function g(A,S){A.metalness.value=S.metalness,S.metalnessMap&&(A.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,A.metalnessMapTransform)),A.roughness.value=S.roughness,S.roughnessMap&&(A.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,A.roughnessMapTransform)),S.envMap&&(A.envMapIntensity.value=S.envMapIntensity)}function b(A,S,w){A.ior.value=S.ior,S.sheen>0&&(A.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),A.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(A.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,A.sheenColorMapTransform)),S.sheenRoughnessMap&&(A.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,A.sheenRoughnessMapTransform))),S.clearcoat>0&&(A.clearcoat.value=S.clearcoat,A.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(A.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,A.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(A.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===Na&&A.clearcoatNormalScale.value.negate())),S.dispersion>0&&(A.dispersion.value=S.dispersion),S.iridescence>0&&(A.iridescence.value=S.iridescence,A.iridescenceIOR.value=S.iridescenceIOR,A.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(A.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,A.iridescenceMapTransform)),S.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),S.transmission>0&&(A.transmission.value=S.transmission,A.transmissionSamplerMap.value=w.texture,A.transmissionSamplerSize.value.set(w.width,w.height),S.transmissionMap&&(A.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,A.transmissionMapTransform)),A.thickness.value=S.thickness,S.thicknessMap&&(A.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=S.attenuationDistance,A.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(A.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(A.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=S.specularIntensity,A.specularColor.value.copy(S.specularColor),S.specularColorMap&&(A.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,A.specularColorMapTransform)),S.specularIntensityMap&&(A.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,A.specularIntensityMapTransform))}function _(A,S){S.matcap&&(A.matcap.value=S.matcap)}function M(A,S){const w=e.get(S).light;A.referencePosition.value.setFromMatrixPosition(w.matrixWorld),A.nearDistance.value=w.shadow.camera.near,A.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function oQ(n,e,t,i){let r={},a={},s=[];const l=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(w,C){const R=C.program;i.uniformBlockBinding(w,R)}function f(w,C){let R=r[w.id];R===void 0&&(_(w),R=p(w),r[w.id]=R,w.addEventListener("dispose",A));const D=C.program;i.updateUBOMapping(w,D);const N=e.render.frame;a[w.id]!==N&&(g(w),a[w.id]=N)}function p(w){const C=v();w.__bindingPointIndex=C;const R=n.createBuffer(),D=w.__size,N=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,R),n.bufferData(n.UNIFORM_BUFFER,D,N),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,C,R),R}function v(){for(let w=0;w<l;w++)if(s.indexOf(w)===-1)return s.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(w){const C=r[w.id],R=w.uniforms,D=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,C);for(let N=0,L=R.length;N<L;N++){const z=Array.isArray(R[N])?R[N]:[R[N]];for(let P=0,U=z.length;P<U;P++){const H=z[P];if(b(H,N,P,D)===!0){const J=H.__offset,V=Array.isArray(H.value)?H.value:[H.value];let ne=0;for(let ee=0;ee<V.length;ee++){const Y=V[ee],re=M(Y);typeof Y=="number"||typeof Y=="boolean"?(H.__data[0]=Y,n.bufferSubData(n.UNIFORM_BUFFER,J+ne,H.__data)):Y.isMatrix3?(H.__data[0]=Y.elements[0],H.__data[1]=Y.elements[1],H.__data[2]=Y.elements[2],H.__data[3]=0,H.__data[4]=Y.elements[3],H.__data[5]=Y.elements[4],H.__data[6]=Y.elements[5],H.__data[7]=0,H.__data[8]=Y.elements[6],H.__data[9]=Y.elements[7],H.__data[10]=Y.elements[8],H.__data[11]=0):(Y.toArray(H.__data,ne),ne+=re.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,J,H.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function b(w,C,R,D){const N=w.value,L=C+"_"+R;if(D[L]===void 0)return typeof N=="number"||typeof N=="boolean"?D[L]=N:D[L]=N.clone(),!0;{const z=D[L];if(typeof N=="number"||typeof N=="boolean"){if(z!==N)return D[L]=N,!0}else if(z.equals(N)===!1)return z.copy(N),!0}return!1}function _(w){const C=w.uniforms;let R=0;const D=16;for(let L=0,z=C.length;L<z;L++){const P=Array.isArray(C[L])?C[L]:[C[L]];for(let U=0,H=P.length;U<H;U++){const J=P[U],V=Array.isArray(J.value)?J.value:[J.value];for(let ne=0,ee=V.length;ne<ee;ne++){const Y=V[ne],re=M(Y),ie=R%D,he=ie%re.boundary,q=ie+he;R+=he,q!==0&&D-q<re.storage&&(R+=D-q),J.__data=new Float32Array(re.storage/Float32Array.BYTES_PER_ELEMENT),J.__offset=R,R+=re.storage}}}const N=R%D;return N>0&&(R+=D-N),w.__size=R,w.__cache={},this}function M(w){const C={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(C.boundary=4,C.storage=4):w.isVector2?(C.boundary=8,C.storage=8):w.isVector3||w.isColor?(C.boundary=16,C.storage=12):w.isVector4?(C.boundary=16,C.storage=16):w.isMatrix3?(C.boundary=48,C.storage=48):w.isMatrix4?(C.boundary=64,C.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),C}function A(w){const C=w.target;C.removeEventListener("dispose",A);const R=s.indexOf(C.__bindingPointIndex);s.splice(R,1),n.deleteBuffer(r[C.id]),delete r[C.id],delete a[C.id]}function S(){for(const w in r)n.deleteBuffer(r[w]);s=[],r={},a={}}return{bind:u,update:f,dispose:S}}class G5{constructor(e={}){const{canvas:t=HG(),context:i=null,depth:r=!0,stencil:a=!1,alpha:s=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:f=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:v=!1,reverseDepthBuffer:g=!1}=e;this.isWebGLRenderer=!0;let b;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=i.getContextAttributes().alpha}else b=s;const _=new Uint32Array(4),M=new Int32Array(4);let A=null,S=null;const w=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=fa,this.toneMapping=Kl,this.toneMappingExposure=1;const R=this;let D=!1,N=0,L=0,z=null,P=-1,U=null;const H=new pn,J=new pn;let V=null;const ne=new dt(0);let ee=0,Y=t.width,re=t.height,ie=1,he=null,q=null;const se=new pn(0,0,Y,re),pe=new pn(0,0,Y,re);let Se=!1;const oe=new v0;let Te=!1,Ue=!1;this.transmissionResolutionScale=1;const We=new Lt,qe=new Lt,Le=new Q,De=new pn,Xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let fe=!1;function Ce(){return z===null?ie:1}let K=i;function st(j,de){return t.getContext(j,de)}try{const j={alpha:!0,depth:r,stencil:a,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:f,powerPreference:p,failIfMajorPerformanceCaveat:v};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Km}`),t.addEventListener("webglcontextlost",Ge,!1),t.addEventListener("webglcontextrestored",ct,!1),t.addEventListener("webglcontextcreationerror",ht,!1),K===null){const de="webgl2";if(K=st(de,j),K===null)throw st(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(j){throw console.error("THREE.WebGLRenderer: "+j.message),j}let Ie,Ze,Je,At,rt,$,k,_e,Ne,Ye,He,vt,lt,_t,Jt,tt,St,Tt,Mt,xt,ce,Pe,ft,ue;function it(){Ie=new bJ(K),Ie.init(),Pe=new H5(K,Ie),Ze=new hJ(K,Ie,e,Pe),Je=new $Z(K,Ie),Ze.reverseDepthBuffer&&g&&Je.buffers.depth.setReversed(!0),At=new AJ(K),rt=new HZ,$=new eQ(K,Ie,Je,rt,Ze,Pe,At),k=new pJ(R),_e=new yJ(R),Ne=new CW(K),ft=new cJ(K,Ne),Ye=new xJ(K,Ne,At,ft),He=new MJ(K,Ye,Ne,At),Mt=new SJ(K,Ze,$),tt=new dJ(rt),vt=new zZ(R,k,_e,Ie,Ze,ft,tt),lt=new sQ(R,rt),_t=new kZ,Jt=new YZ(Ie),Tt=new uJ(R,k,_e,Je,He,b,u),St=new ZZ(R,He,Ze),ue=new oQ(K,At,Ze,Je),xt=new fJ(K,Ie,At),ce=new _J(K,Ie,At),At.programs=vt.programs,R.capabilities=Ze,R.extensions=Ie,R.properties=rt,R.renderLists=_t,R.shadowMap=St,R.state=Je,R.info=At}it();const Be=new rQ(R,K);this.xr=Be,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const j=Ie.get("WEBGL_lose_context");j&&j.loseContext()},this.forceContextRestore=function(){const j=Ie.get("WEBGL_lose_context");j&&j.restoreContext()},this.getPixelRatio=function(){return ie},this.setPixelRatio=function(j){j!==void 0&&(ie=j,this.setSize(Y,re,!1))},this.getSize=function(j){return j.set(Y,re)},this.setSize=function(j,de,Ee=!0){if(Be.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Y=j,re=de,t.width=Math.floor(j*ie),t.height=Math.floor(de*ie),Ee===!0&&(t.style.width=j+"px",t.style.height=de+"px"),this.setViewport(0,0,j,de)},this.getDrawingBufferSize=function(j){return j.set(Y*ie,re*ie).floor()},this.setDrawingBufferSize=function(j,de,Ee){Y=j,re=de,ie=Ee,t.width=Math.floor(j*Ee),t.height=Math.floor(de*Ee),this.setViewport(0,0,j,de)},this.getCurrentViewport=function(j){return j.copy(H)},this.getViewport=function(j){return j.copy(se)},this.setViewport=function(j,de,Ee,Ae){j.isVector4?se.set(j.x,j.y,j.z,j.w):se.set(j,de,Ee,Ae),Je.viewport(H.copy(se).multiplyScalar(ie).round())},this.getScissor=function(j){return j.copy(pe)},this.setScissor=function(j,de,Ee,Ae){j.isVector4?pe.set(j.x,j.y,j.z,j.w):pe.set(j,de,Ee,Ae),Je.scissor(J.copy(pe).multiplyScalar(ie).round())},this.getScissorTest=function(){return Se},this.setScissorTest=function(j){Je.setScissorTest(Se=j)},this.setOpaqueSort=function(j){he=j},this.setTransparentSort=function(j){q=j},this.getClearColor=function(j){return j.copy(Tt.getClearColor())},this.setClearColor=function(){Tt.setClearColor(...arguments)},this.getClearAlpha=function(){return Tt.getClearAlpha()},this.setClearAlpha=function(){Tt.setClearAlpha(...arguments)},this.clear=function(j=!0,de=!0,Ee=!0){let Ae=0;if(j){let ge=!1;if(z!==null){const Qe=z.texture.format;ge=Qe===CS||Qe===wS||Qe===f0}if(ge){const Qe=z.texture.type,ot=Qe===tl||Qe===lc||Qe===pm||Qe===fd||Qe===MS||Qe===ES,yt=Tt.getClearColor(),gt=Tt.getClearAlpha(),zt=yt.r,Ht=yt.g,Dt=yt.b;ot?(_[0]=zt,_[1]=Ht,_[2]=Dt,_[3]=gt,K.clearBufferuiv(K.COLOR,0,_)):(M[0]=zt,M[1]=Ht,M[2]=Dt,M[3]=gt,K.clearBufferiv(K.COLOR,0,M))}else Ae|=K.COLOR_BUFFER_BIT}de&&(Ae|=K.DEPTH_BUFFER_BIT),Ee&&(Ae|=K.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),K.clear(Ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ge,!1),t.removeEventListener("webglcontextrestored",ct,!1),t.removeEventListener("webglcontextcreationerror",ht,!1),Tt.dispose(),_t.dispose(),Jt.dispose(),rt.dispose(),k.dispose(),_e.dispose(),He.dispose(),ft.dispose(),ue.dispose(),vt.dispose(),Be.dispose(),Be.removeEventListener("sessionstart",Pf),Be.removeEventListener("sessionend",ou),Pa.stop()};function Ge(j){j.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),D=!0}function ct(){console.log("THREE.WebGLRenderer: Context Restored."),D=!1;const j=At.autoReset,de=St.enabled,Ee=St.autoUpdate,Ae=St.needsUpdate,ge=St.type;it(),At.autoReset=j,St.enabled=de,St.autoUpdate=Ee,St.needsUpdate=Ae,St.type=ge}function ht(j){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",j.statusMessage)}function Rt(j){const de=j.target;de.removeEventListener("dispose",Rt),un(de)}function un(j){In(j),rt.remove(j)}function In(j){const de=rt.get(j).programs;de!==void 0&&(de.forEach(function(Ee){vt.releaseProgram(Ee)}),j.isShaderMaterial&&vt.releaseShaderCache(j))}this.renderBufferDirect=function(j,de,Ee,Ae,ge,Qe){de===null&&(de=Xe);const ot=ge.isMesh&&ge.matrixWorld.determinant()<0,yt=Pd(j,de,Ee,Ae,ge);Je.setMaterial(Ae,ot);let gt=Ee.index,zt=1;if(Ae.wireframe===!0){if(gt=Ye.getWireframeAttribute(Ee),gt===void 0)return;zt=2}const Ht=Ee.drawRange,Dt=Ee.attributes.position;let mn=Ht.start*zt,vn=(Ht.start+Ht.count)*zt;Qe!==null&&(mn=Math.max(mn,Qe.start*zt),vn=Math.min(vn,(Qe.start+Qe.count)*zt)),gt!==null?(mn=Math.max(mn,0),vn=Math.min(vn,gt.count)):Dt!=null&&(mn=Math.max(mn,0),vn=Math.min(vn,Dt.count));const Zn=vn-mn;if(Zn<0||Zn===1/0)return;ft.setup(ge,Ae,yt,Ee,gt);let _n,jt=xt;if(gt!==null&&(_n=Ne.get(gt),jt=ce,jt.setIndex(_n)),ge.isMesh)Ae.wireframe===!0?(Je.setLineWidth(Ae.wireframeLinewidth*Ce()),jt.setMode(K.LINES)):jt.setMode(K.TRIANGLES);else if(ge.isLine){let Nt=Ae.linewidth;Nt===void 0&&(Nt=1),Je.setLineWidth(Nt*Ce()),ge.isLineSegments?jt.setMode(K.LINES):ge.isLineLoop?jt.setMode(K.LINE_LOOP):jt.setMode(K.LINE_STRIP)}else ge.isPoints?jt.setMode(K.POINTS):ge.isSprite&&jt.setMode(K.TRIANGLES);if(ge.isBatchedMesh)if(ge._multiDrawInstances!==null)Gh("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),jt.renderMultiDrawInstances(ge._multiDrawStarts,ge._multiDrawCounts,ge._multiDrawCount,ge._multiDrawInstances);else if(Ie.get("WEBGL_multi_draw"))jt.renderMultiDraw(ge._multiDrawStarts,ge._multiDrawCounts,ge._multiDrawCount);else{const Nt=ge._multiDrawStarts,Pi=ge._multiDrawCounts,gn=ge._multiDrawCount,Pr=gt?Ne.get(gt).bytesPerElement:1,ya=rt.get(Ae).currentProgram.getUniforms();for(let br=0;br<gn;br++)ya.setValue(K,"_gl_DrawID",br),jt.render(Nt[br]/Pr,Pi[br])}else if(ge.isInstancedMesh)jt.renderInstances(mn,Zn,ge.count);else if(Ee.isInstancedBufferGeometry){const Nt=Ee._maxInstanceCount!==void 0?Ee._maxInstanceCount:1/0,Pi=Math.min(Ee.instanceCount,Nt);jt.renderInstances(mn,Zn,Pi)}else jt.render(mn,Zn)};function Zt(j,de,Ee){j.transparent===!0&&j.side===Qs&&j.forceSinglePass===!1?(j.side=Na,j.needsUpdate=!0,tn(j,de,Ee),j.side=tu,j.needsUpdate=!0,tn(j,de,Ee),j.side=Qs):tn(j,de,Ee)}this.compile=function(j,de,Ee=null){Ee===null&&(Ee=j),S=Jt.get(Ee),S.init(de),C.push(S),Ee.traverseVisible(function(ge){ge.isLight&&ge.layers.test(de.layers)&&(S.pushLight(ge),ge.castShadow&&S.pushShadow(ge))}),j!==Ee&&j.traverseVisible(function(ge){ge.isLight&&ge.layers.test(de.layers)&&(S.pushLight(ge),ge.castShadow&&S.pushShadow(ge))}),S.setupLights();const Ae=new Set;return j.traverse(function(ge){if(!(ge.isMesh||ge.isPoints||ge.isLine||ge.isSprite))return;const Qe=ge.material;if(Qe)if(Array.isArray(Qe))for(let ot=0;ot<Qe.length;ot++){const yt=Qe[ot];Zt(yt,Ee,ge),Ae.add(yt)}else Zt(Qe,Ee,ge),Ae.add(Qe)}),S=C.pop(),Ae},this.compileAsync=function(j,de,Ee=null){const Ae=this.compile(j,de,Ee);return new Promise(ge=>{function Qe(){if(Ae.forEach(function(ot){rt.get(ot).currentProgram.isReady()&&Ae.delete(ot)}),Ae.size===0){ge(j);return}setTimeout(Qe,10)}Ie.get("KHR_parallel_shader_compile")!==null?Qe():setTimeout(Qe,10)})};let di=null;function Ai(j){di&&di(j)}function Pf(){Pa.stop()}function ou(){Pa.start()}const Pa=new L5;Pa.setAnimationLoop(Ai),typeof self<"u"&&Pa.setContext(self),this.setAnimationLoop=function(j){di=j,Be.setAnimationLoop(j),j===null?Pa.stop():Pa.start()},Be.addEventListener("sessionstart",Pf),Be.addEventListener("sessionend",ou),this.render=function(j,de){if(de!==void 0&&de.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(D===!0)return;if(j.matrixWorldAutoUpdate===!0&&j.updateMatrixWorld(),de.parent===null&&de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),Be.enabled===!0&&Be.isPresenting===!0&&(Be.cameraAutoUpdate===!0&&Be.updateCamera(de),de=Be.getCamera()),j.isScene===!0&&j.onBeforeRender(R,j,de,z),S=Jt.get(j,C.length),S.init(de),C.push(S),qe.multiplyMatrices(de.projectionMatrix,de.matrixWorldInverse),oe.setFromProjectionMatrix(qe),Ue=this.localClippingEnabled,Te=tt.init(this.clippingPlanes,Ue),A=_t.get(j,w.length),A.init(),w.push(A),Be.enabled===!0&&Be.isPresenting===!0){const Qe=R.xr.getDepthSensingMesh();Qe!==null&&ga(Qe,de,-1/0,R.sortObjects)}ga(j,de,0,R.sortObjects),A.finish(),R.sortObjects===!0&&A.sort(he,q),fe=Be.enabled===!1||Be.isPresenting===!1||Be.hasDepthSensing()===!1,fe&&Tt.addToRenderList(A,j),this.info.render.frame++,Te===!0&&tt.beginShadows();const Ee=S.state.shadowsArray;St.render(Ee,j,de),Te===!0&&tt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ae=A.opaque,ge=A.transmissive;if(S.setupLights(),de.isArrayCamera){const Qe=de.cameras;if(ge.length>0)for(let ot=0,yt=Qe.length;ot<yt;ot++){const gt=Qe[ot];is(Ae,ge,j,gt)}fe&&Tt.render(j);for(let ot=0,yt=Qe.length;ot<yt;ot++){const gt=Qe[ot];yc(A,j,gt,gt.viewport)}}else ge.length>0&&is(Ae,ge,j,de),fe&&Tt.render(j),yc(A,j,de);z!==null&&L===0&&($.updateMultisampleRenderTarget(z),$.updateRenderTargetMipmap(z)),j.isScene===!0&&j.onAfterRender(R,j,de),ft.resetDefaultState(),P=-1,U=null,C.pop(),C.length>0?(S=C[C.length-1],Te===!0&&tt.setGlobalState(R.clippingPlanes,S.state.camera)):S=null,w.pop(),w.length>0?A=w[w.length-1]:A=null};function ga(j,de,Ee,Ae){if(j.visible===!1)return;if(j.layers.test(de.layers)){if(j.isGroup)Ee=j.renderOrder;else if(j.isLOD)j.autoUpdate===!0&&j.update(de);else if(j.isLight)S.pushLight(j),j.castShadow&&S.pushShadow(j);else if(j.isSprite){if(!j.frustumCulled||oe.intersectsSprite(j)){Ae&&De.setFromMatrixPosition(j.matrixWorld).applyMatrix4(qe);const ot=He.update(j),yt=j.material;yt.visible&&A.push(j,ot,yt,Ee,De.z,null)}}else if((j.isMesh||j.isLine||j.isPoints)&&(!j.frustumCulled||oe.intersectsObject(j))){const ot=He.update(j),yt=j.material;if(Ae&&(j.boundingSphere!==void 0?(j.boundingSphere===null&&j.computeBoundingSphere(),De.copy(j.boundingSphere.center)):(ot.boundingSphere===null&&ot.computeBoundingSphere(),De.copy(ot.boundingSphere.center)),De.applyMatrix4(j.matrixWorld).applyMatrix4(qe)),Array.isArray(yt)){const gt=ot.groups;for(let zt=0,Ht=gt.length;zt<Ht;zt++){const Dt=gt[zt],mn=yt[Dt.materialIndex];mn&&mn.visible&&A.push(j,ot,mn,Ee,De.z,Dt)}}else yt.visible&&A.push(j,ot,yt,Ee,De.z,null)}}const Qe=j.children;for(let ot=0,yt=Qe.length;ot<yt;ot++)ga(Qe[ot],de,Ee,Ae)}function yc(j,de,Ee,Ae){const ge=j.opaque,Qe=j.transmissive,ot=j.transparent;S.setupLightsView(Ee),Te===!0&&tt.setGlobalState(R.clippingPlanes,Ee),Ae&&Je.viewport(H.copy(Ae)),ge.length>0&&Si(ge,de,Ee),Qe.length>0&&Si(Qe,de,Ee),ot.length>0&&Si(ot,de,Ee),Je.buffers.depth.setTest(!0),Je.buffers.depth.setMask(!0),Je.buffers.color.setMask(!0),Je.setPolygonOffset(!1)}function is(j,de,Ee,Ae){if((Ee.isScene===!0?Ee.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[Ae.id]===void 0&&(S.state.transmissionRenderTarget[Ae.id]=new nu(1,1,{generateMipmaps:!0,type:Ie.has("EXT_color_buffer_half_float")||Ie.has("EXT_color_buffer_float")?Zm:tl,minFilter:$s,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Tn.workingColorSpace}));const Qe=S.state.transmissionRenderTarget[Ae.id],ot=Ae.viewport||H;Qe.setSize(ot.z*R.transmissionResolutionScale,ot.w*R.transmissionResolutionScale);const yt=R.getRenderTarget();R.setRenderTarget(Qe),R.getClearColor(ne),ee=R.getClearAlpha(),ee<1&&R.setClearColor(16777215,.5),R.clear(),fe&&Tt.render(Ee);const gt=R.toneMapping;R.toneMapping=Kl;const zt=Ae.viewport;if(Ae.viewport!==void 0&&(Ae.viewport=void 0),S.setupLightsView(Ae),Te===!0&&tt.setGlobalState(R.clippingPlanes,Ae),Si(j,Ee,Ae),$.updateMultisampleRenderTarget(Qe),$.updateRenderTargetMipmap(Qe),Ie.has("WEBGL_multisampled_render_to_texture")===!1){let Ht=!1;for(let Dt=0,mn=de.length;Dt<mn;Dt++){const vn=de[Dt],Zn=vn.object,_n=vn.geometry,jt=vn.material,Nt=vn.group;if(jt.side===Qs&&Zn.layers.test(Ae.layers)){const Pi=jt.side;jt.side=Na,jt.needsUpdate=!0,pi(Zn,Ee,Ae,_n,jt,Nt),jt.side=Pi,jt.needsUpdate=!0,Ht=!0}}Ht===!0&&($.updateMultisampleRenderTarget(Qe),$.updateRenderTargetMipmap(Qe))}R.setRenderTarget(yt),R.setClearColor(ne,ee),zt!==void 0&&(Ae.viewport=zt),R.toneMapping=gt}function Si(j,de,Ee){const Ae=de.isScene===!0?de.overrideMaterial:null;for(let ge=0,Qe=j.length;ge<Qe;ge++){const ot=j[ge],yt=ot.object,gt=ot.geometry,zt=Ae===null?ot.material:Ae,Ht=ot.group;yt.layers.test(Ee.layers)&&pi(yt,de,Ee,gt,zt,Ht)}}function pi(j,de,Ee,Ae,ge,Qe){j.onBeforeRender(R,de,Ee,Ae,ge,Qe),j.modelViewMatrix.multiplyMatrices(Ee.matrixWorldInverse,j.matrixWorld),j.normalMatrix.getNormalMatrix(j.modelViewMatrix),ge.onBeforeRender(R,de,Ee,Ae,j,Qe),ge.transparent===!0&&ge.side===Qs&&ge.forceSinglePass===!1?(ge.side=Na,ge.needsUpdate=!0,R.renderBufferDirect(Ee,de,Ae,ge,j,Qe),ge.side=tu,ge.needsUpdate=!0,R.renderBufferDirect(Ee,de,Ae,ge,j,Qe),ge.side=Qs):R.renderBufferDirect(Ee,de,Ae,ge,j,Qe),j.onAfterRender(R,de,Ee,Ae,ge,Qe)}function tn(j,de,Ee){de.isScene!==!0&&(de=Xe);const Ae=rt.get(j),ge=S.state.lights,Qe=S.state.shadowsArray,ot=ge.state.version,yt=vt.getParameters(j,ge.state,Qe,de,Ee),gt=vt.getProgramCacheKey(yt);let zt=Ae.programs;Ae.environment=j.isMeshStandardMaterial?de.environment:null,Ae.fog=de.fog,Ae.envMap=(j.isMeshStandardMaterial?_e:k).get(j.envMap||Ae.environment),Ae.envMapRotation=Ae.environment!==null&&j.envMap===null?de.environmentRotation:j.envMapRotation,zt===void 0&&(j.addEventListener("dispose",Rt),zt=new Map,Ae.programs=zt);let Ht=zt.get(gt);if(Ht!==void 0){if(Ae.currentProgram===Ht&&Ae.lightsStateVersion===ot)return sl(j,yt),Ht}else yt.uniforms=vt.getUniforms(j),j.onBeforeCompile(yt,R),Ht=vt.acquireProgram(yt,gt),zt.set(gt,Ht),Ae.uniforms=yt.uniforms;const Dt=Ae.uniforms;return(!j.isShaderMaterial&&!j.isRawShaderMaterial||j.clipping===!0)&&(Dt.clippingPlanes=tt.uniform),sl(j,yt),Ae.needsLights=Ud(j),Ae.lightsStateVersion=ot,Ae.needsLights&&(Dt.ambientLightColor.value=ge.state.ambient,Dt.lightProbe.value=ge.state.probe,Dt.directionalLights.value=ge.state.directional,Dt.directionalLightShadows.value=ge.state.directionalShadow,Dt.spotLights.value=ge.state.spot,Dt.spotLightShadows.value=ge.state.spotShadow,Dt.rectAreaLights.value=ge.state.rectArea,Dt.ltc_1.value=ge.state.rectAreaLTC1,Dt.ltc_2.value=ge.state.rectAreaLTC2,Dt.pointLights.value=ge.state.point,Dt.pointLightShadows.value=ge.state.pointShadow,Dt.hemisphereLights.value=ge.state.hemi,Dt.directionalShadowMap.value=ge.state.directionalShadowMap,Dt.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,Dt.spotShadowMap.value=ge.state.spotShadowMap,Dt.spotLightMatrix.value=ge.state.spotLightMatrix,Dt.spotLightMap.value=ge.state.spotLightMap,Dt.pointShadowMap.value=ge.state.pointShadowMap,Dt.pointShadowMatrix.value=ge.state.pointShadowMatrix),Ae.currentProgram=Ht,Ae.uniformsList=null,Ht}function rs(j){if(j.uniformsList===null){const de=j.currentProgram.getUniforms();j.uniformsList=C_.seqWithValue(de.seq,j.uniforms)}return j.uniformsList}function sl(j,de){const Ee=rt.get(j);Ee.outputColorSpace=de.outputColorSpace,Ee.batching=de.batching,Ee.batchingColor=de.batchingColor,Ee.instancing=de.instancing,Ee.instancingColor=de.instancingColor,Ee.instancingMorph=de.instancingMorph,Ee.skinning=de.skinning,Ee.morphTargets=de.morphTargets,Ee.morphNormals=de.morphNormals,Ee.morphColors=de.morphColors,Ee.morphTargetsCount=de.morphTargetsCount,Ee.numClippingPlanes=de.numClippingPlanes,Ee.numIntersection=de.numClipIntersection,Ee.vertexAlphas=de.vertexAlphas,Ee.vertexTangents=de.vertexTangents,Ee.toneMapping=de.toneMapping}function Pd(j,de,Ee,Ae,ge){de.isScene!==!0&&(de=Xe),$.resetTextureUnits();const Qe=de.fog,ot=Ae.isMeshStandardMaterial?de.environment:null,yt=z===null?R.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:Ef,gt=(Ae.isMeshStandardMaterial?_e:k).get(Ae.envMap||ot),zt=Ae.vertexColors===!0&&!!Ee.attributes.color&&Ee.attributes.color.itemSize===4,Ht=!!Ee.attributes.tangent&&(!!Ae.normalMap||Ae.anisotropy>0),Dt=!!Ee.morphAttributes.position,mn=!!Ee.morphAttributes.normal,vn=!!Ee.morphAttributes.color;let Zn=Kl;Ae.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(Zn=R.toneMapping);const _n=Ee.morphAttributes.position||Ee.morphAttributes.normal||Ee.morphAttributes.color,jt=_n!==void 0?_n.length:0,Nt=rt.get(Ae),Pi=S.state.lights;if(Te===!0&&(Ue===!0||j!==U)){const mi=j===U&&Ae.id===P;tt.setState(Ae,j,mi)}let gn=!1;Ae.version===Nt.__version?(Nt.needsLights&&Nt.lightsStateVersion!==Pi.state.version||Nt.outputColorSpace!==yt||ge.isBatchedMesh&&Nt.batching===!1||!ge.isBatchedMesh&&Nt.batching===!0||ge.isBatchedMesh&&Nt.batchingColor===!0&&ge.colorTexture===null||ge.isBatchedMesh&&Nt.batchingColor===!1&&ge.colorTexture!==null||ge.isInstancedMesh&&Nt.instancing===!1||!ge.isInstancedMesh&&Nt.instancing===!0||ge.isSkinnedMesh&&Nt.skinning===!1||!ge.isSkinnedMesh&&Nt.skinning===!0||ge.isInstancedMesh&&Nt.instancingColor===!0&&ge.instanceColor===null||ge.isInstancedMesh&&Nt.instancingColor===!1&&ge.instanceColor!==null||ge.isInstancedMesh&&Nt.instancingMorph===!0&&ge.morphTexture===null||ge.isInstancedMesh&&Nt.instancingMorph===!1&&ge.morphTexture!==null||Nt.envMap!==gt||Ae.fog===!0&&Nt.fog!==Qe||Nt.numClippingPlanes!==void 0&&(Nt.numClippingPlanes!==tt.numPlanes||Nt.numIntersection!==tt.numIntersection)||Nt.vertexAlphas!==zt||Nt.vertexTangents!==Ht||Nt.morphTargets!==Dt||Nt.morphNormals!==mn||Nt.morphColors!==vn||Nt.toneMapping!==Zn||Nt.morphTargetsCount!==jt)&&(gn=!0):(gn=!0,Nt.__version=Ae.version);let Pr=Nt.currentProgram;gn===!0&&(Pr=tn(Ae,de,ge));let ya=!1,br=!1,Xi=!1;const Fn=Pr.getUniforms(),xr=Nt.uniforms;if(Je.useProgram(Pr.program)&&(ya=!0,br=!0,Xi=!0),Ae.id!==P&&(P=Ae.id,br=!0),ya||U!==j){Je.buffers.depth.getReversed()?(We.copy(j.projectionMatrix),tq(We),nq(We),Fn.setValue(K,"projectionMatrix",We)):Fn.setValue(K,"projectionMatrix",j.projectionMatrix),Fn.setValue(K,"viewMatrix",j.matrixWorldInverse);const Qi=Fn.map.cameraPosition;Qi!==void 0&&Qi.setValue(K,Le.setFromMatrixPosition(j.matrixWorld)),Ze.logarithmicDepthBuffer&&Fn.setValue(K,"logDepthBufFC",2/(Math.log(j.far+1)/Math.LN2)),(Ae.isMeshPhongMaterial||Ae.isMeshToonMaterial||Ae.isMeshLambertMaterial||Ae.isMeshBasicMaterial||Ae.isMeshStandardMaterial||Ae.isShaderMaterial)&&Fn.setValue(K,"isOrthographic",j.isOrthographicCamera===!0),U!==j&&(U=j,br=!0,Xi=!0)}if(ge.isSkinnedMesh){Fn.setOptional(K,ge,"bindMatrix"),Fn.setOptional(K,ge,"bindMatrixInverse");const mi=ge.skeleton;mi&&(mi.boneTexture===null&&mi.computeBoneTexture(),Fn.setValue(K,"boneTexture",mi.boneTexture,$))}ge.isBatchedMesh&&(Fn.setOptional(K,ge,"batchingTexture"),Fn.setValue(K,"batchingTexture",ge._matricesTexture,$),Fn.setOptional(K,ge,"batchingIdTexture"),Fn.setValue(K,"batchingIdTexture",ge._indirectTexture,$),Fn.setOptional(K,ge,"batchingColorTexture"),ge._colorsTexture!==null&&Fn.setValue(K,"batchingColorTexture",ge._colorsTexture,$));const ar=Ee.morphAttributes;if((ar.position!==void 0||ar.normal!==void 0||ar.color!==void 0)&&Mt.update(ge,Ee,Pr),(br||Nt.receiveShadow!==ge.receiveShadow)&&(Nt.receiveShadow=ge.receiveShadow,Fn.setValue(K,"receiveShadow",ge.receiveShadow)),Ae.isMeshGouraudMaterial&&Ae.envMap!==null&&(xr.envMap.value=gt,xr.flipEnvMap.value=gt.isCubeTexture&&gt.isRenderTargetTexture===!1?-1:1),Ae.isMeshStandardMaterial&&Ae.envMap===null&&de.environment!==null&&(xr.envMapIntensity.value=de.environmentIntensity),br&&(Fn.setValue(K,"toneMappingExposure",R.toneMappingExposure),Nt.needsLights&&Ld(xr,Xi),Qe&&Ae.fog===!0&&lt.refreshFogUniforms(xr,Qe),lt.refreshMaterialUniforms(xr,Ae,ie,re,S.state.transmissionRenderTarget[j.id]),C_.upload(K,rs(Nt),xr,$)),Ae.isShaderMaterial&&Ae.uniformsNeedUpdate===!0&&(C_.upload(K,rs(Nt),xr,$),Ae.uniformsNeedUpdate=!1),Ae.isSpriteMaterial&&Fn.setValue(K,"center",ge.center),Fn.setValue(K,"modelViewMatrix",ge.modelViewMatrix),Fn.setValue(K,"normalMatrix",ge.normalMatrix),Fn.setValue(K,"modelMatrix",ge.matrixWorld),Ae.isShaderMaterial||Ae.isRawShaderMaterial){const mi=Ae.uniformsGroups;for(let Qi=0,ss=mi.length;Qi<ss;Qi++){const Lr=mi[Qi];ue.update(Lr,Pr),ue.bind(Lr,Pr)}}return Pr}function Ld(j,de){j.ambientLightColor.needsUpdate=de,j.lightProbe.needsUpdate=de,j.directionalLights.needsUpdate=de,j.directionalLightShadows.needsUpdate=de,j.pointLights.needsUpdate=de,j.pointLightShadows.needsUpdate=de,j.spotLights.needsUpdate=de,j.spotLightShadows.needsUpdate=de,j.rectAreaLights.needsUpdate=de,j.hemisphereLights.needsUpdate=de}function Ud(j){return j.isMeshLambertMaterial||j.isMeshToonMaterial||j.isMeshPhongMaterial||j.isMeshStandardMaterial||j.isShadowMaterial||j.isShaderMaterial&&j.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(j,de,Ee){rt.get(j.texture).__webglTexture=de,rt.get(j.depthTexture).__webglTexture=Ee;const Ae=rt.get(j);Ae.__hasExternalTextures=!0,Ae.__autoAllocateDepthBuffer=Ee===void 0,Ae.__autoAllocateDepthBuffer||Ie.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ae.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(j,de){const Ee=rt.get(j);Ee.__webglFramebuffer=de,Ee.__useDefaultFramebuffer=de===void 0};const so=K.createFramebuffer();this.setRenderTarget=function(j,de=0,Ee=0){z=j,N=de,L=Ee;let Ae=!0,ge=null,Qe=!1,ot=!1;if(j){const gt=rt.get(j);if(gt.__useDefaultFramebuffer!==void 0)Je.bindFramebuffer(K.FRAMEBUFFER,null),Ae=!1;else if(gt.__webglFramebuffer===void 0)$.setupRenderTarget(j);else if(gt.__hasExternalTextures)$.rebindTextures(j,rt.get(j.texture).__webglTexture,rt.get(j.depthTexture).__webglTexture);else if(j.depthBuffer){const Dt=j.depthTexture;if(gt.__boundDepthTexture!==Dt){if(Dt!==null&&rt.has(Dt)&&(j.width!==Dt.image.width||j.height!==Dt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");$.setupDepthRenderbuffer(j)}}const zt=j.texture;(zt.isData3DTexture||zt.isDataArrayTexture||zt.isCompressedArrayTexture)&&(ot=!0);const Ht=rt.get(j).__webglFramebuffer;j.isWebGLCubeRenderTarget?(Array.isArray(Ht[de])?ge=Ht[de][Ee]:ge=Ht[de],Qe=!0):j.samples>0&&$.useMultisampledRTT(j)===!1?ge=rt.get(j).__webglMultisampledFramebuffer:Array.isArray(Ht)?ge=Ht[Ee]:ge=Ht,H.copy(j.viewport),J.copy(j.scissor),V=j.scissorTest}else H.copy(se).multiplyScalar(ie).floor(),J.copy(pe).multiplyScalar(ie).floor(),V=Se;if(Ee!==0&&(ge=so),Je.bindFramebuffer(K.FRAMEBUFFER,ge)&&Ae&&Je.drawBuffers(j,ge),Je.viewport(H),Je.scissor(J),Je.setScissorTest(V),Qe){const gt=rt.get(j.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_CUBE_MAP_POSITIVE_X+de,gt.__webglTexture,Ee)}else if(ot){const gt=rt.get(j.texture),zt=de;K.framebufferTextureLayer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,gt.__webglTexture,Ee,zt)}else if(j!==null&&Ee!==0){const gt=rt.get(j.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,gt.__webglTexture,Ee)}P=-1},this.readRenderTargetPixels=function(j,de,Ee,Ae,ge,Qe,ot){if(!(j&&j.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let yt=rt.get(j).__webglFramebuffer;if(j.isWebGLCubeRenderTarget&&ot!==void 0&&(yt=yt[ot]),yt){Je.bindFramebuffer(K.FRAMEBUFFER,yt);try{const gt=j.texture,zt=gt.format,Ht=gt.type;if(!Ze.textureFormatReadable(zt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ze.textureTypeReadable(Ht)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}de>=0&&de<=j.width-Ae&&Ee>=0&&Ee<=j.height-ge&&K.readPixels(de,Ee,Ae,ge,Pe.convert(zt),Pe.convert(Ht),Qe)}finally{const gt=z!==null?rt.get(z).__webglFramebuffer:null;Je.bindFramebuffer(K.FRAMEBUFFER,gt)}}},this.readRenderTargetPixelsAsync=async function(j,de,Ee,Ae,ge,Qe,ot){if(!(j&&j.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let yt=rt.get(j).__webglFramebuffer;if(j.isWebGLCubeRenderTarget&&ot!==void 0&&(yt=yt[ot]),yt){const gt=j.texture,zt=gt.format,Ht=gt.type;if(!Ze.textureFormatReadable(zt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ze.textureTypeReadable(Ht))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(de>=0&&de<=j.width-Ae&&Ee>=0&&Ee<=j.height-ge){Je.bindFramebuffer(K.FRAMEBUFFER,yt);const Dt=K.createBuffer();K.bindBuffer(K.PIXEL_PACK_BUFFER,Dt),K.bufferData(K.PIXEL_PACK_BUFFER,Qe.byteLength,K.STREAM_READ),K.readPixels(de,Ee,Ae,ge,Pe.convert(zt),Pe.convert(Ht),0);const mn=z!==null?rt.get(z).__webglFramebuffer:null;Je.bindFramebuffer(K.FRAMEBUFFER,mn);const vn=K.fenceSync(K.SYNC_GPU_COMMANDS_COMPLETE,0);return K.flush(),await eq(K,vn,4),K.bindBuffer(K.PIXEL_PACK_BUFFER,Dt),K.getBufferSubData(K.PIXEL_PACK_BUFFER,0,Qe),K.deleteBuffer(Dt),K.deleteSync(vn),Qe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(j,de=null,Ee=0){j.isTexture!==!0&&(Gh("WebGLRenderer: copyFramebufferToTexture function signature has changed."),de=arguments[0]||null,j=arguments[1]);const Ae=Math.pow(2,-Ee),ge=Math.floor(j.image.width*Ae),Qe=Math.floor(j.image.height*Ae),ot=de!==null?de.x:0,yt=de!==null?de.y:0;$.setTexture2D(j,0),K.copyTexSubImage2D(K.TEXTURE_2D,Ee,0,0,ot,yt,ge,Qe),Je.unbindTexture()};const lu=K.createFramebuffer(),as=K.createFramebuffer();this.copyTextureToTexture=function(j,de,Ee=null,Ae=null,ge=0,Qe=null){j.isTexture!==!0&&(Gh("WebGLRenderer: copyTextureToTexture function signature has changed."),Ae=arguments[0]||null,j=arguments[1],de=arguments[2],Qe=arguments[3]||0,Ee=null),Qe===null&&(ge!==0?(Gh("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Qe=ge,ge=0):Qe=0);let ot,yt,gt,zt,Ht,Dt,mn,vn,Zn;const _n=j.isCompressedTexture?j.mipmaps[Qe]:j.image;if(Ee!==null)ot=Ee.max.x-Ee.min.x,yt=Ee.max.y-Ee.min.y,gt=Ee.isBox3?Ee.max.z-Ee.min.z:1,zt=Ee.min.x,Ht=Ee.min.y,Dt=Ee.isBox3?Ee.min.z:0;else{const ar=Math.pow(2,-ge);ot=Math.floor(_n.width*ar),yt=Math.floor(_n.height*ar),j.isDataArrayTexture?gt=_n.depth:j.isData3DTexture?gt=Math.floor(_n.depth*ar):gt=1,zt=0,Ht=0,Dt=0}Ae!==null?(mn=Ae.x,vn=Ae.y,Zn=Ae.z):(mn=0,vn=0,Zn=0);const jt=Pe.convert(de.format),Nt=Pe.convert(de.type);let Pi;de.isData3DTexture?($.setTexture3D(de,0),Pi=K.TEXTURE_3D):de.isDataArrayTexture||de.isCompressedArrayTexture?($.setTexture2DArray(de,0),Pi=K.TEXTURE_2D_ARRAY):($.setTexture2D(de,0),Pi=K.TEXTURE_2D),K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,de.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,de.unpackAlignment);const gn=K.getParameter(K.UNPACK_ROW_LENGTH),Pr=K.getParameter(K.UNPACK_IMAGE_HEIGHT),ya=K.getParameter(K.UNPACK_SKIP_PIXELS),br=K.getParameter(K.UNPACK_SKIP_ROWS),Xi=K.getParameter(K.UNPACK_SKIP_IMAGES);K.pixelStorei(K.UNPACK_ROW_LENGTH,_n.width),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,_n.height),K.pixelStorei(K.UNPACK_SKIP_PIXELS,zt),K.pixelStorei(K.UNPACK_SKIP_ROWS,Ht),K.pixelStorei(K.UNPACK_SKIP_IMAGES,Dt);const Fn=j.isDataArrayTexture||j.isData3DTexture,xr=de.isDataArrayTexture||de.isData3DTexture;if(j.isDepthTexture){const ar=rt.get(j),mi=rt.get(de),Qi=rt.get(ar.__renderTarget),ss=rt.get(mi.__renderTarget);Je.bindFramebuffer(K.READ_FRAMEBUFFER,Qi.__webglFramebuffer),Je.bindFramebuffer(K.DRAW_FRAMEBUFFER,ss.__webglFramebuffer);for(let Lr=0;Lr<gt;Lr++)Fn&&(K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,rt.get(j).__webglTexture,ge,Dt+Lr),K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,rt.get(de).__webglTexture,Qe,Zn+Lr)),K.blitFramebuffer(zt,Ht,ot,yt,mn,vn,ot,yt,K.DEPTH_BUFFER_BIT,K.NEAREST);Je.bindFramebuffer(K.READ_FRAMEBUFFER,null),Je.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else if(ge!==0||j.isRenderTargetTexture||rt.has(j)){const ar=rt.get(j),mi=rt.get(de);Je.bindFramebuffer(K.READ_FRAMEBUFFER,lu),Je.bindFramebuffer(K.DRAW_FRAMEBUFFER,as);for(let Qi=0;Qi<gt;Qi++)Fn?K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,ar.__webglTexture,ge,Dt+Qi):K.framebufferTexture2D(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,ar.__webglTexture,ge),xr?K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,mi.__webglTexture,Qe,Zn+Qi):K.framebufferTexture2D(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,mi.__webglTexture,Qe),ge!==0?K.blitFramebuffer(zt,Ht,ot,yt,mn,vn,ot,yt,K.COLOR_BUFFER_BIT,K.NEAREST):xr?K.copyTexSubImage3D(Pi,Qe,mn,vn,Zn+Qi,zt,Ht,ot,yt):K.copyTexSubImage2D(Pi,Qe,mn,vn,zt,Ht,ot,yt);Je.bindFramebuffer(K.READ_FRAMEBUFFER,null),Je.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else xr?j.isDataTexture||j.isData3DTexture?K.texSubImage3D(Pi,Qe,mn,vn,Zn,ot,yt,gt,jt,Nt,_n.data):de.isCompressedArrayTexture?K.compressedTexSubImage3D(Pi,Qe,mn,vn,Zn,ot,yt,gt,jt,_n.data):K.texSubImage3D(Pi,Qe,mn,vn,Zn,ot,yt,gt,jt,Nt,_n):j.isDataTexture?K.texSubImage2D(K.TEXTURE_2D,Qe,mn,vn,ot,yt,jt,Nt,_n.data):j.isCompressedTexture?K.compressedTexSubImage2D(K.TEXTURE_2D,Qe,mn,vn,_n.width,_n.height,jt,_n.data):K.texSubImage2D(K.TEXTURE_2D,Qe,mn,vn,ot,yt,jt,Nt,_n);K.pixelStorei(K.UNPACK_ROW_LENGTH,gn),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,Pr),K.pixelStorei(K.UNPACK_SKIP_PIXELS,ya),K.pixelStorei(K.UNPACK_SKIP_ROWS,br),K.pixelStorei(K.UNPACK_SKIP_IMAGES,Xi),Qe===0&&de.generateMipmaps&&K.generateMipmap(Pi),Je.unbindTexture()},this.copyTextureToTexture3D=function(j,de,Ee=null,Ae=null,ge=0){return j.isTexture!==!0&&(Gh("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ee=arguments[0]||null,Ae=arguments[1]||null,j=arguments[2],de=arguments[3],ge=arguments[4]||0),Gh('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(j,de,Ee,Ae,ge)},this.initRenderTarget=function(j){rt.get(j).__webglFramebuffer===void 0&&$.setupRenderTarget(j)},this.initTexture=function(j){j.isCubeTexture?$.setTextureCube(j,0):j.isData3DTexture?$.setTexture3D(j,0):j.isDataArrayTexture||j.isCompressedArrayTexture?$.setTexture2DArray(j,0):$.setTexture2D(j,0),Je.unbindTexture()},this.resetState=function(){N=0,L=0,z=null,Je.reset(),ft.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Qo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=Tn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Tn._getUnpackColorSpace()}}const lQ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:OO,AddEquation:mf,AddOperation:gG,AdditiveAnimationBlendMode:HO,AdditiveBlending:N_,AgXToneMapping:AG,AlphaFormat:PO,AlwaysCompare:FG,AlwaysDepth:I_,AlwaysStencilFunc:GC,AmbientLight:A5,AnimationAction:B5,AnimationClip:xm,AnimationLoader:TX,AnimationMixer:$X,AnimationObjectGroup:ZX,AnimationUtils:AX,ArcCurve:ZG,ArrayCamera:C5,ArrowHelper:bW,AttachedBindMode:HC,Audio:R5,AudioAnalyser:GX,AudioContext:gB,AudioListener:FX,AudioLoader:LX,AxesHelper:xW,BackSide:Na,BasicDepthPacking:RG,BasicShadowMap:ZH,BatchedMesh:KG,Bone:US,BooleanKeyframeTrack:wd,Box2:sW,Box3:dr,Box3Helper:gW,BoxGeometry:Td,BoxHelper:vW,BufferAttribute:Dn,BufferGeometry:$t,BufferGeometryLoader:T5,ByteType:BO,Cache:Ku,Camera:NS,CameraHelper:mW,CanvasTexture:Xq,CapsuleGeometry:HS,CatmullRomCurve3:QG,CineonToneMapping:xG,CircleGeometry:GS,ClampToEdgeWrapping:Ms,Clock:yB,Color:dt,ColorKeyframeTrack:cB,ColorManagement:Tn,CompressedArrayTexture:jq,CompressedCubeTexture:qq,CompressedTexture:FS,CompressedTextureLoader:wX,ConeGeometry:kS,ConstantAlphaFactor:pG,ConstantColorFactor:hG,Controls:AW,CubeCamera:jG,CubeReflectionMapping:oc,CubeRefractionMapping:Sf,CubeTexture:d0,CubeTextureLoader:CX,CubeUVReflectionMapping:Jm,CubicBezierCurve:eB,CubicBezierCurve3:$G,CubicInterpolant:v5,CullFaceBack:IC,CullFaceFront:JH,CullFaceFrontBack:a7,CullFaceNone:KH,Curve:il,CurvePath:t5,CustomBlending:QH,CustomToneMapping:_G,CylinderGeometry:Qm,Cylindrical:aW,Data3DTexture:DS,DataArrayTexture:h0,DataTexture:Jl,DataTextureLoader:RX,DataUtils:gq,DecrementStencilOp:v7,DecrementWrapStencilOp:y7,DefaultLoadingManager:b5,DepthFormat:id,DepthStencilFormat:hd,DepthTexture:QO,DetachedBindMode:MG,DirectionalLight:mB,DirectionalLightHelper:pW,DiscreteInterpolant:g5,DodecahedronGeometry:VS,DoubleSide:Qs,DstAlphaFactor:oG,DstColorFactor:uG,DynamicCopyUsage:N7,DynamicDrawUsage:w7,DynamicReadUsage:O7,EdgesGeometry:n5,EllipseCurve:zS,EqualCompare:PG,EqualDepth:z_,EqualStencilFunc:A7,EquirectangularReflectionMapping:py,EquirectangularRefractionMapping:my,Euler:ts,EventDispatcher:au,ExtrudeGeometry:qS,FileLoader:Cs,Float16BufferAttribute:Mq,Float32BufferAttribute:Ct,FloatType:Qa,Fog:LS,FogExp2:PS,FramebufferTexture:Vq,FrontSide:tu,Frustum:v0,GLBufferAttribute:rW,GLSL1:L7,GLSL3:kC,GreaterCompare:LG,GreaterDepth:G_,GreaterEqualCompare:IG,GreaterEqualDepth:H_,GreaterEqualStencilFunc:T7,GreaterStencilFunc:M7,GridHelper:hW,Group:Yu,HalfFloatType:Zm,HemisphereLight:_5,HemisphereLightHelper:fW,IcosahedronGeometry:XS,ImageBitmapLoader:w5,ImageLoader:Ey,ImageUtils:GG,IncrementStencilOp:m7,IncrementWrapStencilOp:g7,InstancedBufferAttribute:dd,InstancedBufferGeometry:vB,InstancedInterleavedBuffer:xA,InstancedMesh:KO,Int16BufferAttribute:Aq,Int32BufferAttribute:Sq,Int8BufferAttribute:bq,IntType:SS,InterleavedBuffer:p0,InterleavedBufferAttribute:$a,Interpolant:ev,InterpolateDiscrete:mm,InterpolateLinear:vm,InterpolateSmooth:T_,InvertStencilOp:b7,KeepStencilOp:Hh,KeyframeTrack:rl,LOD:YG,LatheGeometry:g0,Layers:ym,LessCompare:NG,LessDepth:F_,LessEqualCompare:kO,LessEqualDepth:cd,LessEqualStencilFunc:S7,LessStencilFunc:_7,Light:Cf,LightProbe:E5,Line:uc,Line3:N5,LineBasicMaterial:ma,LineCurve:tB,LineCurve3:e5,LineDashedMaterial:d5,LineLoop:JO,LineSegments:nl,LinearFilter:Zi,LinearInterpolant:uB,LinearMipMapLinearFilter:u7,LinearMipMapNearestFilter:l7,LinearMipmapLinearFilter:$s,LinearMipmapNearestFilter:sm,LinearSRGBColorSpace:Ef,LinearToneMapping:yG,LinearTransfer:gy,Loader:va,LoaderUtils:xf,LoadingManager:fB,LoopOnce:EG,LoopPingPong:wG,LoopRepeat:TG,LuminanceAlphaFormat:IO,LuminanceFormat:UO,MOUSE:Fh,Material:mr,MaterialLoader:$S,MathUtils:OS,Matrix2:AB,Matrix3:Qt,Matrix4:Lt,MaxEquation:nG,Mesh:qi,MeshBasicMaterial:Es,MeshDepthMaterial:sB,MeshDistanceMaterial:oB,MeshLambertMaterial:f5,MeshMatcapMaterial:h5,MeshNormalMaterial:c5,MeshPhongMaterial:l5,MeshPhysicalMaterial:ro,MeshStandardMaterial:x0,MeshToonMaterial:u5,MinEquation:tG,MirroredRepeatWrapping:dm,MixOperation:vG,MultiplyBlending:zC,MultiplyOperation:c0,NearestFilter:Dr,NearestMipMapLinearFilter:o7,NearestMipMapNearestFilter:s7,NearestMipmapLinearFilter:Xh,NearestMipmapNearestFilter:AS,NeutralToneMapping:SG,NeverCompare:DG,NeverDepth:U_,NeverStencilFunc:x7,NoBlending:ec,NoColorSpace:Xu,NoToneMapping:Kl,NormalAnimationBlendMode:RS,NormalBlending:nd,NotEqualCompare:UG,NotEqualDepth:k_,NotEqualStencilFunc:E7,NumberKeyframeTrack:md,Object3D:Cn,ObjectLoader:NX,ObjectSpaceNormalMap:BG,OctahedronGeometry:y0,OneFactor:rG,OneMinusConstantAlphaFactor:mG,OneMinusConstantColorFactor:dG,OneMinusDstAlphaFactor:lG,OneMinusDstColorFactor:cG,OneMinusSrcAlphaFactor:L_,OneMinusSrcColorFactor:sG,OrthographicCamera:el,PCFShadowMap:xS,PCFSoftShadowMap:$g,PMREMGenerator:KC,Path:_y,PerspectiveCamera:bi,Plane:qu,PlaneGeometry:$m,PlaneHelper:yW,PointLight:pB,PointLightHelper:uW,Points:ZO,PointsMaterial:IS,PolarGridHelper:dW,PolyhedronGeometry:wf,PositionalAudio:HX,PropertyBinding:Bn,PropertyMixer:O5,QuadraticBezierCurve:nB,QuadraticBezierCurve3:iB,Quaternion:hr,QuaternionKeyframeTrack:vd,QuaternionLinearInterpolant:y5,RED_GREEN_RGTC2_Format:dA,RED_RGTC1_Format:zO,REVISION:Km,RGBADepthPacking:OG,RGBAFormat:pa,RGBAIntegerFormat:CS,RGBA_ASTC_10x10_Format:oA,RGBA_ASTC_10x5_Format:rA,RGBA_ASTC_10x6_Format:aA,RGBA_ASTC_10x8_Format:sA,RGBA_ASTC_12x10_Format:lA,RGBA_ASTC_12x12_Format:uA,RGBA_ASTC_4x4_Format:J_,RGBA_ASTC_5x4_Format:Z_,RGBA_ASTC_5x5_Format:Q_,RGBA_ASTC_6x5_Format:$_,RGBA_ASTC_6x6_Format:eA,RGBA_ASTC_8x5_Format:tA,RGBA_ASTC_8x6_Format:nA,RGBA_ASTC_8x8_Format:iA,RGBA_BPTC_Format:ry,RGBA_ETC2_EAC_Format:K_,RGBA_PVRTC_2BPPV1_Format:X_,RGBA_PVRTC_4BPPV1_Format:q_,RGBA_S3TC_DXT1_Format:ty,RGBA_S3TC_DXT3_Format:ny,RGBA_S3TC_DXT5_Format:iy,RGBDepthPacking:f7,RGBFormat:LO,RGBIntegerFormat:c7,RGB_BPTC_SIGNED_Format:cA,RGB_BPTC_UNSIGNED_Format:fA,RGB_ETC1_Format:W_,RGB_ETC2_Format:Y_,RGB_PVRTC_2BPPV1_Format:j_,RGB_PVRTC_4BPPV1_Format:V_,RGB_S3TC_DXT1_Format:ey,RGDepthPacking:h7,RGFormat:FO,RGIntegerFormat:wS,RawShaderMaterial:o5,Ray:Ed,Raycaster:D5,RectAreaLight:S5,RedFormat:TS,RedIntegerFormat:f0,ReinhardToneMapping:bG,RenderTarget:BS,RenderTarget3D:eW,RenderTargetArray:tW,RepeatWrapping:Mf,ReplaceStencilOp:p7,ReverseSubtractEquation:eG,RingGeometry:WS,SIGNED_RED_GREEN_RGTC2_Format:pA,SIGNED_RED_RGTC1_Format:hA,SRGBColorSpace:fa,SRGBTransfer:Kn,Scene:XO,ShaderChunk:sn,ShaderLib:Ko,ShaderMaterial:ws,ShadowMaterial:s5,Shape:ad,ShapeGeometry:YS,ShapePath:_W,ShapeUtils:Zl,ShortType:DO,Skeleton:m0,SkeletonHelper:lW,SkinnedMesh:YO,Source:yf,Sphere:pr,SphereGeometry:b0,Spherical:_A,SphericalHarmonics3:M5,SplineCurve:rB,SpotLight:dB,SpotLightHelper:oW,Sprite:WG,SpriteMaterial:WO,SrcAlphaFactor:P_,SrcAlphaSaturateFactor:fG,SrcColorFactor:aG,StaticCopyUsage:D7,StaticDrawUsage:yy,StaticReadUsage:R7,StereoCamera:UX,StreamCopyUsage:P7,StreamDrawUsage:C7,StreamReadUsage:B7,StringKeyframeTrack:Cd,SubtractEquation:$H,SubtractiveBlending:FC,TOUCH:zh,TangentSpaceNormalMap:Tf,TetrahedronGeometry:KS,Texture:_i,TextureLoader:x5,TextureUtils:wW,TimestampQuery:U7,TorusGeometry:JS,TorusKnotGeometry:ZS,Triangle:Za,TriangleFanDrawMode:mA,TriangleStripDrawMode:GO,TrianglesDrawMode:CG,TubeGeometry:QS,UVMapping:_S,Uint16BufferAttribute:jO,Uint32BufferAttribute:qO,Uint8BufferAttribute:xq,Uint8ClampedBufferAttribute:_q,Uniform:_B,UniformsGroup:iW,UniformsLib:pt,UniformsUtils:vA,UnsignedByteType:tl,UnsignedInt248Type:fd,UnsignedInt5999Type:NO,UnsignedIntType:lc,UnsignedShort4444Type:MS,UnsignedShort5551Type:ES,UnsignedShortType:pm,VSMShadowMap:qo,Vector2:ke,Vector3:Q,Vector4:pn,VectorKeyframeTrack:gd,VideoFrameTexture:kq,VideoTexture:JG,WebGL3DRenderTarget:oq,WebGLArrayRenderTarget:sq,WebGLCoordinateSystem:Qo,WebGLCubeRenderTarget:qG,WebGLRenderTarget:nu,WebGLRenderer:G5,WebGLUtils:H5,WebGPUCoordinateSystem:by,WebXRController:w_,WireframeGeometry:aB,WrapAroundEnding:vy,ZeroCurvatureEnding:Wh,ZeroFactor:iG,ZeroSlopeEnding:Yh,ZeroStencilOp:d7,createCanvasElement:HG},Symbol.toStringTag,{value:"Module"}));var pE={exports:{}},ku={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u3;function uQ(){return u3||(u3=1,ku.ConcurrentRoot=1,ku.ContinuousEventPriority=8,ku.DefaultEventPriority=32,ku.DiscreteEventPriority=2,ku.IdleEventPriority=268435456,ku.LegacyRoot=0,ku.NoEventPriority=0),ku}var c3;function cQ(){return c3||(c3=1,pE.exports=uQ()),pE.exports}var R_=cQ(),mE={exports:{}},vE={},gE={exports:{}},yE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f3;function fQ(){if(f3)return yE;f3=1;var n=Xm();function e(v,g){return v===g&&(v!==0||1/v===1/g)||v!==v&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,s=n.useDebugValue;function l(v,g){var b=g(),_=i({inst:{value:b,getSnapshot:g}}),M=_[0].inst,A=_[1];return a(function(){M.value=b,M.getSnapshot=g,u(M)&&A({inst:M})},[v,b,g]),r(function(){return u(M)&&A({inst:M}),v(function(){u(M)&&A({inst:M})})},[v]),s(b),b}function u(v){var g=v.getSnapshot;v=v.value;try{var b=g();return!t(v,b)}catch{return!0}}function f(v,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return yE.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,yE}var h3;function hQ(){return h3||(h3=1,gE.exports=fQ()),gE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3;function dQ(){if(d3)return vE;d3=1;var n=Xm(),e=hQ();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=n.useRef,s=n.useEffect,l=n.useMemo,u=n.useDebugValue;return vE.useSyncExternalStoreWithSelector=function(f,p,v,g,b){var _=a(null);if(_.current===null){var M={hasValue:!1,value:null};_.current=M}else M=_.current;_=l(function(){function S(N){if(!w){if(w=!0,C=N,N=g(N),b!==void 0&&M.hasValue){var L=M.value;if(b(L,N))return R=L}return R=N}if(L=R,i(C,N))return L;var z=g(N);return b!==void 0&&b(L,z)?(C=N,L):(C=N,R=z)}var w=!1,C,R,D=v===void 0?null:v;return[function(){return S(p())},D===null?void 0:function(){return S(D())}]},[p,v,g,b]);var A=r(f,_[0],_[1]);return s(function(){M.hasValue=!0,M.value=A},[A]),u(A),A},vE}var p3;function pQ(){return p3||(p3=1,mE.exports=dQ()),mE.exports}var mQ=pQ();const vQ=Jn(mQ),m3=n=>{let e;const t=new Set,i=(f,p)=>{const v=typeof f=="function"?f(e):f;if(!Object.is(v,e)){const g=e;e=p??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(b=>b(e,g))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>u,subscribe:f=>(t.add(f),()=>t.delete(f))},u=e=n(i,r,l);return l},gQ=n=>n?m3(n):m3,{useSyncExternalStoreWithSelector:yQ}=vQ,bQ=n=>n;function xQ(n,e=bQ,t){const i=yQ(n.subscribe,n.getState,n.getInitialState,e,t);return ut.useDebugValue(i),i}const v3=(n,e)=>{const t=gQ(n),i=(r,a=e)=>xQ(t,r,a);return Object.assign(i,t),i},_Q=(n,e)=>n?v3(n,e):v3;var bE={exports:{}},xE={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g3;function AQ(){return g3||(g3=1,function(n){n.exports=function(e){function t(h,d,x,T){return new rb(h,d,x,T)}function i(){}function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(h){return h===null||typeof h!="object"?null:(h=zn&&h[zn]||h["@@iterator"],typeof h=="function"?h:null)}function s(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===Ii?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case Al:return"Fragment";case Is:return"Portal";case Sl:return"Profiler";case xu:return"StrictMode";case So:return"Suspense";case uh:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case Ml:return(h.displayName||"Context")+".Provider";case Uv:return(h._context.displayName||"Context")+".Consumer";case rp:var d=h.render;return h=h.displayName,h||(h=d.displayName||d.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case Uc:return d=h.displayName||null,d!==null?d:s(h.type)||"Memo";case Mo:d=h._payload,h=h._init;try{return s(h(d))}catch{}}return null}function l(h){if(El===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);El=d&&d[1]||"",Tl=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+El+h+Tl}function u(h,d){if(!h||Ic)return"";Ic=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(d){var bt=function(){throw Error()};if(Object.defineProperty(bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bt,[])}catch(Wt){var nt=Wt}Reflect.construct(h,[],bt)}else{try{bt.call()}catch(Wt){nt=Wt}h.call(bt.prototype)}}else{try{throw Error()}catch(Wt){nt=Wt}(bt=h())&&typeof bt.catch=="function"&&bt.catch(function(){})}}catch(Wt){if(Wt&&nt&&typeof Wt.stack=="string")return[Wt.stack,nt.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=T.DetermineComponentFrameRoot(),W=I[0],le=I[1];if(W&&le){var xe=W.split(`
`),Ve=le.split(`
`);for(B=T=0;T<xe.length&&!xe[T].includes("DetermineComponentFrameRoot");)T++;for(;B<Ve.length&&!Ve[B].includes("DetermineComponentFrameRoot");)B++;if(T===xe.length||B===Ve.length)for(T=xe.length-1,B=Ve.length-1;1<=T&&0<=B&&xe[T]!==Ve[B];)B--;for(;1<=T&&0<=B;T--,B--)if(xe[T]!==Ve[B]){if(T!==1||B!==1)do if(T--,B--,0>B||xe[T]!==Ve[B]){var at=`
`+xe[T].replace(" at new "," at ");return h.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",h.displayName)),at}while(1<=T&&0<=B);break}}}finally{Ic=!1,Error.prepareStackTrace=x}return(x=h?h.displayName||h.name:"")?l(x):""}function f(h){switch(h.tag){case 26:case 27:case 5:return l(h.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return h=u(h.type,!1),h;case 11:return h=u(h.type.render,!1),h;case 1:return h=u(h.type,!0),h;default:return""}}function p(h){try{var d="";do d+=f(h),h=h.return;while(h);return d}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function v(h){var d=h,x=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do d=h,(d.flags&4098)!==0&&(x=d.return),h=d.return;while(h)}return d.tag===3?x:null}function g(h){if(v(h)!==h)throw Error(r(188))}function b(h){var d=h.alternate;if(!d){if(d=v(h),d===null)throw Error(r(188));return d!==h?null:h}for(var x=h,T=d;;){var B=x.return;if(B===null)break;var I=B.alternate;if(I===null){if(T=B.return,T!==null){x=T;continue}break}if(B.child===I.child){for(I=B.child;I;){if(I===x)return g(B),h;if(I===T)return g(B),d;I=I.sibling}throw Error(r(188))}if(x.return!==T.return)x=B,T=I;else{for(var W=!1,le=B.child;le;){if(le===x){W=!0,x=B,T=I;break}if(le===T){W=!0,T=B,x=I;break}le=le.sibling}if(!W){for(le=I.child;le;){if(le===x){W=!0,x=I,T=B;break}if(le===T){W=!0,T=I,x=B;break}le=le.sibling}if(!W)throw Error(r(189))}}if(x.alternate!==T)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?h:d}function _(h){var d=h.tag;if(d===5||d===26||d===27||d===6)return h;for(h=h.child;h!==null;){if(d=_(h),d!==null)return d;h=h.sibling}return null}function M(h){var d=h.tag;if(d===5||d===26||d===27||d===6)return h;for(h=h.child;h!==null;){if(h.tag!==4&&(d=M(h),d!==null))return d;h=h.sibling}return null}function A(h){return{current:h}}function S(h){0>Ol||(h.current=gp[Ol],gp[Ol]=null,Ol--)}function w(h,d){Ol++,gp[Ol]=h.current,h.current=d}function C(h){return h>>>=0,h===0?32:31-(sg(h)/K1|0)|0}function R(h){var d=h&42;if(d!==0)return d;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function D(h,d){var x=h.pendingLanes;if(x===0)return 0;var T=0,B=h.suspendedLanes,I=h.pingedLanes,W=h.warmLanes;h=h.finishedLanes!==0;var le=x&134217727;return le!==0?(x=le&~B,x!==0?T=R(x):(I&=le,I!==0?T=R(I):h||(W=le&~W,W!==0&&(T=R(W))))):(le=x&~B,le!==0?T=R(le):I!==0?T=R(I):h||(W=x&~W,W!==0&&(T=R(W)))),T===0?0:d!==0&&d!==T&&(d&B)===0&&(B=T&-T,W=d&-d,B>=W||B===32&&(W&4194176)!==0)?d:T}function N(h,d){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&d)===0}function L(h,d){switch(h){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z(){var h=dh;return dh<<=1,(dh&4194176)===0&&(dh=128),h}function P(){var h=kc;return kc<<=1,(kc&62914560)===0&&(kc=4194304),h}function U(h){for(var d=[],x=0;31>x;x++)d.push(h);return d}function H(h,d){h.pendingLanes|=d,d!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function J(h,d,x,T,B,I){var W=h.pendingLanes;h.pendingLanes=x,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=x,h.entangledLanes&=x,h.errorRecoveryDisabledLanes&=x,h.shellSuspendCounter=0;var le=h.entanglements,xe=h.expirationTimes,Ve=h.hiddenUpdates;for(x=W&~x;0<x;){var at=31-Ti(x),bt=1<<at;le[at]=0,xe[at]=-1;var nt=Ve[at];if(nt!==null)for(Ve[at]=null,at=0;at<nt.length;at++){var Wt=nt[at];Wt!==null&&(Wt.lane&=-536870913)}x&=~bt}T!==0&&V(h,T,0),I!==0&&B===0&&h.tag!==0&&(h.suspendedLanes|=I&~(W&~d))}function V(h,d,x){h.pendingLanes|=d,h.suspendedLanes&=~d;var T=31-Ti(d);h.entangledLanes|=d,h.entanglements[T]=h.entanglements[T]|1073741824|x&4194218}function ne(h,d){var x=h.entangledLanes|=d;for(h=h.entanglements;x;){var T=31-Ti(x),B=1<<T;B&d|h[T]&d&&(h[T]|=d),x&=~B}}function ee(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function Y(h){if(Fi&&typeof Fi.onCommitFiberRoot=="function")try{Fi.onCommitFiberRoot(jc,h,void 0,(h.current.flags&128)===128)}catch{}}function re(h){if(typeof Sr=="function"&&bp(h),Fi&&typeof Fi.setStrictMode=="function")try{Fi.setStrictMode(jc,h)}catch{}}function ie(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}function he(h,d){if(typeof h=="object"&&h!==null){var x=xp.get(h);return x!==void 0?x:(d={value:h,source:d,stack:p(d)},xp.set(h,d),d)}return{value:h,source:d,stack:p(d)}}function q(h,d){Sa[Ma++]=qc,Sa[Ma++]=Dl,Dl=h,qc=d}function se(h,d,x){ia[Mr++]=Gs,ia[Mr++]=ks,ia[Mr++]=fs,fs=h;var T=Gs;h=ks;var B=32-Ti(T)-1;T&=~(1<<B),x+=1;var I=32-Ti(d)+B;if(30<I){var W=B-B%5;I=(T&(1<<W)-1).toString(32),T>>=W,B-=W,Gs=1<<32-Ti(d)+B|x<<B|T,ks=I+h}else Gs=1<<I|x<<B|T,ks=h}function pe(h){h.return!==null&&(q(h,1),se(h,1,0))}function Se(h){for(;h===Dl;)Dl=Sa[--Ma],Sa[Ma]=null,qc=Sa[--Ma],Sa[Ma]=null;for(;h===fs;)fs=ia[--Mr],ia[Mr]=null,ks=ia[--Mr],ia[Mr]=null,Gs=ia[--Mr],ia[Mr]=null}function oe(h,d){w(Ro,d),w(za,h),w(wi,null),h=Iv(d),S(wi),w(wi,h)}function Te(){S(wi),S(za),S(Ro)}function Ue(h){h.memoizedState!==null&&w(mh,h);var d=wi.current,x=ab(d,h.type);d!==x&&(w(za,h),w(wi,x))}function We(h){za.current===h&&(S(wi),S(za)),mh.current===h&&(S(mh),ls?To._currentValue=Au:To._currentValue2=Au)}function qe(h){var d=Error(r(418,""));throw Ce(he(d,h)),vh}function Le(h,d){if(!na)throw Error(r(175));Eu(h.stateNode,h.type,h.memoizedProps,d,h)||qe(h)}function De(h){for(Ci=h.return;Ci;)switch(Ci.tag){case 3:case 27:hs=!0;return;case 5:case 13:hs=!1;return;default:Ci=Ci.return}}function Xe(h){if(!na||h!==Ci)return!1;if(!Mn)return De(h),Mn=!0,!1;var d=!1;if(er?h.tag!==3&&h.tag!==27&&(h.tag!==5||Jv(h.type)&&!ur(h.type,h.memoizedProps))&&(d=!0):h.tag!==3&&(h.tag!==5||Jv(h.type)&&!ur(h.type,h.memoizedProps))&&(d=!0),d&&Gn&&qe(h),De(h),h.tag===13){if(!na)throw Error(r(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));Gn=Ib(h)}else Gn=Ci?Rl(h.stateNode):null;return!0}function fe(){na&&(Gn=Ci=null,Mn=!1)}function Ce(h){Ha===null?Ha=[h]:Ha.push(h)}function K(){for(var h=Oo,d=ds=Oo=0;d<h;){var x=ra[d];ra[d++]=null;var T=ra[d];ra[d++]=null;var B=ra[d];ra[d++]=null;var I=ra[d];if(ra[d++]=null,T!==null&&B!==null){var W=T.pending;W===null?B.next=B:(B.next=W.next,W.next=B),T.pending=B}I!==0&&Je(x,B,I)}}function st(h,d,x,T){ra[Oo++]=h,ra[Oo++]=d,ra[Oo++]=x,ra[Oo++]=T,ds|=T,h.lanes|=T,h=h.alternate,h!==null&&(h.lanes|=T)}function Ie(h,d,x,T){return st(h,d,x,T),At(h)}function Ze(h,d){return st(h,null,null,d),At(h)}function Je(h,d,x){h.lanes|=x;var T=h.alternate;T!==null&&(T.lanes|=x);for(var B=!1,I=h.return;I!==null;)I.childLanes|=x,T=I.alternate,T!==null&&(T.childLanes|=x),I.tag===22&&(h=I.stateNode,h===null||h._visibility&1||(B=!0)),h=I,I=I.return;B&&d!==null&&h.tag===3&&(I=h.stateNode,B=31-Ti(x),I=I.hiddenUpdates,h=I[B],h===null?I[B]=[d]:h.push(d),d.lane=x|536870912)}function At(h){if(50<Nu)throw Nu=0,fg=null,Error(r(185));for(var d=h.return;d!==null;)h=d,d=h.return;return h.tag===3?h.stateNode:null}function rt(h){h!==Nl&&h.next===null&&(Nl===null?ni=Nl=h:Nl=Nl.next=h),Ri=!0,_p||(_p=!0,He(k))}function $(h,d){if(!Ap&&Ri){Ap=!0;do for(var x=!1,T=ni;T!==null;){if(h!==0){var B=T.pendingLanes;if(B===0)var I=0;else{var W=T.suspendedLanes,le=T.pingedLanes;I=(1<<31-Ti(42|h)+1)-1,I&=B&~(W&~le),I=I&201326677?I&201326677|1:I?I|2:0}I!==0&&(x=!0,Ye(T,I))}else I=hn,I=D(T,T===Vn?I:0),(I&3)===0||N(T,I)||(x=!0,Ye(T,I));T=T.next}while(x);Ap=!1}}function k(){Ri=_p=!1;var h=0;Xc!==0&&(ub()&&(h=Xc),Xc=0);for(var d=Aa(),x=null,T=ni;T!==null;){var B=T.next,I=_e(T,d);I===0?(T.next=null,x===null?ni=B:x.next=B,B===null&&(Nl=x)):(x=T,(h!==0||(I&3)!==0)&&(Ri=!0)),T=B}$(h)}function _e(h,d){for(var x=h.suspendedLanes,T=h.pingedLanes,B=h.expirationTimes,I=h.pendingLanes&-62914561;0<I;){var W=31-Ti(I),le=1<<W,xe=B[W];xe===-1?((le&x)===0||(le&T)!==0)&&(B[W]=L(le,d)):xe<=d&&(h.expiredLanes|=le),I&=~le}if(d=Vn,x=hn,x=D(h,h===d?x:0),T=h.callbackNode,x===0||h===d&&Hn===2||h.cancelPendingCommit!==null)return T!==null&&T!==null&&cs(T),h.callbackNode=null,h.callbackPriority=0;if((x&3)===0||N(h,x)){if(d=x&-x,d===h.callbackPriority)return d;switch(T!==null&&cs(T),ee(x)){case 2:case 8:x=ph;break;case 32:x=Vc;break;case 268435456:x=wu;break;default:x=Vc}return T=Ne.bind(null,h),x=Hs(x,T),h.callbackPriority=d,h.callbackNode=x,d}return T!==null&&T!==null&&cs(T),h.callbackPriority=2,h.callbackNode=null,2}function Ne(h,d){var x=h.callbackNode;if(yl()&&h.callbackNode!==x)return null;var T=hn;return T=D(h,h===Vn?T:0),T===0?null:(ba(h,T,d),_e(h,Aa()),h.callbackNode!=null&&h.callbackNode===x?Ne.bind(null,h):null)}function Ye(h,d){if(yl())return null;ba(h,d,!0)}function He(h){db?pb(function(){(fn&6)!==0?Hs(yp,h):h()}):Hs(yp,h)}function vt(){return Xc===0&&(Xc=z()),Xc}function lt(h,d){if(Wc===null){var x=Wc=[];Sp=0,ii=vt(),tr={status:"pending",value:void 0,then:function(T){x.push(T)}}}return Sp++,d.then(_t,_t),d}function _t(){if(--Sp===0&&Wc!==null){tr!==null&&(tr.status="fulfilled");var h=Wc;Wc=null,ii=0,tr=null;for(var d=0;d<h.length;d++)(0,h[d])()}}function Jt(h,d){var x=[],T={status:"pending",value:null,reason:null,then:function(B){x.push(B)}};return h.then(function(){T.status="fulfilled",T.value=d;for(var B=0;B<x.length;B++)(0,x[B])(d)},function(B){for(T.status="rejected",T.reason=B,B=0;B<x.length;B++)(0,x[B])(void 0)}),T}function tt(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function St(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Tt(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Mt(h,d,x){var T=h.updateQueue;if(T===null)return null;if(T=T.shared,(fn&2)!==0){var B=T.pending;return B===null?d.next=d:(d.next=B.next,B.next=d),T.pending=d,d=At(h),Je(h,null,x),d}return st(h,T,d,x),At(h)}function xt(h,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194176)!==0)){var T=d.lanes;T&=h.pendingLanes,x|=T,d.lanes=x,ne(h,x)}}function ce(h,d){var x=h.updateQueue,T=h.alternate;if(T!==null&&(T=T.updateQueue,x===T)){var B=null,I=null;if(x=x.firstBaseUpdate,x!==null){do{var W={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};I===null?B=I=W:I=I.next=W,x=x.next}while(x!==null);I===null?B=I=d:I=I.next=d}else B=I=d;x={baseState:T.baseState,firstBaseUpdate:B,lastBaseUpdate:I,shared:T.shared,callbacks:T.callbacks},h.updateQueue=x;return}h=x.lastBaseUpdate,h===null?x.firstBaseUpdate=d:h.next=d,x.lastBaseUpdate=d}function Pe(){if(Mp){var h=tr;if(h!==null)throw h}}function ft(h,d,x,T){Mp=!1;var B=h.updateQueue;Er=!1;var I=B.firstBaseUpdate,W=B.lastBaseUpdate,le=B.shared.pending;if(le!==null){B.shared.pending=null;var xe=le,Ve=xe.next;xe.next=null,W===null?I=Ve:W.next=Ve,W=xe;var at=h.alternate;at!==null&&(at=at.updateQueue,le=at.lastBaseUpdate,le!==W&&(le===null?at.firstBaseUpdate=Ve:le.next=Ve,at.lastBaseUpdate=xe))}if(I!==null){var bt=B.baseState;W=0,at=Ve=xe=null,le=I;do{var nt=le.lane&-536870913,Wt=nt!==le.lane;if(Wt?(hn&nt)===nt:(T&nt)===nt){nt!==0&&nt===ii&&(Mp=!0),at!==null&&(at=at.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var Ya=h,$c=le;nt=d;var Pu=x;switch($c.tag){case 1:if(Ya=$c.payload,typeof Ya=="function"){bt=Ya.call(Pu,bt,nt);break e}bt=Ya;break e;case 3:Ya.flags=Ya.flags&-65537|128;case 0:if(Ya=$c.payload,nt=typeof Ya=="function"?Ya.call(Pu,bt,nt):Ya,nt==null)break e;bt=Mi({},bt,nt);break e;case 2:Er=!0}}nt=le.callback,nt!==null&&(h.flags|=64,Wt&&(h.flags|=8192),Wt=B.callbacks,Wt===null?B.callbacks=[nt]:Wt.push(nt))}else Wt={lane:nt,tag:le.tag,payload:le.payload,callback:le.callback,next:null},at===null?(Ve=at=Wt,xe=bt):at=at.next=Wt,W|=nt;if(le=le.next,le===null){if(le=B.shared.pending,le===null)break;Wt=le,le=Wt.next,Wt.next=null,B.lastBaseUpdate=Wt,B.shared.pending=null}}while(!0);at===null&&(xe=bt),B.baseState=xe,B.firstBaseUpdate=Ve,B.lastBaseUpdate=at,I===null&&(B.shared.lanes=0),Xa|=W,h.lanes=W,h.memoizedState=bt}}function ue(h,d){if(typeof h!="function")throw Error(r(191,h));h.call(d)}function it(h,d){var x=h.callbacks;if(x!==null)for(h.callbacks=null,h=0;h<x.length;h++)ue(x[h],d)}function Be(h,d){if(zr(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var x=Object.keys(h),T=Object.keys(d);if(x.length!==T.length)return!1;for(T=0;T<x.length;T++){var B=x[T];if(!qb.call(d,B)||!zr(h[B],d[B]))return!1}return!0}function Ge(h){return h=h.status,h==="fulfilled"||h==="rejected"}function ct(){}function ht(h,d,x){switch(x=h[x],x===void 0?h.push(d):x!==d&&(d.then(ct,ct),d=x),d.status){case"fulfilled":return d.value;case"rejected":throw h=d.reason,h===gh?Error(r(483)):h;default:if(typeof d.status=="string")d.then(ct,ct);else{if(h=Vn,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=d,h.status="pending",h.then(function(T){if(d.status==="pending"){var B=d;B.status="fulfilled",B.value=T}},function(T){if(d.status==="pending"){var B=d;B.status="rejected",B.reason=T}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw h=d.reason,h===gh?Error(r(483)):h}throw Tr=d,gh}}function Rt(){if(Tr===null)throw Error(r(459));var h=Tr;return Tr=null,h}function un(h){var d=wr;return wr+=1,Cu===null&&(Cu=[]),ht(Cu,h,d)}function In(h,d){d=d.props.ref,h.ref=d!==void 0?d:null}function Zt(h,d){throw d.$$typeof===Lv?Error(r(525)):(h=Object.prototype.toString.call(d),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h)))}function di(h){var d=h._init;return d(h._payload)}function Ai(h){function d(we,ye){if(h){var Oe=we.deletions;Oe===null?(we.deletions=[ye],we.flags|=16):Oe.push(ye)}}function x(we,ye){if(!h)return null;for(;ye!==null;)d(we,ye),ye=ye.sibling;return null}function T(we){for(var ye=new Map;we!==null;)we.key!==null?ye.set(we.key,we):ye.set(we.index,we),we=we.sibling;return ye}function B(we,ye){return we=xo(we,ye),we.index=0,we.sibling=null,we}function I(we,ye,Oe){return we.index=Oe,h?(Oe=we.alternate,Oe!==null?(Oe=Oe.index,Oe<ye?(we.flags|=33554434,ye):Oe):(we.flags|=33554434,ye)):(we.flags|=1048576,ye)}function W(we){return h&&we.alternate===null&&(we.flags|=33554434),we}function le(we,ye,Oe,et){return ye===null||ye.tag!==6?(ye=lh(Oe,we.mode,et),ye.return=we,ye):(ye=B(ye,Oe),ye.return=we,ye)}function xe(we,ye,Oe,et){var Ot=Oe.type;return Ot===Al?at(we,ye,Oe.props.children,et,Oe.key):ye!==null&&(ye.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Mo&&di(Ot)===ye.type)?(ye=B(ye,Oe.props),In(ye,Oe),ye.return=we,ye):(ye=bu(Oe.type,Oe.key,Oe.props,null,we.mode,et),In(ye,Oe),ye.return=we,ye)}function Ve(we,ye,Oe,et){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Oe.containerInfo||ye.stateNode.implementation!==Oe.implementation?(ye=ta(Oe,we.mode,et),ye.return=we,ye):(ye=B(ye,Oe.children||[]),ye.return=we,ye)}function at(we,ye,Oe,et,Ot){return ye===null||ye.tag!==7?(ye=xl(Oe,we.mode,et,Ot),ye.return=we,ye):(ye=B(ye,Oe),ye.return=we,ye)}function bt(we,ye,Oe){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=lh(""+ye,we.mode,Oe),ye.return=we,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case _l:return Oe=bu(ye.type,ye.key,ye.props,null,we.mode,Oe),In(Oe,ye),Oe.return=we,Oe;case Is:return ye=ta(ye,we.mode,Oe),ye.return=we,ye;case Mo:var et=ye._init;return ye=et(ye._payload),bt(we,ye,Oe)}if(wl(ye)||a(ye))return ye=xl(ye,we.mode,Oe,null),ye.return=we,ye;if(typeof ye.then=="function")return bt(we,un(ye),Oe);if(ye.$$typeof===Ml)return bt(we,Xf(we,ye),Oe);Zt(we,ye)}return null}function nt(we,ye,Oe,et){var Ot=ye!==null?ye.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Ot!==null?null:le(we,ye,""+Oe,et);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case _l:return Oe.key===Ot?xe(we,ye,Oe,et):null;case Is:return Oe.key===Ot?Ve(we,ye,Oe,et):null;case Mo:return Ot=Oe._init,Oe=Ot(Oe._payload),nt(we,ye,Oe,et)}if(wl(Oe)||a(Oe))return Ot!==null?null:at(we,ye,Oe,et,null);if(typeof Oe.then=="function")return nt(we,ye,un(Oe),et);if(Oe.$$typeof===Ml)return nt(we,ye,Xf(we,Oe),et);Zt(we,Oe)}return null}function Wt(we,ye,Oe,et,Ot){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return we=we.get(Oe)||null,le(ye,we,""+et,Ot);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case _l:return we=we.get(et.key===null?Oe:et.key)||null,xe(ye,we,et,Ot);case Is:return we=we.get(et.key===null?Oe:et.key)||null,Ve(ye,we,et,Ot);case Mo:var jn=et._init;return et=jn(et._payload),Wt(we,ye,Oe,et,Ot)}if(wl(et)||a(et))return we=we.get(Oe)||null,at(ye,we,et,Ot,null);if(typeof et.then=="function")return Wt(we,ye,Oe,un(et),Ot);if(et.$$typeof===Ml)return Wt(we,ye,Oe,Xf(ye,et),Ot);Zt(ye,et)}return null}function Ya(we,ye,Oe,et){for(var Ot=null,jn=null,Ft=ye,ln=ye=0,Yn=null;Ft!==null&&ln<Oe.length;ln++){Ft.index>ln?(Yn=Ft,Ft=null):Yn=Ft.sibling;var yn=nt(we,Ft,Oe[ln],et);if(yn===null){Ft===null&&(Ft=Yn);break}h&&Ft&&yn.alternate===null&&d(we,Ft),ye=I(yn,ye,ln),jn===null?Ot=yn:jn.sibling=yn,jn=yn,Ft=Yn}if(ln===Oe.length)return x(we,Ft),Mn&&q(we,ln),Ot;if(Ft===null){for(;ln<Oe.length;ln++)Ft=bt(we,Oe[ln],et),Ft!==null&&(ye=I(Ft,ye,ln),jn===null?Ot=Ft:jn.sibling=Ft,jn=Ft);return Mn&&q(we,ln),Ot}for(Ft=T(Ft);ln<Oe.length;ln++)Yn=Wt(Ft,we,ln,Oe[ln],et),Yn!==null&&(h&&Yn.alternate!==null&&Ft.delete(Yn.key===null?ln:Yn.key),ye=I(Yn,ye,ln),jn===null?Ot=Yn:jn.sibling=Yn,jn=Yn);return h&&Ft.forEach(function(kl){return d(we,kl)}),Mn&&q(we,ln),Ot}function $c(we,ye,Oe,et){if(Oe==null)throw Error(r(151));for(var Ot=null,jn=null,Ft=ye,ln=ye=0,Yn=null,yn=Oe.next();Ft!==null&&!yn.done;ln++,yn=Oe.next()){Ft.index>ln?(Yn=Ft,Ft=null):Yn=Ft.sibling;var kl=nt(we,Ft,yn.value,et);if(kl===null){Ft===null&&(Ft=Yn);break}h&&Ft&&kl.alternate===null&&d(we,Ft),ye=I(kl,ye,ln),jn===null?Ot=kl:jn.sibling=kl,jn=kl,Ft=Yn}if(yn.done)return x(we,Ft),Mn&&q(we,ln),Ot;if(Ft===null){for(;!yn.done;ln++,yn=Oe.next())yn=bt(we,yn.value,et),yn!==null&&(ye=I(yn,ye,ln),jn===null?Ot=yn:jn.sibling=yn,jn=yn);return Mn&&q(we,ln),Ot}for(Ft=T(Ft);!yn.done;ln++,yn=Oe.next())yn=Wt(Ft,we,ln,yn.value,et),yn!==null&&(h&&yn.alternate!==null&&Ft.delete(yn.key===null?ln:yn.key),ye=I(yn,ye,ln),jn===null?Ot=yn:jn.sibling=yn,jn=yn);return h&&Ft.forEach(function(Wb){return d(we,Wb)}),Mn&&q(we,ln),Ot}function Pu(we,ye,Oe,et){if(typeof Oe=="object"&&Oe!==null&&Oe.type===Al&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case _l:e:{for(var Ot=Oe.key;ye!==null;){if(ye.key===Ot){if(Ot=Oe.type,Ot===Al){if(ye.tag===7){x(we,ye.sibling),et=B(ye,Oe.props.children),et.return=we,we=et;break e}}else if(ye.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Mo&&di(Ot)===ye.type){x(we,ye.sibling),et=B(ye,Oe.props),In(et,Oe),et.return=we,we=et;break e}x(we,ye);break}else d(we,ye);ye=ye.sibling}Oe.type===Al?(et=xl(Oe.props.children,we.mode,et,Oe.key),et.return=we,we=et):(et=bu(Oe.type,Oe.key,Oe.props,null,we.mode,et),In(et,Oe),et.return=we,we=et)}return W(we);case Is:e:{for(Ot=Oe.key;ye!==null;){if(ye.key===Ot)if(ye.tag===4&&ye.stateNode.containerInfo===Oe.containerInfo&&ye.stateNode.implementation===Oe.implementation){x(we,ye.sibling),et=B(ye,Oe.children||[]),et.return=we,we=et;break e}else{x(we,ye);break}else d(we,ye);ye=ye.sibling}et=ta(Oe,we.mode,et),et.return=we,we=et}return W(we);case Mo:return Ot=Oe._init,Oe=Ot(Oe._payload),Pu(we,ye,Oe,et)}if(wl(Oe))return Ya(we,ye,Oe,et);if(a(Oe)){if(Ot=a(Oe),typeof Ot!="function")throw Error(r(150));return Oe=Ot.call(Oe),$c(we,ye,Oe,et)}if(typeof Oe.then=="function")return Pu(we,ye,un(Oe),et);if(Oe.$$typeof===Ml)return Pu(we,ye,Xf(we,Oe),et);Zt(we,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,ye!==null&&ye.tag===6?(x(we,ye.sibling),et=B(ye,Oe),et.return=we,we=et):(x(we,ye),et=lh(Oe,we.mode,et),et.return=we,we=et),W(we)):x(we,ye)}return function(we,ye,Oe,et){try{wr=0;var Ot=Pu(we,ye,Oe,et);return Cu=null,Ot}catch(Ft){if(Ft===gh)throw Ft;var jn=t(29,Ft,null,we.mode);return jn.lanes=et,jn.return=we,jn}finally{}}}function Pf(h,d){h=gs,w(ms,h),w(ps,d),gs=h|d.baseLanes}function ou(){w(ms,gs),w(ps,ps.current)}function Pa(){gs=ms.current,S(ps),S(ms)}function ga(h){var d=h.alternate;w($n,$n.current&1),w(aa,h),Ga===null&&(d===null||ps.current!==null||d.memoizedState!==null)&&(Ga=h)}function yc(h){if(h.tag===22){if(w($n,$n.current),w(aa,h),Ga===null){var d=h.alternate;d!==null&&d.memoizedState!==null&&(Ga=h)}}else is()}function is(){w($n,$n.current),w(aa,aa.current)}function Si(h){S(aa),Ga===h&&(Ga=null),S($n)}function pi(h){for(var d=h;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||Su(x)||hh(x)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function tn(){throw Error(r(321))}function rs(h,d){if(d===null)return!1;for(var x=0;x<d.length&&x<h.length;x++)if(!zr(h[x],d[x]))return!1;return!0}function sl(h,d,x,T,B,I){return Bo=I,qt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Gt.H=h===null||h.memoizedState===null?Po:Gr,Ll=!1,I=x(T,B),Ll=!1,Ru&&(I=Ld(d,x,T,B)),Pd(h),I}function Pd(h){Gt.H=Oi;var d=Rn!==null&&Rn.next!==null;if(Bo=0,li=Rn=qt=null,Do=!1,Yc=0,No=null,d)throw Error(r(300));h===null||zi||(h=h.dependencies,h!==null&&qf(h)&&(zi=!0))}function Ld(h,d,x,T){qt=h;var B=0;do{if(Ru&&(No=null),Yc=0,Ru=!1,25<=B)throw Error(r(301));if(B+=1,li=Rn=null,h.updateQueue!=null){var I=h.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}Gt.H=Il,I=d(x,T)}while(Ru);return I}function Ud(){var h=Gt.H,d=h.useState()[0];return d=typeof d.then=="function"?Ee(d):d,h=h.useState()[0],(Rn!==null?Rn.memoizedState:null)!==h&&(qt.flags|=1024),d}function so(){var h=Ul!==0;return Ul=0,h}function lu(h,d,x){d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~x}function as(h){if(Do){for(h=h.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}Do=!1}Bo=0,li=Rn=qt=null,Ru=!1,Yc=Ul=0,No=null}function j(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?qt.memoizedState=li=h:li=li.next=h,li}function de(){if(Rn===null){var h=qt.alternate;h=h!==null?h.memoizedState:null}else h=Rn.next;var d=li===null?qt.memoizedState:li.next;if(d!==null)li=d,Rn=h;else{if(h===null)throw qt.alternate===null?Error(r(467)):Error(r(310));Rn=h,h={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},li===null?qt.memoizedState=li=h:li=li.next=h}return li}function Ee(h){var d=Yc;return Yc+=1,No===null&&(No=[]),h=ht(No,h,d),d=qt,(li===null?d.memoizedState:li.next)===null&&(d=d.alternate,Gt.H=d===null||d.memoizedState===null?Po:Gr),h}function Ae(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Ee(h);if(h.$$typeof===Ml)return or(h)}throw Error(r(438,String(h)))}function ge(h){var d=null,x=qt.updateQueue;if(x!==null&&(d=x.memoCache),d==null){var T=qt.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(d={data:T.data.map(function(B){return B.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),x===null&&(x=og(),qt.updateQueue=x),x.memoCache=d,x=d.data[d.index],x===void 0)for(x=d.data[d.index]=Array(h),T=0;T<h;T++)x[T]=nn;return d.index++,x}function Qe(h,d){return typeof d=="function"?d(h):d}function ot(h){var d=de();return yt(d,Rn,h)}function yt(h,d,x){var T=h.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=x;var B=h.baseQueue,I=T.pending;if(I!==null){if(B!==null){var W=B.next;B.next=I.next,I.next=W}d.baseQueue=B=I,T.pending=null}if(I=h.baseState,B===null)h.memoizedState=I;else{d=B.next;var le=W=null,xe=null,Ve=d,at=!1;do{var bt=Ve.lane&-536870913;if(bt!==Ve.lane?(hn&bt)===bt:(Bo&bt)===bt){var nt=Ve.revertLane;if(nt===0)xe!==null&&(xe=xe.next={lane:0,revertLane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),bt===ii&&(at=!0);else if((Bo&nt)===nt){Ve=Ve.next,nt===ii&&(at=!0);continue}else bt={lane:0,revertLane:Ve.revertLane,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},xe===null?(le=xe=bt,W=I):xe=xe.next=bt,qt.lanes|=nt,Xa|=nt;bt=Ve.action,Ll&&x(I,bt),I=Ve.hasEagerState?Ve.eagerState:x(I,bt)}else nt={lane:bt,revertLane:Ve.revertLane,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},xe===null?(le=xe=nt,W=I):xe=xe.next=nt,qt.lanes|=bt,Xa|=bt;Ve=Ve.next}while(Ve!==null&&Ve!==d);if(xe===null?W=I:xe.next=le,!zr(I,h.memoizedState)&&(zi=!0,at&&(x=tr,x!==null)))throw x;h.memoizedState=I,h.baseState=W,h.baseQueue=xe,T.lastRenderedState=I}return B===null&&(T.lanes=0),[h.memoizedState,T.dispatch]}function gt(h){var d=de(),x=d.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=h;var T=x.dispatch,B=x.pending,I=d.memoizedState;if(B!==null){x.pending=null;var W=B=B.next;do I=h(I,W.action),W=W.next;while(W!==B);zr(I,d.memoizedState)||(zi=!0),d.memoizedState=I,d.baseQueue===null&&(d.baseState=I),x.lastRenderedState=I}return[I,T]}function zt(h,d,x){var T=qt,B=de(),I=Mn;if(I){if(x===void 0)throw Error(r(407));x=x()}else x=d();var W=!zr((Rn||B).memoizedState,x);if(W&&(B.memoizedState=x,zi=!0),B=B.queue,Uf(mn.bind(null,T,B,h),[h]),B.getSnapshot!==d||W||li!==null&&li.memoizedState.tag&1){if(T.flags|=2048,ss(9,Dt.bind(null,T,B,x,d),{destroy:void 0},null),Vn===null)throw Error(r(349));I||(Bo&60)!==0||Ht(T,d,x)}return x}function Ht(h,d,x){h.flags|=16384,h={getSnapshot:d,value:x},d=qt.updateQueue,d===null?(d=og(),qt.updateQueue=d,d.stores=[h]):(x=d.stores,x===null?d.stores=[h]:x.push(h))}function Dt(h,d,x,T){d.value=x,d.getSnapshot=T,vn(d)&&Zn(h)}function mn(h,d,x){return x(function(){vn(d)&&Zn(h)})}function vn(h){var d=h.getSnapshot;h=h.value;try{var x=d();return!zr(h,x)}catch{return!0}}function Zn(h){var d=Ze(h,2);d!==null&&Qn(d,h,2)}function _n(h){var d=j();if(typeof h=="function"){var x=h;if(h=x(),Ll){re(!0);try{x()}finally{re(!1)}}}return d.memoizedState=d.baseState=h,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qe,lastRenderedState:h},d}function jt(h,d,x,T){return h.baseState=x,yt(h,Rn,typeof T=="function"?T:Qe)}function Nt(h,d,x,T,B){if(Hf(h))throw Error(r(485));if(h=d.action,h!==null){var I={payload:B,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){I.listeners.push(W)}};Gt.T!==null?x(!0):I.isTransition=!1,T(I),x=d.pending,x===null?(I.next=d.pending=I,Pi(d,I)):(I.next=x.next,d.pending=x.next=I)}}function Pi(h,d){var x=d.action,T=d.payload,B=h.state;if(d.isTransition){var I=Gt.T,W={};Gt.T=W;try{var le=x(B,T),xe=Gt.S;xe!==null&&xe(W,le),gn(h,d,le)}catch(Ve){ya(h,d,Ve)}finally{Gt.T=I}}else try{I=x(B,T),gn(h,d,I)}catch(Ve){ya(h,d,Ve)}}function gn(h,d,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(T){Pr(h,d,T)},function(T){return ya(h,d,T)}):Pr(h,d,x)}function Pr(h,d,x){d.status="fulfilled",d.value=x,br(d),h.state=x,d=h.pending,d!==null&&(x=d.next,x===d?h.pending=null:(x=x.next,d.next=x,Pi(h,x)))}function ya(h,d,x){var T=h.pending;if(h.pending=null,T!==null){T=T.next;do d.status="rejected",d.reason=x,br(d),d=d.next;while(d!==T)}h.action=null}function br(h){h=h.listeners;for(var d=0;d<h.length;d++)(0,h[d])()}function Xi(h,d){return d}function Fn(h,d){if(Mn){var x=Vn.formState;if(x!==null){e:{var T=qt;if(Mn){if(Gn){var B=Nb(Gn,hs);if(B){Gn=Rl(B),T=zs(B);break e}}qe(T)}T=!1}T&&(d=x[0])}}x=j(),x.memoizedState=x.baseState=d,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:d},x.queue=T,x=pv.bind(null,qt,T),T.dispatch=x,T=_n(!1);var I=_c.bind(null,qt,!1,T.queue);return T=j(),B={state:d,dispatch:null,action:h,pending:null},T.queue=B,x=Nt.bind(null,qt,B,I,x),B.dispatch=x,T.memoizedState=h,[d,x,!1]}function xr(h){var d=de();return ar(d,Rn,h)}function ar(h,d,x){d=yt(h,d,Xi)[0],h=ot(Qe)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?Ee(d):d;var T=de(),B=T.queue,I=B.dispatch;return x!==T.memoizedState&&(qt.flags|=2048,ss(9,mi.bind(null,B,x),{destroy:void 0},null)),[d,I,h]}function mi(h,d){h.action=d}function Qi(h){var d=de(),x=Rn;if(x!==null)return ar(d,x,h);de(),d=d.memoizedState,x=de();var T=x.queue.dispatch;return x.memoizedState=h,[d,T,!1]}function ss(h,d,x,T){return h={tag:h,create:d,inst:x,deps:T,next:null},d=qt.updateQueue,d===null&&(d=og(),qt.updateQueue=d),x=d.lastEffect,x===null?d.lastEffect=h.next=h:(T=x.next,x.next=h,h.next=T,d.lastEffect=h),h}function Lr(){return de().memoizedState}function Id(h,d,x,T){var B=j();qt.flags|=h,B.memoizedState=ss(1|d,x,{destroy:void 0},T===void 0?null:T)}function Lf(h,d,x,T){var B=de();T=T===void 0?null:T;var I=B.memoizedState.inst;Rn!==null&&T!==null&&rs(T,Rn.memoizedState.deps)?B.memoizedState=ss(d,x,I,T):(qt.flags|=h,B.memoizedState=ss(1|d,x,I,T))}function fv(h,d){Id(8390656,8,h,d)}function Uf(h,d){Lf(2048,8,h,d)}function L0(h,d){return Lf(4,2,h,d)}function U0(h,d){return Lf(4,4,h,d)}function If(h,d){if(typeof d=="function"){h=h();var x=d(h);return function(){typeof x=="function"?x():d(null)}}if(d!=null)return h=h(),d.current=h,function(){d.current=null}}function Fd(h,d,x){x=x!=null?x.concat([h]):null,Lf(4,4,If.bind(null,d,h),x)}function Ff(){}function uu(h,d){var x=de();d=d===void 0?null:d;var T=x.memoizedState;return d!==null&&rs(d,T[1])?T[0]:(x.memoizedState=[h,d],h)}function cu(h,d){var x=de();d=d===void 0?null:d;var T=x.memoizedState;if(d!==null&&rs(d,T[1]))return T[0];if(T=h(),Ll){re(!0);try{h()}finally{re(!1)}}return x.memoizedState=[T,d],T}function zd(h,d,x){return x===void 0||(Bo&1073741824)!==0?h.memoizedState=d:(h.memoizedState=x,h=th(),qt.lanes|=h,Xa|=h,x)}function Hd(h,d,x,T){return zr(x,d)?x:ps.current!==null?(h=zd(h,x,T),zr(h,d)||(zi=!0),h):(Bo&42)===0?(zi=!0,h.memoizedState=x):(h=th(),qt.lanes|=h,Xa|=h,d)}function hv(h,d,x,T,B){var I=Cl();Fr(I!==0&&8>I?I:8);var W=Gt.T,le={};Gt.T=le,_c(h,!1,d,x);try{var xe=B(),Ve=Gt.S;if(Ve!==null&&Ve(le,xe),xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var at=Jt(xe,T);ol(h,d,at,_r(h))}else ol(h,d,T,_r(h))}catch(bt){ol(h,d,{then:function(){},status:"rejected",reason:bt},_r())}finally{Fr(I),Gt.T=W}}function bc(h){var d=h.memoizedState;if(d!==null)return d;d={memoizedState:Au,baseState:Au,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qe,lastRenderedState:Au},next:null};var x={};return d.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qe,lastRenderedState:x},next:null},h.memoizedState=d,h=h.alternate,h!==null&&(h.memoizedState=d),d}function zf(){return or(To)}function xc(){return de().memoizedState}function oo(){return de().memoizedState}function dv(h){for(var d=h.return;d!==null;){switch(d.tag){case 24:case 3:var x=_r();h=Tt(x);var T=Mt(d,h,x);T!==null&&(Qn(T,d,x),xt(T,d,x)),d={cache:fl()},h.payload=d;return}d=d.return}}function Gd(h,d,x){var T=_r();x={lane:T,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},Hf(h)?Ur(d,x):(x=Ie(h,d,x,T),x!==null&&(Qn(x,h,T),ll(x,d,T)))}function pv(h,d,x){var T=_r();ol(h,d,x,T)}function ol(h,d,x,T){var B={lane:T,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(Hf(h))Ur(d,B);else{var I=h.alternate;if(h.lanes===0&&(I===null||I.lanes===0)&&(I=d.lastRenderedReducer,I!==null))try{var W=d.lastRenderedState,le=I(W,x);if(B.hasEagerState=!0,B.eagerState=le,zr(le,W))return st(h,d,B,0),Vn===null&&K(),!1}catch{}finally{}if(x=Ie(h,d,B,T),x!==null)return Qn(x,h,T),ll(x,d,T),!0}return!1}function _c(h,d,x,T){if(T={lane:2,revertLane:vt(),action:T,hasEagerState:!1,eagerState:null,next:null},Hf(h)){if(d)throw Error(r(479))}else d=Ie(h,x,T,2),d!==null&&Qn(d,h,2)}function Hf(h){var d=h.alternate;return h===qt||d!==null&&d===qt}function Ur(h,d){Ru=Do=!0;var x=h.pending;x===null?d.next=d:(d.next=x.next,x.next=d),h.pending=d}function ll(h,d,x){if((x&4194176)!==0){var T=d.lanes;T&=h.pendingLanes,x|=T,d.lanes=x,ne(h,x)}}function Ac(h,d,x,T){d=h.memoizedState,x=x(T,d),x=x==null?d:Mi({},d,x),h.memoizedState=x,h.lanes===0&&(h.updateQueue.baseState=x)}function Sc(h,d,x,T,B,I,W){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,I,W):d.prototype&&d.prototype.isPureReactComponent?!Be(x,T)||!Be(B,I):!0}function I0(h,d,x,T){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,T),d.state!==h&&Kc.enqueueReplaceState(d,d.state,null)}function lo(h,d){var x=d;if("ref"in d){x={};for(var T in d)T!=="ref"&&(x[T]=d[T])}if(h=h.defaultProps){x===d&&(x=Mi({},x));for(var B in h)x[B]===void 0&&(x[B]=h[B])}return x}function Mc(h,d){try{var x=h.onUncaughtError;x(d.value,{componentStack:d.stack})}catch(T){setTimeout(function(){throw T})}}function Ec(h,d,x){try{var T=h.onCaughtError;T(x.value,{componentStack:x.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function Tc(h,d,x){return x=Tt(x),x.tag=3,x.payload={element:null},x.callback=function(){Mc(h,d)},x}function mv(h){return h=Tt(h),h.tag=3,h}function F0(h,d,x,T){var B=x.type.getDerivedStateFromError;if(typeof B=="function"){var I=T.value;h.payload=function(){return B(I)},h.callback=function(){Ec(d,x,T)}}var W=x.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(h.callback=function(){Ec(d,x,T),typeof B!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var le=T.stack;this.componentDidCatch(T.value,{componentStack:le!==null?le:""})})}function F1(h,d,x,T,B){if(x.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(d=x.alternate,d!==null&&jf(d,x,B,!0),x=aa.current,x!==null){switch(x.tag){case 13:return Ga===null?Fa():x.alternate===null&&ui===0&&(ui=3),x.flags&=-257,x.flags|=65536,x.lanes=B,T===Hr?x.flags|=16384:(d=x.updateQueue,d===null?x.updateQueue=new Set([T]):d.add(T),bl(h,T,B)),!1;case 22:return x.flags|=65536,T===Hr?x.flags|=16384:(d=x.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([T])},x.updateQueue=d):(x=d.retryQueue,x===null?d.retryQueue=new Set([T]):x.add(T)),bl(h,T,B)),!1}throw Error(r(435,x.tag))}return bl(h,T,B),Fa(),!1}if(Mn)return d=aa.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=B,T!==vh&&(h=Error(r(422),{cause:T}),Ce(he(h,x)))):(T!==vh&&(d=Error(r(423),{cause:T}),Ce(he(d,x))),h=h.current.alternate,h.flags|=65536,B&=-B,h.lanes|=B,T=he(T,x),B=Tc(h.stateNode,T,B),ce(h,B),ui!==4&&(ui=2)),!1;var I=Error(r(520),{cause:T});if(I=he(I,x),Zc===null?Zc=[I]:Zc.push(I),ui!==4&&(ui=2),d===null)return!0;T=he(T,x),x=d;do{switch(x.tag){case 3:return x.flags|=65536,h=B&-B,x.lanes|=h,h=Tc(x.stateNode,T,h),ce(x,h),!1;case 1:if(d=x.type,I=x.stateNode,(x.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Xs===null||!Xs.has(I))))return x.flags|=65536,B&=-B,x.lanes|=B,B=mv(B),F0(B,h,x,T),ce(x,B),!1}x=x.return}while(x!==null);return!1}function sr(h,d,x,T){d.child=h===null?Vs(d,null,x,T):Pl(d,h.child,x,T)}function kd(h,d,x,T,B){x=x.render;var I=d.ref;if("ref"in T){var W={};for(var le in T)le!=="ref"&&(W[le]=T[le])}else W=T;return cl(d),T=sl(h,d,x,W,I,B),le=so(),h!==null&&!zi?(lu(h,d,B),uo(h,d,B)):(Mn&&le&&pe(d),d.flags|=1,sr(h,d,T,B),d.child)}function z0(h,d,x,T,B){if(h===null){var I=x.type;return typeof I=="function"&&!bo(I)&&I.defaultProps===void 0&&x.compare===null?(d.tag=15,d.type=I,H0(h,d,I,T,B)):(h=bu(x.type,null,T,d,d.mode,B),h.ref=d.ref,h.return=d,d.child=h)}if(I=h.child,!xv(h,B)){var W=I.memoizedProps;if(x=x.compare,x=x!==null?x:Be,x(W,T)&&h.ref===d.ref)return uo(h,d,B)}return d.flags|=1,h=xo(I,T),h.ref=d.ref,h.return=d,d.child=h}function H0(h,d,x,T,B){if(h!==null){var I=h.memoizedProps;if(Be(I,T)&&h.ref===d.ref)if(zi=!1,d.pendingProps=T=I,xv(h,B))(h.flags&131072)!==0&&(zi=!0);else return d.lanes=h.lanes,uo(h,d,B)}return Vd(h,d,x,T,B)}function G0(h,d,x){var T=d.pendingProps,B=T.children,I=(d.stateNode._pendingVisibility&2)!==0,W=h!==null?h.memoizedState:null;if(Gf(h,d),T.mode==="hidden"||I){if((d.flags&128)!==0){if(T=W!==null?W.baseLanes|x:x,h!==null){for(B=d.child=h.child,I=0;B!==null;)I=I|B.lanes|B.childLanes,B=B.sibling;d.childLanes=I&~T}else d.childLanes=0,d.child=null;return k0(h,d,T,x)}if((x&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},h!==null&&qd(d,W!==null?W.cachePool:null),W!==null?Pf(d,W):ou(),yc(d);else return d.lanes=d.childLanes=536870912,k0(h,d,W!==null?W.baseLanes|x:x,x)}else W!==null?(qd(d,W.cachePool),Pf(d,W),is(),d.memoizedState=null):(h!==null&&qd(d,null),ou(),is());return sr(h,d,B,x),d.child}function k0(h,d,x,T){var B=Av();return B=B===null?null:{parent:ls?gi._currentValue:gi._currentValue2,pool:B},d.memoizedState={baseLanes:x,cachePool:B},h!==null&&qd(d,null),ou(),yc(d),h!==null&&jf(h,d,T,!0),null}function Gf(h,d){var x=d.ref;if(x===null)h!==null&&h.ref!==null&&(d.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(h===null||h.ref!==x)&&(d.flags|=2097664)}}function Vd(h,d,x,T,B){return cl(d),x=sl(h,d,x,T,void 0,B),T=so(),h!==null&&!zi?(lu(h,d,B),uo(h,d,B)):(Mn&&T&&pe(d),d.flags|=1,sr(h,d,x,B),d.child)}function V0(h,d,x,T,B,I){return cl(d),d.updateQueue=null,x=Ld(d,T,x,B),Pd(h),T=so(),h!==null&&!zi?(lu(h,d,I),uo(h,d,I)):(Mn&&T&&pe(d),d.flags|=1,sr(h,d,x,I),d.child)}function j0(h,d,x,T,B){if(cl(d),d.stateNode===null){var I=Tu,W=x.contextType;typeof W=="object"&&W!==null&&(I=or(W)),I=new x(T,I),d.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=Kc,d.stateNode=I,I._reactInternals=d,I=d.stateNode,I.props=T,I.state=d.memoizedState,I.refs={},tt(d),W=x.contextType,I.context=typeof W=="object"&&W!==null?or(W):Tu,I.state=d.memoizedState,W=x.getDerivedStateFromProps,typeof W=="function"&&(Ac(d,x,W,T),I.state=d.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(W=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),W!==I.state&&Kc.enqueueReplaceState(I,I.state,null),ft(d,T,I,B),Pe(),I.state=d.memoizedState),typeof I.componentDidMount=="function"&&(d.flags|=4194308),T=!0}else if(h===null){I=d.stateNode;var le=d.memoizedProps,xe=lo(x,le);I.props=xe;var Ve=I.context,at=x.contextType;W=Tu,typeof at=="object"&&at!==null&&(W=or(at));var bt=x.getDerivedStateFromProps;at=typeof bt=="function"||typeof I.getSnapshotBeforeUpdate=="function",le=d.pendingProps!==le,at||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(le||Ve!==W)&&I0(d,I,T,W),Er=!1;var nt=d.memoizedState;I.state=nt,ft(d,T,I,B),Pe(),Ve=d.memoizedState,le||nt!==Ve||Er?(typeof bt=="function"&&(Ac(d,x,bt,T),Ve=d.memoizedState),(xe=Er||Sc(d,x,xe,T,nt,Ve,W))?(at||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(d.flags|=4194308)):(typeof I.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=Ve),I.props=T,I.state=Ve,I.context=W,T=xe):(typeof I.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{I=d.stateNode,St(h,d),W=d.memoizedProps,at=lo(x,W),I.props=at,bt=d.pendingProps,nt=I.context,Ve=x.contextType,xe=Tu,typeof Ve=="object"&&Ve!==null&&(xe=or(Ve)),le=x.getDerivedStateFromProps,(Ve=typeof le=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(W!==bt||nt!==xe)&&I0(d,I,T,xe),Er=!1,nt=d.memoizedState,I.state=nt,ft(d,T,I,B),Pe();var Wt=d.memoizedState;W!==bt||nt!==Wt||Er||h!==null&&h.dependencies!==null&&qf(h.dependencies)?(typeof le=="function"&&(Ac(d,x,le,T),Wt=d.memoizedState),(at=Er||Sc(d,x,at,T,nt,Wt,xe)||h!==null&&h.dependencies!==null&&qf(h.dependencies))?(Ve||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(T,Wt,xe),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(T,Wt,xe)),typeof I.componentDidUpdate=="function"&&(d.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof I.componentDidUpdate!="function"||W===h.memoizedProps&&nt===h.memoizedState||(d.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||W===h.memoizedProps&&nt===h.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=Wt),I.props=T,I.state=Wt,I.context=xe,T=at):(typeof I.componentDidUpdate!="function"||W===h.memoizedProps&&nt===h.memoizedState||(d.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||W===h.memoizedProps&&nt===h.memoizedState||(d.flags|=1024),T=!1)}return I=T,Gf(h,d),T=(d.flags&128)!==0,I||T?(I=d.stateNode,x=T&&typeof x.getDerivedStateFromError!="function"?null:I.render(),d.flags|=1,h!==null&&T?(d.child=Pl(d,h.child,null,B),d.child=Pl(d,null,x,B)):sr(h,d,x,B),d.memoizedState=I.state,h=d.child):h=uo(h,d,B),h}function q0(h,d,x,T){return fe(),d.flags|=256,sr(h,d,x,T),d.child}function vv(h){return{baseLanes:h,cachePool:Sv()}}function kf(h,d,x){return h=h!==null?h.childLanes&~x:0,d&&(h|=Ea),h}function X0(h,d,x){var T=d.pendingProps,B=!1,I=(d.flags&128)!==0,W;if((W=I)||(W=h!==null&&h.memoizedState===null?!1:($n.current&2)!==0),W&&(B=!0,d.flags&=-129),W=(d.flags&32)!==0,d.flags&=-33,h===null){if(Mn){if(B?ga(d):is(),Mn){var le=Gn,xe;(xe=le)&&(le=Lb(le,hs),le!==null?(d.memoizedState={dehydrated:le,treeContext:fs!==null?{id:Gs,overflow:ks}:null,retryLane:536870912},xe=t(18,null,null,0),xe.stateNode=le,xe.return=d,d.child=xe,Ci=d,Gn=null,xe=!0):xe=!1),xe||qe(d)}if(le=d.memoizedState,le!==null&&(le=le.dehydrated,le!==null))return hh(le)?d.lanes=16:d.lanes=536870912,null;Si(d)}return le=T.children,T=T.fallback,B?(is(),B=d.mode,le=yv({mode:"hidden",children:le},B),T=xl(T,B,x,null),le.return=d,T.return=d,le.sibling=T,d.child=le,B=d.child,B.memoizedState=vv(x),B.childLanes=kf(h,W,x),d.memoizedState=bh,T):(ga(d),gv(d,le))}if(xe=h.memoizedState,xe!==null&&(le=xe.dehydrated,le!==null)){if(I)d.flags&256?(ga(d),d.flags&=-257,d=jd(h,d,x)):d.memoizedState!==null?(is(),d.child=h.child,d.flags|=128,d=null):(is(),B=T.fallback,le=d.mode,T=yv({mode:"visible",children:T.children},le),B=xl(B,le,x,null),B.flags|=2,T.return=d,B.return=d,T.sibling=B,d.child=T,Pl(d,h.child,null,x),T=d.child,T.memoizedState=vv(x),T.childLanes=kf(h,W,x),d.memoizedState=bh,d=B);else if(ga(d),hh(le))W=hp(le).digest,T=Error(r(419)),T.stack="",T.digest=W,Ce({value:T,source:null,stack:null}),d=jd(h,d,x);else if(zi||jf(h,d,x,!1),W=(x&h.childLanes)!==0,zi||W){if(W=Vn,W!==null){if(T=x&-x,(T&42)!==0)T=1;else switch(T){case 2:T=1;break;case 8:T=4;break;case 32:T=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:T=64;break;case 268435456:T=134217728;break;default:T=0}if(T=(T&(W.suspendedLanes|x))!==0?0:T,T!==0&&T!==xe.retryLane)throw xe.retryLane=T,Ze(h,T),Qn(W,h,T),lg}Su(le)||Fa(),d=jd(h,d,x)}else Su(le)?(d.flags|=128,d.child=h.child,d=oh.bind(null,h),Db(le,d),d=null):(h=xe.treeContext,na&&(Gn=Wv(le),Ci=d,Mn=!0,Ha=null,hs=!1,h!==null&&(ia[Mr++]=Gs,ia[Mr++]=ks,ia[Mr++]=fs,Gs=h.id,ks=h.overflow,fs=d)),d=gv(d,T.children),d.flags|=4096);return d}return B?(is(),B=T.fallback,le=d.mode,xe=h.child,I=xe.sibling,T=xo(xe,{mode:"hidden",children:T.children}),T.subtreeFlags=xe.subtreeFlags&31457280,I!==null?B=xo(I,B):(B=xl(B,le,x,null),B.flags|=2),B.return=d,T.return=d,T.sibling=B,d.child=T,T=B,B=d.child,le=h.child.memoizedState,le===null?le=vv(x):(xe=le.cachePool,xe!==null?(I=ls?gi._currentValue:gi._currentValue2,xe=xe.parent!==I?{parent:I,pool:I}:xe):xe=Sv(),le={baseLanes:le.baseLanes|x,cachePool:xe}),B.memoizedState=le,B.childLanes=kf(h,W,x),d.memoizedState=bh,T):(ga(d),x=h.child,h=x.sibling,x=xo(x,{mode:"visible",children:T.children}),x.return=d,x.sibling=null,h!==null&&(W=d.deletions,W===null?(d.deletions=[h],d.flags|=16):W.push(h)),d.child=x,d.memoizedState=null,x)}function gv(h,d){return d=yv({mode:"visible",children:d},h.mode),d.return=h,h.child=d}function yv(h,d){return ip(h,d,0,null)}function jd(h,d,x){return Pl(d,h.child,null,x),h=gv(d,d.pendingProps.children),h.flags|=2,d.memoizedState=null,h}function W0(h,d,x){h.lanes|=d;var T=h.alternate;T!==null&&(T.lanes|=d),Vf(h.return,d,x)}function bv(h,d,x,T,B){var I=h.memoizedState;I===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:x,tailMode:B}:(I.isBackwards=d,I.rendering=null,I.renderingStartTime=0,I.last=T,I.tail=x,I.tailMode=B)}function Y0(h,d,x){var T=d.pendingProps,B=T.revealOrder,I=T.tail;if(sr(h,d,T.children,x),T=$n.current,(T&2)!==0)T=T&1|2,d.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&W0(h,x,d);else if(h.tag===19)W0(h,x,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}T&=1}switch(w($n,T),B){case"forwards":for(x=d.child,B=null;x!==null;)h=x.alternate,h!==null&&pi(h)===null&&(B=x),x=x.sibling;x=B,x===null?(B=d.child,d.child=null):(B=x.sibling,x.sibling=null),bv(d,!1,B,x,I);break;case"backwards":for(x=null,B=d.child,d.child=null;B!==null;){if(h=B.alternate,h!==null&&pi(h)===null){d.child=B;break}h=B.sibling,B.sibling=x,x=B,B=h}bv(d,!0,x,null,I);break;case"together":bv(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function uo(h,d,x){if(h!==null&&(d.dependencies=h.dependencies),Xa|=d.lanes,(x&d.childLanes)===0)if(h!==null){if(jf(h,d,x,!1),(x&d.childLanes)===0)return null}else return null;if(h!==null&&d.child!==h.child)throw Error(r(153));if(d.child!==null){for(h=d.child,x=xo(h,h.pendingProps),d.child=x,x.return=d;h.sibling!==null;)h=h.sibling,x=x.sibling=xo(h,h.pendingProps),x.return=d;x.sibling=null}return d.child}function xv(h,d){return(h.lanes&d)!==0?!0:(h=h.dependencies,!!(h!==null&&qf(h)))}function z1(h,d,x){switch(d.tag){case 3:oe(d,d.stateNode.containerInfo),ul(d,gi,h.memoizedState.cache),fe();break;case 27:case 5:Ue(d);break;case 4:oe(d,d.stateNode.containerInfo);break;case 10:ul(d,d.type,d.memoizedProps.value);break;case 13:var T=d.memoizedState;if(T!==null)return T.dehydrated!==null?(ga(d),d.flags|=128,null):(x&d.child.childLanes)!==0?X0(h,d,x):(ga(d),h=uo(h,d,x),h!==null?h.sibling:null);ga(d);break;case 19:var B=(h.flags&128)!==0;if(T=(x&d.childLanes)!==0,T||(jf(h,d,x,!1),T=(x&d.childLanes)!==0),B){if(T)return Y0(h,d,x);d.flags|=128}if(B=d.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),w($n,$n.current),T)break;return null;case 22:case 23:return d.lanes=0,G0(h,d,x);case 24:ul(d,gi,h.memoizedState.cache)}return uo(h,d,x)}function K0(h,d,x){if(h!==null)if(h.memoizedProps!==d.pendingProps)zi=!0;else{if(!xv(h,x)&&(d.flags&128)===0)return zi=!1,z1(h,d,x);zi=(h.flags&131072)!==0}else zi=!1,Mn&&(d.flags&1048576)!==0&&se(d,qc,d.index);switch(d.lanes=0,d.tag){case 16:e:{h=d.pendingProps;var T=d.elementType,B=T._init;if(T=B(T._payload),d.type=T,typeof T=="function")bo(T)?(h=lo(T,h),d.tag=1,d=j0(null,d,T,h,x)):(d.tag=0,d=Vd(null,d,T,h,x));else{if(T!=null){if(B=T.$$typeof,B===rp){d.tag=11,d=kd(null,d,T,h,x);break e}else if(B===Uc){d.tag=14,d=z0(null,d,T,h,x);break e}}throw d=s(T)||T,Error(r(306,d,""))}}return d;case 0:return Vd(h,d,d.type,d.pendingProps,x);case 1:return T=d.type,B=lo(T,d.pendingProps),j0(h,d,T,B,x);case 3:e:{if(oe(d,d.stateNode.containerInfo),h===null)throw Error(r(387));var I=d.pendingProps;B=d.memoizedState,T=B.element,St(h,d),ft(d,I,null,x);var W=d.memoizedState;if(I=W.cache,ul(d,gi,I),I!==B.cache&&fu(d,[gi],x,!0),Pe(),I=W.element,na&&B.isDehydrated)if(B={element:I,isDehydrated:!1,cache:W.cache},d.updateQueue.baseState=B,d.memoizedState=B,d.flags&256){d=q0(h,d,I,x);break e}else if(I!==T){T=he(Error(r(424)),d),Ce(T),d=q0(h,d,I,x);break e}else for(na&&(Gn=Mu(d.stateNode.containerInfo),Ci=d,Mn=!0,Ha=null,hs=!0),x=Vs(d,null,I,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(fe(),I===T){d=uo(h,d,x);break e}sr(h,d,I,x)}d=d.child}return d;case 26:if(_a)return Gf(h,d),h===null?(x=Zv(d.type,null,d.pendingProps,null))?d.memoizedState=x:Mn||(d.stateNode=tg(d.type,d.pendingProps,Ro.current,d)):d.memoizedState=Zv(d.type,h.memoizedProps,d.pendingProps,h.memoizedState),null;case 27:if(er)return Ue(d),h===null&&er&&Mn&&(T=d.stateNode=mp(d.type,d.pendingProps,Ro.current,wi.current,!1),Ci=d,hs=!0,Gn=wo(T)),T=d.pendingProps.children,h!==null||Mn?sr(h,d,T,x):d.child=Pl(d,null,T,x),Gf(h,d),d.child;case 5:return h===null&&Mn&&(Hb(d.type,d.pendingProps,wi.current),(B=T=Gn)&&(T=Yv(T,d.type,d.pendingProps,hs),T!==null?(d.stateNode=T,Ci=d,Gn=wo(T),hs=!1,B=!0):B=!1),B||qe(d)),Ue(d),B=d.type,I=d.pendingProps,W=h!==null?h.memoizedProps:null,T=I.children,ur(B,I)?T=null:W!==null&&ur(B,W)&&(d.flags|=32),d.memoizedState!==null&&(B=sl(h,d,Ud,null,null,x),ls?To._currentValue=B:To._currentValue2=B),Gf(h,d),sr(h,d,T,x),d.child;case 6:return h===null&&Mn&&(Y1(d.pendingProps,wi.current),(h=x=Gn)&&(x=Pb(x,d.pendingProps,hs),x!==null?(d.stateNode=x,Ci=d,Gn=null,h=!0):h=!1),h||qe(d)),null;case 13:return X0(h,d,x);case 4:return oe(d,d.stateNode.containerInfo),T=d.pendingProps,h===null?d.child=Pl(d,null,T,x):sr(h,d,T,x),d.child;case 11:return kd(h,d,d.type,d.pendingProps,x);case 7:return sr(h,d,d.pendingProps,x),d.child;case 8:return sr(h,d,d.pendingProps.children,x),d.child;case 12:return sr(h,d,d.pendingProps.children,x),d.child;case 10:return T=d.pendingProps,ul(d,d.type,T.value),sr(h,d,T.children,x),d.child;case 9:return B=d.type._context,T=d.pendingProps.children,cl(d),B=or(B),T=T(B),d.flags|=1,sr(h,d,T,x),d.child;case 14:return z0(h,d,d.type,d.pendingProps,x);case 15:return H0(h,d,d.type,d.pendingProps,x);case 19:return Y0(h,d,x);case 22:return G0(h,d,x);case 24:return cl(d),T=or(gi),h===null?(B=Av(),B===null&&(B=Vn,I=fl(),B.pooledCache=I,I.refCount++,I!==null&&(B.pooledCacheLanes|=x),B=I),d.memoizedState={parent:T,cache:B},tt(d),ul(d,gi,B)):((h.lanes&x)!==0&&(St(h,d),ft(d,null,null,x),Pe()),B=h.memoizedState,I=d.memoizedState,B.parent!==T?(B={parent:T,cache:T},d.memoizedState=B,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=B),ul(d,gi,T)):(T=I.cache,ul(d,gi,T),T!==B.cache&&fu(d,[gi],x,!0))),sr(h,d,d.pendingProps.children,x),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function ul(h,d,x){ls?(w(ka,d._currentValue),d._currentValue=x):(w(ka,d._currentValue2),d._currentValue2=x)}function co(h){var d=ka.current;ls?h._currentValue=d:h._currentValue2=d,S(ka)}function Vf(h,d,x){for(;h!==null;){var T=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),h===x)break;h=h.return}}function fu(h,d,x,T){var B=h.child;for(B!==null&&(B.return=h);B!==null;){var I=B.dependencies;if(I!==null){var W=B.child;I=I.firstContext;e:for(;I!==null;){var le=I;I=B;for(var xe=0;xe<d.length;xe++)if(le.context===d[xe]){I.lanes|=x,le=I.alternate,le!==null&&(le.lanes|=x),Vf(I.return,x,h),T||(W=null);break e}I=le.next}}else if(B.tag===18){if(W=B.return,W===null)throw Error(r(341));W.lanes|=x,I=W.alternate,I!==null&&(I.lanes|=x),Vf(W,x,h),W=null}else W=B.child;if(W!==null)W.return=B;else for(W=B;W!==null;){if(W===h){W=null;break}if(B=W.sibling,B!==null){B.return=W.return,W=B;break}W=W.return}B=W}}function jf(h,d,x,T){h=null;for(var B=d,I=!1;B!==null;){if(!I){if((B.flags&524288)!==0)I=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var W=B.alternate;if(W===null)throw Error(r(387));if(W=W.memoizedProps,W!==null){var le=B.type;zr(B.pendingProps.value,W.value)||(h!==null?h.push(le):h=[le])}}else if(B===mh.current){if(W=B.alternate,W===null)throw Error(r(387));W.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(h!==null?h.push(To):h=[To])}B=B.return}h!==null&&fu(d,h,x,T),d.flags|=262144}function qf(h){for(h=h.firstContext;h!==null;){var d=h.context;if(!zr(ls?d._currentValue:d._currentValue2,h.memoizedValue))return!0;h=h.next}return!1}function cl(h){zl=h,Va=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function or(h){return _v(zl,h)}function Xf(h,d){return zl===null&&cl(h),_v(h,d)}function _v(h,d){var x=ls?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:x,next:null},Va===null){if(h===null)throw Error(r(308));Va=d,h.dependencies={lanes:0,firstContext:d},h.flags|=524288}else Va=Va.next=d;return x}function fl(){return{controller:new xh,data:new Map,refCount:0}}function Wf(h){h.refCount--,h.refCount===0&&fi(J1,function(){h.controller.abort()})}function Av(){var h=Ou.current;return h!==null?h:Vn.pooledCache}function qd(h,d){d===null?w(Ou,Ou.current):w(Ou,d.pool)}function Sv(){var h=Av();return h===null?null:{parent:ls?gi._currentValue:gi._currentValue2,pool:h}}function Jr(h){h.flags|=4}function wc(h,d){if(h!==null&&h.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(h=d.child;h!==null;){if((h.flags&13878)!==0||(h.subtreeFlags&13878)!==0)return!0;h=h.sibling}return!1}function hu(h,d,x,T){if(oi)for(x=d.child;x!==null;){if(x.tag===5||x.tag===6)ch(h,x.stateNode);else if(!(x.tag===4||er&&x.tag===27)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else if(us)for(var B=d.child;B!==null;){if(B.tag===5){var I=B.stateNode;x&&T&&(I=Bb(I,B.type,B.memoizedProps)),ch(h,I)}else if(B.tag===6)I=B.stateNode,x&&T&&(I=Xv(I,B.memoizedProps)),ch(h,I);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)I=B.child,I!==null&&(I.return=B),hu(h,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===d)break;for(;B.sibling===null;){if(B.return===null||B.return===d)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function J0(h,d,x,T){if(us)for(var B=d.child;B!==null;){if(B.tag===5){var I=B.stateNode;x&&T&&(I=Bb(I,B.type,B.memoizedProps)),qv(h,I)}else if(B.tag===6)I=B.stateNode,x&&T&&(I=Xv(I,B.memoizedProps)),qv(h,I);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)I=B.child,I!==null&&(I.return=B),J0(h,B,!(B.memoizedProps!==null&&B.memoizedProps.mode==="manual"),!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===d)break;for(;B.sibling===null;){if(B.return===null||B.return===d)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function Yf(h,d){if(us&&wc(h,d)){h=d.stateNode;var x=h.containerInfo,T=fp();J0(T,d,!1,!1),h.pendingChildren=T,Jr(d),Rb(x,T)}}function Xd(h,d,x,T){if(oi)h.memoizedProps!==T&&Jr(d);else if(us){var B=h.stateNode,I=h.memoizedProps;if((h=wc(h,d))||I!==T){var W=wi.current;I=Cb(B,x,I,T,!h,null),I===B?d.stateNode=B:(ap(I,x,T,W)&&Jr(d),d.stateNode=I,h?hu(I,d,!1,!1):Jr(d))}else d.stateNode=B}}function Wd(h,d,x){if(zv(d,x)){if(h.flags|=16777216,!Hv(d,x))if($i())h.flags|=8192;else throw Tr=Hr,yh}else h.flags&=-16777217}function Yd(h,d){if(Vb(d)){if(h.flags|=16777216,!ng(d))if($i())h.flags|=8192;else throw Tr=Hr,yh}else h.flags&=-16777217}function Cc(h,d){d!==null&&(h.flags|=4),h.flags&16384&&(d=h.tag!==22?P():536870912,h.lanes|=d,Gi|=d)}function Rc(h,d){if(!Mn)switch(h.tailMode){case"hidden":d=h.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?h.tail=null:x.sibling=null;break;case"collapsed":x=h.tail;for(var T=null;x!==null;)x.alternate!==null&&(T=x),x=x.sibling;T===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function si(h){var d=h.alternate!==null&&h.alternate.child===h.child,x=0,T=0;if(d)for(var B=h.child;B!==null;)x|=B.lanes|B.childLanes,T|=B.subtreeFlags&31457280,T|=B.flags&31457280,B.return=h,B=B.sibling;else for(B=h.child;B!==null;)x|=B.lanes|B.childLanes,T|=B.subtreeFlags,T|=B.flags,B.return=h,B=B.sibling;return h.subtreeFlags|=T,h.childLanes=x,d}function Z0(h,d,x){var T=d.pendingProps;switch(Se(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(d),null;case 1:return si(d),null;case 3:return x=d.stateNode,T=null,h!==null&&(T=h.memoizedState.cache),d.memoizedState.cache!==T&&(d.flags|=2048),co(gi),Te(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(h===null||h.child===null)&&(Xe(d)?Jr(d):h===null||h.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ha!==null&&(go(Ha),Ha=null))),Yf(h,d),si(d),null;case 26:if(_a){x=d.type;var B=d.memoizedState;return h===null?(Jr(d),B!==null?(si(d),Yd(d,B)):(si(d),Wd(d,x,T))):B?B!==h.memoizedState?(Jr(d),si(d),Yd(d,B)):(si(d),d.flags&=-16777217):(oi?h.memoizedProps!==T&&Jr(d):Xd(h,d,x,T),si(d),Wd(d,x,T)),null}case 27:if(er){if(We(d),x=Ro.current,B=d.type,h!==null&&d.stateNode!=null)oi?h.memoizedProps!==T&&Jr(d):Xd(h,d,B,T);else{if(!T){if(d.stateNode===null)throw Error(r(166));return si(d),null}h=wi.current,Xe(d)?Le(d,h):(h=mp(B,T,x,h,!0),d.stateNode=h,Jr(d))}return si(d),null}case 5:if(We(d),x=d.type,h!==null&&d.stateNode!=null)Xd(h,d,x,T);else{if(!T){if(d.stateNode===null)throw Error(r(166));return si(d),null}h=wi.current,Xe(d)?Le(d,h):(B=Fv(x,T,Ro.current,h,d),hu(B,d,!1,!1),d.stateNode=B,ap(B,x,T,h)&&Jr(d))}return si(d),Wd(d,d.type,d.pendingProps),null;case 6:if(h&&d.stateNode!=null)x=h.memoizedProps,oi?x!==T&&Jr(d):us&&(x!==T?(d.stateNode=Ei(T,Ro.current,wi.current,d),Jr(d)):d.stateNode=h.stateNode);else{if(typeof T!="string"&&d.stateNode===null)throw Error(r(166));if(h=Ro.current,x=wi.current,Xe(d)){if(!na)throw Error(r(176));if(h=d.stateNode,x=d.memoizedProps,T=null,B=Ci,B!==null)switch(B.tag){case 27:case 5:T=B.memoizedProps}dp(h,x,d,T)||qe(d)}else d.stateNode=Ei(T,h,x,d)}return si(d),null;case 13:if(T=d.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(B=Xe(d),T!==null&&T.dehydrated!==null){if(h===null){if(!B)throw Error(r(318));if(!na)throw Error(r(344));if(B=d.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(r(317));Ub(B,d)}else fe(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;si(d),B=!1}else Ha!==null&&(go(Ha),Ha=null),B=!0;if(!B)return d.flags&256?(Si(d),d):(Si(d),null)}if(Si(d),(d.flags&128)!==0)return d.lanes=x,d;if(x=T!==null,h=h!==null&&h.memoizedState!==null,x){T=d.child,B=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(B=T.alternate.memoizedState.cachePool.pool);var I=null;T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(I=T.memoizedState.cachePool.pool),I!==B&&(T.flags|=2048)}return x!==h&&x&&(d.child.flags|=8192),Cc(d,d.updateQueue),si(d),null;case 4:return Te(),Yf(h,d),h===null&&ob(d.stateNode.containerInfo),si(d),null;case 10:return co(d.type),si(d),null;case 19:if(S($n),B=d.memoizedState,B===null)return si(d),null;if(T=(d.flags&128)!==0,I=B.rendering,I===null)if(T)Rc(B,!1);else{if(ui!==0||h!==null&&(h.flags&128)!==0)for(h=d.child;h!==null;){if(I=pi(h),I!==null){for(d.flags|=128,Rc(B,!1),h=I.updateQueue,d.updateQueue=h,Cc(d,h),d.subtreeFlags=0,h=x,x=d.child;x!==null;)yu(x,h),x=x.sibling;return w($n,$n.current&1|2),d.child}h=h.sibling}B.tail!==null&&Aa()>Ta&&(d.flags|=128,T=!0,Rc(B,!1),d.lanes=4194304)}else{if(!T)if(h=pi(I),h!==null){if(d.flags|=128,T=!0,h=h.updateQueue,d.updateQueue=h,Cc(d,h),Rc(B,!0),B.tail===null&&B.tailMode==="hidden"&&!I.alternate&&!Mn)return si(d),null}else 2*Aa()-B.renderingStartTime>Ta&&x!==536870912&&(d.flags|=128,T=!0,Rc(B,!1),d.lanes=4194304);B.isBackwards?(I.sibling=d.child,d.child=I):(h=B.last,h!==null?h.sibling=I:d.child=I,B.last=I)}return B.tail!==null?(d=B.tail,B.rendering=d,B.tail=d.sibling,B.renderingStartTime=Aa(),d.sibling=null,h=$n.current,w($n,T?h&1|2:h&1),d):(si(d),null);case 22:case 23:return Si(d),Pa(),T=d.memoizedState!==null,h!==null?h.memoizedState!==null!==T&&(d.flags|=8192):T&&(d.flags|=8192),T?(x&536870912)!==0&&(d.flags&128)===0&&(si(d),d.subtreeFlags&6&&(d.flags|=8192)):si(d),x=d.updateQueue,x!==null&&Cc(d,x.retryQueue),x=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),T=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(T=d.memoizedState.cachePool.pool),T!==x&&(d.flags|=2048),h!==null&&S(Ou),null;case 24:return x=null,h!==null&&(x=h.memoizedState.cache),d.memoizedState.cache!==x&&(d.flags|=2048),co(gi),si(d),null;case 25:return null}throw Error(r(156,d.tag))}function H1(h,d){switch(Se(d),d.tag){case 1:return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 3:return co(gi),Te(),h=d.flags,(h&65536)!==0&&(h&128)===0?(d.flags=h&-65537|128,d):null;case 26:case 27:case 5:return We(d),null;case 13:if(Si(d),h=d.memoizedState,h!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(r(340));fe()}return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 19:return S($n),null;case 4:return Te(),null;case 10:return co(d.type),null;case 22:case 23:return Si(d),Pa(),h!==null&&S(Ou),h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 24:return co(gi),null;case 25:return null;default:return null}}function Q0(h,d){switch(Se(d),d.tag){case 3:co(gi),Te();break;case 26:case 27:case 5:We(d);break;case 4:Te();break;case 13:Si(d);break;case 19:S($n);break;case 10:co(d.type);break;case 22:case 23:Si(d),Pa(),h!==null&&S(Ou);break;case 24:co(gi)}}function Kf(h,d){try{var x=d.updateQueue,T=x!==null?x.lastEffect:null;if(T!==null){var B=T.next;x=B;do{if((x.tag&h)===h){T=void 0;var I=x.create,W=x.inst;T=I(),W.destroy=T}x=x.next}while(x!==B)}}catch(le){Nn(d,d.return,le)}}function hl(h,d,x){try{var T=d.updateQueue,B=T!==null?T.lastEffect:null;if(B!==null){var I=B.next;T=I;do{if((T.tag&h)===h){var W=T.inst,le=W.destroy;if(le!==void 0){W.destroy=void 0,B=d;var xe=x;try{le()}catch(Ve){Nn(B,xe,Ve)}}}T=T.next}while(T!==I)}}catch(Ve){Nn(d,d.return,Ve)}}function $0(h){var d=h.updateQueue;if(d!==null){var x=h.stateNode;try{it(d,x)}catch(T){Nn(h,h.return,T)}}}function Zr(h,d,x){x.props=lo(h.type,h.memoizedProps),x.state=h.memoizedState;try{x.componentWillUnmount()}catch(T){Nn(h,d,T)}}function os(h,d){try{var x=h.ref;if(x!==null){var T=h.stateNode;switch(h.tag){case 26:case 27:case 5:var B=_u(T);break;default:B=T}typeof x=="function"?h.refCleanup=x(B):x.current=B}}catch(I){Nn(h,d,I)}}function Qr(h,d){var x=h.ref,T=h.refCleanup;if(x!==null)if(typeof T=="function")try{T()}catch(B){Nn(h,d,B)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(B){Nn(h,d,B)}else x.current=null}function Mv(h){var d=h.type,x=h.memoizedProps,T=h.stateNode;try{xb(T,d,x,h)}catch(B){Nn(h,h.return,B)}}function Ev(h,d,x){try{_b(h.stateNode,h.type,x,d,h)}catch(T){Nn(h,h.return,T)}}function Tv(h){return h.tag===5||h.tag===3||(_a?h.tag===26:!1)||(er?h.tag===27:!1)||h.tag===4}function Jf(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Tv(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&(!er||h.tag!==27)&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function wv(h,d,x){var T=h.tag;if(T===5||T===6)h=h.stateNode,d?Vv(x,h,d):kv(x,h);else if(!(T===4||er&&T===27)&&(h=h.child,h!==null))for(wv(h,d,x),h=h.sibling;h!==null;)wv(h,d,x),h=h.sibling}function Kd(h,d,x){var T=h.tag;if(T===5||T===6)h=h.stateNode,d?Ab(x,h,d):yb(x,h);else if(!(T===4||er&&T===27)&&(h=h.child,h!==null))for(Kd(h,d,x),h=h.sibling;h!==null;)Kd(h,d,x),h=h.sibling}function du(h,d,x){h=h.containerInfo;try{Ob(h,x)}catch(T){Nn(d,d.return,T)}}function Cv(h,d){for(sb(h.containerInfo),Ut=d;Ut!==null;)if(h=Ut,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,Ut=d;else for(;Ut!==null;){h=Ut;var x=h.alternate;switch(d=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&x!==null){d=void 0;var T=h,B=x.memoizedProps;x=x.memoizedState;var I=T.stateNode;try{var W=lo(T.type,B,T.elementType===T.type);d=I.getSnapshotBeforeUpdate(W,x),I.__reactInternalSnapshotBeforeUpdate=d}catch(le){Nn(T,T.return,le)}}break;case 3:(d&1024)!==0&&oi&&wb(h.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=h.sibling,d!==null){d.return=h.return,Ut=d;break}Ut=h.return}return W=Wn,Wn=!1,W}function Oc(h,d,x){var T=x.flags;switch(x.tag){case 0:case 11:case 15:ho(h,x),T&4&&Kf(5,x);break;case 1:if(ho(h,x),T&4)if(h=x.stateNode,d===null)try{h.componentDidMount()}catch(le){Nn(x,x.return,le)}else{var B=lo(x.type,d.memoizedProps);d=d.memoizedState;try{h.componentDidUpdate(B,d,h.__reactInternalSnapshotBeforeUpdate)}catch(le){Nn(x,x.return,le)}}T&64&&$0(x),T&512&&os(x,x.return);break;case 3:if(ho(h,x),T&64&&(T=x.updateQueue,T!==null)){if(h=null,x.child!==null)switch(x.child.tag){case 27:case 5:h=_u(x.child.stateNode);break;case 1:h=x.child.stateNode}try{it(T,h)}catch(le){Nn(x,x.return,le)}}break;case 26:if(_a){ho(h,x),T&512&&os(x,x.return);break}case 27:case 5:ho(h,x),d===null&&T&4&&Mv(x),T&512&&os(x,x.return);break;case 12:ho(h,x);break;case 13:ho(h,x),T&4&&pu(h,x);break;case 22:if(B=x.memoizedState!==null||Lo,!B){d=d!==null&&d.memoizedState!==null||Xt;var I=Lo,W=Xt;Lo=B,(Xt=d)&&!W?dl(h,x,(x.subtreeFlags&8772)!==0):ho(h,x),Lo=I,Xt=W}T&512&&(x.memoizedProps.mode==="manual"?os(x,x.return):Qr(x,x.return));break;default:ho(h,x)}}function Jd(h){var d=h.alternate;d!==null&&(h.alternate=null,Jd(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode,d!==null&&cb(d)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function La(h,d,x){for(x=x.child;x!==null;)fo(h,d,x),x=x.sibling}function fo(h,d,x){if(Fi&&typeof Fi.onCommitFiberUnmount=="function")try{Fi.onCommitFiberUnmount(jc,x)}catch{}switch(x.tag){case 26:if(_a){Xt||Qr(x,d),La(h,d,x),x.memoizedState?$v(x.memoizedState):x.stateNode&&Gc(x.stateNode);break}case 27:if(er){Xt||Qr(x,d);var T=On,B=Bi;On=x.stateNode,La(h,d,x),ag(x.stateNode),On=T,Bi=B;break}case 5:Xt||Qr(x,d);case 6:if(oi){if(T=On,B=Bi,On=null,La(h,d,x),On=T,Bi=B,On!==null)if(Bi)try{Mb(On,x.stateNode)}catch(I){Nn(x,d,I)}else try{Sb(On,x.stateNode)}catch(I){Nn(x,d,I)}}else La(h,d,x);break;case 18:oi&&On!==null&&(Bi?Kv(On,x.stateNode):zb(On,x.stateNode));break;case 4:oi?(T=On,B=Bi,On=x.stateNode.containerInfo,Bi=!0,La(h,d,x),On=T,Bi=B):(us&&du(x.stateNode,x,fp()),La(h,d,x));break;case 0:case 11:case 14:case 15:Xt||hl(2,x,d),Xt||hl(4,x,d),La(h,d,x);break;case 1:Xt||(Qr(x,d),T=x.stateNode,typeof T.componentWillUnmount=="function"&&Zr(x,d,T)),La(h,d,x);break;case 21:La(h,d,x);break;case 22:Xt||Qr(x,d),Xt=(T=Xt)||x.memoizedState!==null,La(h,d,x),Xt=T;break;default:La(h,d,x)}}function pu(h,d){if(na&&d.memoizedState===null&&(h=d.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{pp(h)}catch(x){Nn(d,d.return,x)}}function Rv(h){switch(h.tag){case 13:case 19:var d=h.stateNode;return d===null&&(d=h.stateNode=new on),d;case 22:return h=h.stateNode,d=h._retryCache,d===null&&(d=h._retryCache=new on),d;default:throw Error(r(435,h.tag))}}function Zd(h,d){var x=Rv(h);d.forEach(function(T){var B=np.bind(null,h,T);x.has(T)||(x.add(T),T.then(B,B))})}function Li(h,d){var x=d.deletions;if(x!==null)for(var T=0;T<x.length;T++){var B=x[T],I=h,W=d;if(oi){var le=W;e:for(;le!==null;){switch(le.tag){case 27:case 5:On=le.stateNode,Bi=!1;break e;case 3:On=le.stateNode.containerInfo,Bi=!0;break e;case 4:On=le.stateNode.containerInfo,Bi=!0;break e}le=le.return}if(On===null)throw Error(r(160));fo(I,W,B),On=null,Bi=!1}else fo(I,W,B);I=B.alternate,I!==null&&(I.return=null),B.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)Ov(d,h),d=d.sibling}function Ov(h,d){var x=h.alternate,T=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:Li(d,h),$r(h),T&4&&(hl(3,h,h.return),Kf(3,h),hl(5,h,h.return));break;case 1:Li(d,h),$r(h),T&512&&(Xt||x===null||Qr(x,x.return)),T&64&&Lo&&(h=h.updateQueue,h!==null&&(T=h.callbacks,T!==null&&(x=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=x===null?T:x.concat(T))));break;case 26:if(_a){var B=Cr;Li(d,h),$r(h),T&512&&(Xt||x===null||Qr(x,x.return)),T&4&&(T=x!==null?x.memoizedState:null,d=h.memoizedState,x===null?d===null?h.stateNode===null?h.stateNode=Gb(B,h.type,h.memoizedProps,h):eg(B,h.type,h.stateNode):h.stateNode=Qv(B,d,h.memoizedProps):T!==d?(T===null?x.stateNode!==null&&Gc(x.stateNode):$v(T),d===null?eg(B,h.type,h.stateNode):Qv(B,d,h.memoizedProps)):d===null&&h.stateNode!==null&&Ev(h,h.memoizedProps,x.memoizedProps));break}case 27:if(er&&T&4&&h.alternate===null){B=h.stateNode;var I=h.memoizedProps;try{jb(B),rg(h.type,I,B,h)}catch(at){Nn(h,h.return,at)}}case 5:if(Li(d,h),$r(h),T&512&&(Xt||x===null||Qr(x,x.return)),oi){if(h.flags&32){d=h.stateNode;try{cp(d)}catch(at){Nn(h,h.return,at)}}T&4&&h.stateNode!=null&&(d=h.memoizedProps,Ev(h,d,x!==null?x.memoizedProps:d)),T&1024&&(kn=!0)}break;case 6:if(Li(d,h),$r(h),T&4&&oi){if(h.stateNode===null)throw Error(r(162));T=h.memoizedProps,x=x!==null?x.memoizedProps:T,d=h.stateNode;try{bb(d,x,T)}catch(at){Nn(h,h.return,at)}}break;case 3:if(_a?(kb(),B=Cr,Cr=Yi(d.containerInfo),Li(d,h),Cr=B):Li(d,h),$r(h),T&4){if(oi&&na&&x!==null&&x.memoizedState.isDehydrated)try{Fb(d.containerInfo)}catch(at){Nn(h,h.return,at)}if(us){T=d.containerInfo,x=d.pendingChildren;try{Ob(T,x)}catch(at){Nn(h,h.return,at)}}}kn&&(kn=!1,Bv(h));break;case 4:_a?(x=Cr,Cr=Yi(h.stateNode.containerInfo),Li(d,h),$r(h),Cr=x):(Li(d,h),$r(h)),T&4&&us&&du(h.stateNode,h,h.stateNode.pendingChildren);break;case 12:Li(d,h),$r(h);break;case 13:Li(d,h),$r(h),h.child.flags&8192&&h.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(cg=Aa()),T&4&&(T=h.updateQueue,T!==null&&(h.updateQueue=null,Zd(h,T)));break;case 22:T&512&&(Xt||x===null||Qr(x,x.return)),B=h.memoizedState!==null;var W=x!==null&&x.memoizedState!==null,le=Lo,xe=Xt;if(Lo=le||B,Xt=xe||W,Li(d,h),Xt=xe,Lo=le,$r(h),d=h.stateNode,d._current=h,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,T&8192&&(d._visibility=B?d._visibility&-2:d._visibility|1,B&&(d=Lo||Xt,x===null||W||d||Bc(h)),oi&&(h.memoizedProps===null||h.memoizedProps.mode!=="manual"))){e:if(x=null,oi)for(d=h;;){if(d.tag===5||_a&&d.tag===26||er&&d.tag===27){if(x===null){W=x=d;try{I=W.stateNode,B?Eb(I):W1(W.stateNode,W.memoizedProps)}catch(at){Nn(W,W.return,at)}}}else if(d.tag===6){if(x===null){W=d;try{var Ve=W.stateNode;B?Tb(Ve):jv(Ve,W.memoizedProps)}catch(at){Nn(W,W.return,at)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===h)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;x===d&&(x=null),d=d.return}x===d&&(x=null),d.sibling.return=d.return,d=d.sibling}}T&4&&(T=h.updateQueue,T!==null&&(x=T.retryQueue,x!==null&&(T.retryQueue=null,Zd(h,x))));break;case 19:Li(d,h),$r(h),T&4&&(T=h.updateQueue,T!==null&&(h.updateQueue=null,Zd(h,T)));break;case 21:break;default:Li(d,h),$r(h)}}function $r(h){var d=h.flags;if(d&2){try{if(oi&&(!er||h.tag!==27)){e:{for(var x=h.return;x!==null;){if(Tv(x)){var T=x;break e}x=x.return}throw Error(r(160))}switch(T.tag){case 27:if(er){var B=T.stateNode,I=Jf(h);Kd(h,I,B);break}case 5:var W=T.stateNode;T.flags&32&&(cp(W),T.flags&=-33);var le=Jf(h);Kd(h,le,W);break;case 3:case 4:var xe=T.stateNode.containerInfo,Ve=Jf(h);wv(h,Ve,xe);break;default:throw Error(r(161))}}}catch(at){Nn(h,h.return,at)}h.flags&=-3}d&4096&&(h.flags&=-4097)}function Bv(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var d=h;Bv(d),d.tag===5&&d.flags&1024&&hb(d.stateNode),h=h.sibling}}function ho(h,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)Oc(h,d.alternate,d),d=d.sibling}function Bc(h){for(h=h.child;h!==null;){var d=h;switch(d.tag){case 0:case 11:case 14:case 15:hl(4,d,d.return),Bc(d);break;case 1:Qr(d,d.return);var x=d.stateNode;typeof x.componentWillUnmount=="function"&&Zr(d,d.return,x),Bc(d);break;case 26:case 27:case 5:Qr(d,d.return),Bc(d);break;case 22:Qr(d,d.return),d.memoizedState===null&&Bc(d);break;default:Bc(d)}h=h.sibling}}function dl(h,d,x){for(x=x&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var T=d.alternate,B=h,I=d,W=I.flags;switch(I.tag){case 0:case 11:case 15:dl(B,I,x),Kf(4,I);break;case 1:if(dl(B,I,x),T=I,B=T.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(Ve){Nn(T,T.return,Ve)}if(T=I,B=T.updateQueue,B!==null){var le=T.stateNode;try{var xe=B.shared.hiddenCallbacks;if(xe!==null)for(B.shared.hiddenCallbacks=null,B=0;B<xe.length;B++)ue(xe[B],le)}catch(Ve){Nn(T,T.return,Ve)}}x&&W&64&&$0(I),os(I,I.return);break;case 26:case 27:case 5:dl(B,I,x),x&&T===null&&W&4&&Mv(I),os(I,I.return);break;case 12:dl(B,I,x);break;case 13:dl(B,I,x),x&&W&4&&pu(B,I);break;case 22:I.memoizedState===null&&dl(B,I,x),os(I,I.return);break;default:dl(B,I,x)}d=d.sibling}}function Qd(h,d){var x=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),h=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(h=d.memoizedState.cachePool.pool),h!==x&&(h!=null&&h.refCount++,x!=null&&Wf(x))}function $d(h,d){h=null,d.alternate!==null&&(h=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==h&&(d.refCount++,h!=null&&Wf(h))}function po(h,d,x,T){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Ua(h,d,x,T),d=d.sibling}function Ua(h,d,x,T){var B=d.flags;switch(d.tag){case 0:case 11:case 15:po(h,d,x,T),B&2048&&Kf(9,d);break;case 3:po(h,d,x,T),B&2048&&(h=null,d.alternate!==null&&(h=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==h&&(d.refCount++,h!=null&&Wf(h)));break;case 12:if(B&2048){po(h,d,x,T),h=d.stateNode;try{var I=d.memoizedProps,W=I.id,le=I.onPostCommit;typeof le=="function"&&le(W,d.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(xe){Nn(d,d.return,xe)}}else po(h,d,x,T);break;case 23:break;case 22:I=d.stateNode,d.memoizedState!==null?I._visibility&4?po(h,d,x,T):Ds(h,d):I._visibility&4?po(h,d,x,T):(I._visibility|=4,lr(h,d,x,T,(d.subtreeFlags&10256)!==0)),B&2048&&Qd(d.alternate,d);break;case 24:po(h,d,x,T),B&2048&&$d(d.alternate,d);break;default:po(h,d,x,T)}}function lr(h,d,x,T,B){for(B=B&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var I=h,W=d,le=x,xe=T,Ve=W.flags;switch(W.tag){case 0:case 11:case 15:lr(I,W,le,xe,B),Kf(8,W);break;case 23:break;case 22:var at=W.stateNode;W.memoizedState!==null?at._visibility&4?lr(I,W,le,xe,B):Ds(I,W):(at._visibility|=4,lr(I,W,le,xe,B)),B&&Ve&2048&&Qd(W.alternate,W);break;case 24:lr(I,W,le,xe,B),B&&Ve&2048&&$d(W.alternate,W);break;default:lr(I,W,le,xe,B)}d=d.sibling}}function Ds(h,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var x=h,T=d,B=T.flags;switch(T.tag){case 22:Ds(x,T),B&2048&&Qd(T.alternate,T);break;case 24:Ds(x,T),B&2048&&$d(T.alternate,T);break;default:Ds(x,T)}d=d.sibling}}function mo(h){if(h.subtreeFlags&Hl)for(h=h.child;h!==null;)Zf(h),h=h.sibling}function Zf(h){switch(h.tag){case 26:mo(h),h.flags&Hl&&(h.memoizedState!==null?ig(Cr,h.memoizedState,h.memoizedProps):Gv(h.type,h.memoizedProps));break;case 5:mo(h),h.flags&Hl&&Gv(h.type,h.memoizedProps);break;case 3:case 4:if(_a){var d=Cr;Cr=Yi(h.stateNode.containerInfo),mo(h),Cr=d}else mo(h);break;case 22:h.memoizedState===null&&(d=h.alternate,d!==null&&d.memoizedState!==null?(d=Hl,Hl=16777216,mo(h),Hl=d):mo(h));break;default:mo(h)}}function Qf(h){var d=h.alternate;if(d!==null&&(h=d.child,h!==null)){d.child=null;do d=h.sibling,h.sibling=null,h=d;while(h!==null)}}function mu(h){var d=h.deletions;if((h.flags&16)!==0){if(d!==null)for(var x=0;x<d.length;x++){var T=d[x];Ut=T,eh(T,h)}Qf(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)vo(h),h=h.sibling}function vo(h){switch(h.tag){case 0:case 11:case 15:mu(h),h.flags&2048&&hl(9,h,h.return);break;case 3:mu(h);break;case 12:mu(h);break;case 22:var d=h.stateNode;h.memoizedState!==null&&d._visibility&4&&(h.return===null||h.return.tag!==13)?(d._visibility&=-5,$f(h)):mu(h);break;default:mu(h)}}function $f(h){var d=h.deletions;if((h.flags&16)!==0){if(d!==null)for(var x=0;x<d.length;x++){var T=d[x];Ut=T,eh(T,h)}Qf(h)}for(h=h.child;h!==null;){switch(d=h,d.tag){case 0:case 11:case 15:hl(8,d,d.return),$f(d);break;case 22:x=d.stateNode,x._visibility&4&&(x._visibility&=-5,$f(d));break;default:$f(d)}h=h.sibling}}function eh(h,d){for(;Ut!==null;){var x=Ut;switch(x.tag){case 0:case 11:case 15:hl(8,x,d);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var T=x.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:Wf(x.memoizedState.cache)}if(T=x.child,T!==null)T.return=x,Ut=T;else e:for(x=h;Ut!==null;){T=Ut;var B=T.sibling,I=T.return;if(Jd(T),T===x){Ut=null;break e}if(B!==null){B.return=I,Ut=B;break e}Ut=I}}}function pl(h){var d=op(h);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(r(364));return d}if(h=mb(h),h===null)throw Error(r(362));return h.stateNode.current}function ep(h,d){var x=h.tag;switch(d.$$typeof){case ri:if(h.type===d.value)return!0;break;case vs:e:{for(d=d.value,h=[h,0],x=0;x<h.length;){var T=h[x++],B=T.tag,I=h[x++],W=d[I];if(B!==5&&B!==26&&B!==27||!Fs(T)){for(;W!=null&&ep(T,W);)I++,W=d[I];if(I===d.length){d=!0;break e}else for(T=T.child;T!==null;)h.push(T,I),T=T.sibling}}d=!1}return d;case js:if((x===5||x===26||x===27)&&gb(h.stateNode,d.value))return!0;break;case kr:if((x===5||x===6||x===26||x===27)&&(h=vb(h),h!==null&&0<=h.indexOf(d.value)))return!0;break;case Jc:if((x===5||x===26||x===27)&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function ea(h){switch(h.$$typeof){case ri:return"<"+(s(h.value)||"Unknown")+">";case vs:return":has("+(ea(h)||"")+")";case js:return'[role="'+h.value+'"]';case kr:return'"'+h.value+'"';case Jc:return'[data-testname="'+h.value+'"]';default:throw Error(r(365))}}function vu(h,d){var x=[];h=[h,0];for(var T=0;T<h.length;){var B=h[T++],I=B.tag,W=h[T++],le=d[W];if(I!==5&&I!==26&&I!==27||!Fs(B)){for(;le!=null&&ep(B,le);)W++,le=d[W];if(W===d.length)x.push(B);else for(B=B.child;B!==null;)h.push(B,W),B=B.sibling}}return x}function ml(h,d){if(!Hc)throw Error(r(363));h=pl(h),h=vu(h,d),d=[],h=Array.from(h);for(var x=0;x<h.length;){var T=h[x++],B=T.tag;if(B===5||B===26||B===27)Fs(T)||d.push(T.stateNode);else for(T=T.child;T!==null;)h.push(T),T=T.sibling}return d}function _r(){if((fn&2)!==0&&hn!==0)return hn&-hn;if(Gt.T!==null){var h=ii;return h!==0?h:vt()}return lb()}function th(){Ea===0&&(Ea=(hn&536870912)===0||Mn?z():536870912);var h=aa.current;return h!==null&&(h.flags|=32),Ea}function Qn(h,d,x){(h===Vn&&Hn===2||h.cancelPendingCommit!==null)&&(vl(h,0),Ir(h,hn,Ea,!1)),H(h,x),((fn&2)===0||h!==Vn)&&(h===Vn&&((fn&2)===0&&(Io|=x),ui===4&&Ir(h,hn,Ea,!1)),rt(h))}function ba(h,d,x){if((fn&6)!==0)throw Error(r(327));var T=!x&&(d&60)===0&&(d&h.expiredLanes)===0||N(h,d),B=T?eb(h,d):ih(h,d,!0),I=T;do{if(B===0){qa&&!T&&Ir(h,d,0,!1);break}else if(B===6)Ir(h,d,0,!ja);else{if(x=h.current.alternate,I&&!yo(x)){B=ih(h,d,!1),I=!1;continue}if(B===2){if(I=d,h.errorRecoveryDisabledLanes&I)var W=0;else W=h.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){d=W;e:{var le=h;B=Zc;var xe=na&&le.current.memoizedState.isDehydrated;if(xe&&(vl(le,W).flags|=256),W=ih(le,W,!1),W!==2){if(Bu&&!xe){le.errorRecoveryDisabledLanes|=I,Io|=I,B=4;break e}I=Wa,Wa=B,I!==null&&go(I)}B=W}if(I=!1,B!==2)continue}}if(B===1){vl(h,0),Ir(h,d,0,!0);break}e:{switch(T=h,B){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){Ir(T,d,Ea,!ja);break e}break;case 2:Wa=null;break;case 3:case 5:break;default:throw Error(r(329))}if(T.finishedWork=x,T.finishedLanes=d,(d&62914560)===d&&(I=cg+300-Aa(),10<I)){if(Ir(T,d,Ea,!ja),D(T,0)!==0)break e;T.timeoutHandle=sp(Ns.bind(null,T,x,Wa,Du,Ep,d,Ea,Io,Gi,ja,2,-0,0),I);break e}Ns(T,x,Wa,Du,Ep,d,Ea,Io,Gi,ja,0,-0,0)}}break}while(!0);rt(h)}function go(h){Wa===null?Wa=h:Wa.push.apply(Wa,h)}function Ns(h,d,x,T,B,I,W,le,xe,Ve,at,bt,nt){var Wt=d.subtreeFlags;if((Wt&8192||(Wt&16785408)===16785408)&&(q1(),Zf(d),d=fb(),d!==null)){h.cancelPendingCommit=d(tp.bind(null,h,x,T,B,W,le,xe,1,bt,nt)),Ir(h,I,W,!Ve);return}tp(h,x,T,B,W,le,xe,at,bt,nt)}function yo(h){for(var d=h;;){var x=d.tag;if((x===0||x===11||x===15)&&d.flags&16384&&(x=d.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var T=0;T<x.length;T++){var B=x[T],I=B.getSnapshot;B=B.value;try{if(!zr(I(),B))return!1}catch{return!1}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ir(h,d,x,T){d&=~Vr,d&=~Io,h.suspendedLanes|=d,h.pingedLanes&=~d,T&&(h.warmLanes|=d),T=h.expirationTimes;for(var B=d;0<B;){var I=31-Ti(B),W=1<<I;T[I]=-1,B&=~W}x!==0&&V(h,x,d)}function Dv(){return(fn&6)===0?($(0),!1):!0}function nh(){if(rn!==null){if(Hn===0)var h=rn.return;else h=rn,Va=zl=null,as(h),Cu=null,wr=0,h=rn;for(;h!==null;)Q0(h.alternate,h),h=h.return;rn=null}}function vl(h,d){h.finishedWork=null,h.finishedLanes=0;var x=h.timeoutHandle;x!==zc&&(h.timeoutHandle=zc,fh(x)),x=h.cancelPendingCommit,x!==null&&(h.cancelPendingCommit=null,x()),nh(),Vn=h,rn=x=xo(h.current,null),hn=d,Hn=0,Hi=null,ja=!1,qa=N(h,d),Bu=!1,Gi=Ea=Vr=Io=Xa=ui=0,Wa=Zc=null,Ep=!1,(d&8)!==0&&(d|=d&32);var T=h.entangledLanes;if(T!==0)for(h=h.entanglements,T&=d;0<T;){var B=31-Ti(T),I=1<<B;d|=h[B],T&=~I}return gs=d,K(),x}function Ar(h,d){qt=null,Gt.H=Oi,d===gh?(d=Rt(),Hn=3):d===yh?(d=Rt(),Hn=4):Hn=d===lg?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Hi=d,rn===null&&(ui=1,Mc(h,he(d,h.current)))}function $i(){var h=aa.current;return h===null?!0:(hn&4194176)===hn?Ga===null:(hn&62914560)===hn||(hn&536870912)!==0?h===Ga:!1}function Sn(){var h=Gt.H;return Gt.H=Oi,h===null?Oi:h}function Ia(){var h=Gt.A;return Gt.A=Uo,h}function Fa(){ui=4,ja||(hn&4194176)!==hn&&aa.current!==null||(qa=!0),(Xa&134217727)===0&&(Io&134217727)===0||Vn===null||Ir(Vn,hn,Ea,!1)}function ih(h,d,x){var T=fn;fn|=2;var B=Sn(),I=Ia();(Vn!==h||hn!==d)&&(Du=null,vl(h,d)),d=!1;var W=ui;e:do try{if(Hn!==0&&rn!==null){var le=rn,xe=Hi;switch(Hn){case 8:nh(),W=6;break e;case 3:case 2:case 6:aa.current===null&&(d=!0);var Ve=Hn;if(Hn=0,Hi=null,Ps(h,le,xe,Ve),x&&qa){W=0;break e}break;default:Ve=Hn,Hn=0,Hi=null,Ps(h,le,xe,Ve)}}gu(),W=ui;break}catch(at){Ar(h,at)}while(!0);return d&&h.shellSuspendCounter++,Va=zl=null,fn=T,Gt.H=B,Gt.A=I,rn===null&&(Vn=null,hn=0,K()),W}function gu(){for(;rn!==null;)Dc(rn)}function eb(h,d){var x=fn;fn|=2;var T=Sn(),B=Ia();Vn!==h||hn!==d?(Du=null,Ta=Aa()+500,vl(h,d)):qa=N(h,d);e:do try{if(Hn!==0&&rn!==null){d=rn;var I=Hi;t:switch(Hn){case 1:Hn=0,Hi=null,Ps(h,d,I,1);break;case 2:if(Ge(I)){Hn=0,Hi=null,Nc(d);break}d=function(){Hn===2&&Vn===h&&(Hn=7),rt(h)},I.then(d,d);break e;case 3:Hn=7;break e;case 4:Hn=5;break e;case 7:Ge(I)?(Hn=0,Hi=null,Nc(d)):(Hn=0,Hi=null,Ps(h,d,I,7));break;case 5:var W=null;switch(rn.tag){case 26:W=rn.memoizedState;case 5:case 27:var le=rn,xe=le.type,Ve=le.pendingProps;if(W?ng(W):Hv(xe,Ve)){Hn=0,Hi=null;var at=le.sibling;if(at!==null)rn=at;else{var bt=le.return;bt!==null?(rn=bt,gl(bt)):rn=null}break t}}Hn=0,Hi=null,Ps(h,d,I,5);break;case 6:Hn=0,Hi=null,Ps(h,d,I,6);break;case 8:nh(),ui=6;break e;default:throw Error(r(462))}}tb();break}catch(nt){Ar(h,nt)}while(!0);return Va=zl=null,Gt.H=T,Gt.A=B,fn=x,rn!==null?0:(Vn=null,hn=0,K(),ui)}function tb(){for(;rn!==null&&!Bl();)Dc(rn)}function Dc(h){var d=K0(h.alternate,h,gs);h.memoizedProps=h.pendingProps,d===null?gl(h):rn=d}function Nc(h){var d=h,x=d.alternate;switch(d.tag){case 15:case 0:d=V0(x,d,d.pendingProps,d.type,void 0,hn);break;case 11:d=V0(x,d,d.pendingProps,d.type.render,d.ref,hn);break;case 5:as(d);default:Q0(x,d),d=rn=yu(d,gs),d=K0(x,d,gs)}h.memoizedProps=h.pendingProps,d===null?gl(h):rn=d}function Ps(h,d,x,T){Va=zl=null,as(d),Cu=null,wr=0;var B=d.return;try{if(F1(h,B,d,x,hn)){ui=1,Mc(h,he(x,h.current)),rn=null;return}}catch(I){if(B!==null)throw rn=B,I;ui=1,Mc(h,he(x,h.current)),rn=null;return}d.flags&32768?(Mn||T===1?h=!0:qa||(hn&536870912)!==0?h=!1:(ja=h=!0,(T===2||T===3||T===6)&&(T=aa.current,T!==null&&T.tag===13&&(T.flags|=16384))),Nv(d,h)):gl(d)}function gl(h){var d=h;do{if((d.flags&32768)!==0){Nv(d,ja);return}h=d.return;var x=Z0(d.alternate,d,gs);if(x!==null){rn=x;return}if(d=d.sibling,d!==null){rn=d;return}rn=d=h}while(d!==null);ui===0&&(ui=5)}function Nv(h,d){do{var x=H1(h.alternate,h);if(x!==null){x.flags&=32767,rn=x;return}if(x=h.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!d&&(h=h.sibling,h!==null)){rn=h;return}rn=h=x}while(h!==null);ui=6,rn=null}function tp(h,d,x,T,B,I,W,le,xe,Ve){var at=Gt.T,bt=Cl();try{Fr(2),Gt.T=null,nb(h,d,x,T,bt,B,I,W,le,xe,Ve)}finally{Gt.T=at,Fr(bt)}}function nb(h,d,x,T,B,I,W,le){do yl();while(Gl!==null);if((fn&6)!==0)throw Error(r(327));var xe=h.finishedWork;if(T=h.finishedLanes,xe===null)return null;if(h.finishedWork=null,h.finishedLanes=0,xe===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0,h.cancelPendingCommit=null;var Ve=xe.lanes|xe.childLanes;if(Ve|=ds,J(h,T,Ve,I,W,le),h===Vn&&(rn=Vn=null,hn=0),(xe.subtreeFlags&10256)===0&&(xe.flags&10256)===0||Fo||(Fo=!0,Tp=Ve,Ah=x,ib(Vc,function(){return yl(),null})),x=(xe.flags&15990)!==0,(xe.subtreeFlags&15990)!==0||x?(x=Gt.T,Gt.T=null,I=Cl(),Fr(2),W=fn,fn|=4,Cv(h,xe),Ov(xe,h),j1(h.containerInfo),h.current=xe,Oc(h,xe.alternate,xe),Co(),fn=W,Fr(I),Gt.T=x):h.current=xe,Fo?(Fo=!1,Gl=h,Qc=T):rh(h,Ve),Ve=h.pendingLanes,Ve===0&&(Xs=null),Y(xe.stateNode),rt(h),d!==null)for(B=h.onRecoverableError,xe=0;xe<d.length;xe++)Ve=d[xe],B(Ve.value,{componentStack:Ve.stack});return(Qc&3)!==0&&yl(),Ve=h.pendingLanes,(T&4194218)!==0&&(Ve&42)!==0?h===fg?Nu++:(Nu=0,fg=h):Nu=0,$(0),null}function rh(h,d){(h.pooledCacheLanes&=d)===0&&(d=h.pooledCache,d!=null&&(h.pooledCache=null,Wf(d)))}function yl(){if(Gl!==null){var h=Gl,d=Tp;Tp=0;var x=ee(Qc),T=32>x?32:x;x=Gt.T;var B=Cl();try{if(Fr(T),Gt.T=null,Gl===null)var I=!1;else{T=Ah,Ah=null;var W=Gl,le=Qc;if(Gl=null,Qc=0,(fn&6)!==0)throw Error(r(331));var xe=fn;if(fn|=4,vo(W.current),Ua(W,W.current,le,T),fn=xe,$(0,!1),Fi&&typeof Fi.onPostCommitFiberRoot=="function")try{Fi.onPostCommitFiberRoot(jc,W)}catch{}I=!0}return I}finally{Fr(B),Gt.T=x,rh(h,d)}}return!1}function Pc(h,d,x){d=he(x,d),d=Tc(h.stateNode,d,2),h=Mt(h,d,2),h!==null&&(H(h,2),rt(h))}function Nn(h,d,x){if(h.tag===3)Pc(h,h,x);else for(;d!==null;){if(d.tag===3){Pc(d,h,x);break}else if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Xs===null||!Xs.has(T))){h=he(x,h),x=mv(2),T=Mt(d,x,2),T!==null&&(F0(x,T,d,h),H(T,2),rt(T));break}}d=d.return}}function bl(h,d,x){var T=h.pingCache;if(T===null){T=h.pingCache=new _h;var B=new Set;T.set(d,B)}else B=T.get(d),B===void 0&&(B=new Set,T.set(d,B));B.has(x)||(Bu=!0,B.add(x),h=ah.bind(null,h,d,x),d.then(h,h))}function ah(h,d,x){var T=h.pingCache;T!==null&&T.delete(d),h.pingedLanes|=h.suspendedLanes&x,h.warmLanes&=~x,Vn===h&&(hn&x)===x&&(ui===4||ui===3&&(hn&62914560)===hn&&300>Aa()-cg?(fn&2)===0&&vl(h,0):Vr|=x,Gi===hn&&(Gi=0)),rt(h)}function sh(h,d){d===0&&(d=P()),h=Ze(h,d),h!==null&&(H(h,d),rt(h))}function oh(h){var d=h.memoizedState,x=0;d!==null&&(x=d.retryLane),sh(h,x)}function np(h,d){var x=0;switch(h.tag){case 13:var T=h.stateNode,B=h.memoizedState;B!==null&&(x=B.retryLane);break;case 19:T=h.stateNode;break;case 22:T=h.stateNode._retryCache;break;default:throw Error(r(314))}T!==null&&T.delete(d),sh(h,x)}function ib(h,d){return Hs(h,d)}function rb(h,d,x,T){this.tag=h,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bo(h){return h=h.prototype,!(!h||!h.isReactComponent)}function xo(h,d){var x=h.alternate;return x===null?(x=t(h.tag,d,h.key,h.mode),x.elementType=h.elementType,x.type=h.type,x.stateNode=h.stateNode,x.alternate=h,h.alternate=x):(x.pendingProps=d,x.type=h.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=h.flags&31457280,x.childLanes=h.childLanes,x.lanes=h.lanes,x.child=h.child,x.memoizedProps=h.memoizedProps,x.memoizedState=h.memoizedState,x.updateQueue=h.updateQueue,d=h.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=h.sibling,x.index=h.index,x.ref=h.ref,x.refCleanup=h.refCleanup,x}function yu(h,d){h.flags&=31457282;var x=h.alternate;return x===null?(h.childLanes=0,h.lanes=d,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=x.childLanes,h.lanes=x.lanes,h.child=x.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=x.memoizedProps,h.memoizedState=x.memoizedState,h.updateQueue=x.updateQueue,h.type=x.type,d=x.dependencies,h.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),h}function bu(h,d,x,T,B,I){var W=0;if(T=h,typeof h=="function")bo(h)&&(W=1);else if(typeof h=="string")W=_a&&er?Wi(h,x,wi.current)?26:vp(h)?27:5:_a?Wi(h,x,wi.current)?26:5:er&&vp(h)?27:5;else e:switch(h){case Al:return xl(x.children,B,I,d);case xu:W=8,B|=24;break;case Sl:return h=t(12,x,d,B|2),h.elementType=Sl,h.lanes=I,h;case So:return h=t(13,x,d,B),h.elementType=So,h.lanes=I,h;case uh:return h=t(19,x,d,B),h.elementType=uh,h.lanes=I,h;case Eo:return ip(x,B,I,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case k1:case Ml:W=10;break e;case Uv:W=9;break e;case rp:W=11;break e;case Uc:W=14;break e;case Mo:W=16,T=null;break e}W=29,x=Error(r(130,h===null?"null":typeof h,"")),T=null}return d=t(W,x,d,B),d.elementType=h,d.type=T,d.lanes=I,d}function xl(h,d,x,T){return h=t(7,h,T,d),h.lanes=x,h}function ip(h,d,x,T){h=t(22,h,T,d),h.elementType=Eo,h.lanes=x;var B={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var I=B._current;if(I===null)throw Error(r(456));if((B._pendingVisibility&2)===0){var W=Ze(I,2);W!==null&&(B._pendingVisibility|=2,Qn(W,I,2))}},attach:function(){var I=B._current;if(I===null)throw Error(r(456));if((B._pendingVisibility&2)!==0){var W=Ze(I,2);W!==null&&(B._pendingVisibility&=-3,Qn(W,I,2))}}};return h.stateNode=B,h}function lh(h,d,x){return h=t(6,h,null,d),h.lanes=x,h}function ta(h,d,x){return d=t(4,h.children!==null?h.children:[],h.key,d),d.lanes=x,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function Ls(h,d,x,T,B,I,W,le){this.tag=1,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=zc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=T,this.onUncaughtError=B,this.onCaughtError=I,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function _o(h,d,x,T,B,I,W,le,xe,Ve,at,bt){return h=new Ls(h,d,x,W,le,xe,Ve,bt),d=1,I===!0&&(d|=24),I=t(3,null,null,d),h.current=I,I.stateNode=h,d=fl(),d.refCount++,h.pooledCache=d,d.refCount++,I.memoizedState={element:T,isDehydrated:x,cache:d},tt(I),h}function Pv(h){return h?(h=Tu,h):Tu}function Ao(h){var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=b(d),h=h!==null?_(h):null,h===null?null:_u(h.stateNode)}function Us(h,d,x,T,B,I){B=Pv(B),T.context===null?T.context=B:T.pendingContext=B,T=Tt(d),T.payload={element:x},I=I===void 0?null:I,I!==null&&(T.callback=I),x=Mt(h,T,d),x!==null&&(Qn(x,h,d),xt(x,h,d))}function Ui(h,d){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var x=h.retryLane;h.retryLane=x!==0&&x<d?x:d}}function Lc(h,d){Ui(h,d),(h=h.alternate)&&Ui(h,d)}var cn={},G1=Xm(),xa=SO(),Mi=Object.assign,Lv=Symbol.for("react.element"),_l=Symbol.for("react.transitional.element"),Is=Symbol.for("react.portal"),Al=Symbol.for("react.fragment"),xu=Symbol.for("react.strict_mode"),Sl=Symbol.for("react.profiler"),k1=Symbol.for("react.provider"),Uv=Symbol.for("react.consumer"),Ml=Symbol.for("react.context"),rp=Symbol.for("react.forward_ref"),So=Symbol.for("react.suspense"),uh=Symbol.for("react.suspense_list"),Uc=Symbol.for("react.memo"),Mo=Symbol.for("react.lazy"),Eo=Symbol.for("react.offscreen"),nn=Symbol.for("react.memo_cache_sentinel"),zn=Symbol.iterator,Ii=Symbol.for("react.client.reference"),Gt=G1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,El,Tl,Ic=!1,wl=Array.isArray,Fc=e.rendererVersion,V1=e.rendererPackageName,vi=e.extraDevToolsConfig,_u=e.getPublicInstance,Iv=e.getRootHostContext,ab=e.getChildHostContext,sb=e.prepareForCommit,j1=e.resetAfterCommit,Fv=e.createInstance,ch=e.appendInitialChild,ap=e.finalizeInitialChildren,ur=e.shouldSetTextContent,Ei=e.createTextInstance,sp=e.scheduleTimeout,fh=e.cancelTimeout,zc=e.noTimeout,ls=e.isPrimaryRenderer;e.warnsIfNotActing;var oi=e.supportsMutation,us=e.supportsPersistence,na=e.supportsHydration,op=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var ob=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Fr=e.setCurrentUpdatePriority,Cl=e.getCurrentUpdatePriority,lb=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var ub=e.shouldAttemptEagerTransition,cb=e.detachDeletedInstance;e.requestPostPaintCallback;var zv=e.maySuspendCommit,Hv=e.preloadInstance,q1=e.startSuspendingCommit,Gv=e.suspendInstance,fb=e.waitForCommitToBeReady,Au=e.NotPendingTransition,To=e.HostTransitionContext,hb=e.resetFormInstance;e.bindToConsole;var db=e.supportsMicrotasks,pb=e.scheduleMicrotask,Hc=e.supportsTestSelectors,mb=e.findFiberRoot,X1=e.getBoundingRect,vb=e.getTextContent,Fs=e.isHiddenSubtree,gb=e.matchAccessibilityRole,lp=e.setFocusIfFocusable,up=e.setupIntersectionObserver,yb=e.appendChild,kv=e.appendChildToContainer,bb=e.commitTextUpdate,xb=e.commitMount,_b=e.commitUpdate,Ab=e.insertBefore,Vv=e.insertInContainerBefore,Sb=e.removeChild,Mb=e.removeChildFromContainer,cp=e.resetTextContent,Eb=e.hideInstance,Tb=e.hideTextInstance,W1=e.unhideInstance,jv=e.unhideTextInstance,wb=e.clearContainer,Cb=e.cloneInstance,fp=e.createContainerChildSet,qv=e.appendChildToContainerChildSet,Rb=e.finalizeContainerChildren,Ob=e.replaceContainerChildren,Bb=e.cloneHiddenInstance,Xv=e.cloneHiddenTextInstance,Su=e.isSuspenseInstancePending,hh=e.isSuspenseInstanceFallback,hp=e.getSuspenseInstanceFallbackErrorDetails,Db=e.registerSuspenseInstanceRetry,Nb=e.canHydrateFormStateMarker,zs=e.isFormStateMarkerMatching,Rl=e.getNextHydratableSibling,wo=e.getFirstHydratableChild,Mu=e.getFirstHydratableChildWithinContainer,Wv=e.getFirstHydratableChildWithinSuspenseInstance,Yv=e.canHydrateInstance,Pb=e.canHydrateTextInstance,Lb=e.canHydrateSuspenseInstance,Eu=e.hydrateInstance,dp=e.hydrateTextInstance,Ub=e.hydrateSuspenseInstance,Ib=e.getNextHydratableInstanceAfterSuspenseInstance,Fb=e.commitHydratedContainer,pp=e.commitHydratedSuspenseInstance,zb=e.clearSuspenseBoundary,Kv=e.clearSuspenseBoundaryFromContainer,Jv=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Hb=e.validateHydratableInstance,Y1=e.validateHydratableTextInstance,_a=e.supportsResources,Wi=e.isHostHoistableType,Yi=e.getHoistableRoot,Zv=e.getResource,Qv=e.acquireResource,$v=e.releaseResource,Gb=e.hydrateHoistable,eg=e.mountHoistable,Gc=e.unmountHoistable,tg=e.createHoistableInstance,kb=e.prepareToCommitHoistables,Vb=e.mayResourceSuspendCommit,ng=e.preloadResource,ig=e.suspendResource,er=e.supportsSingletons,mp=e.resolveSingletonInstance,jb=e.clearSingleton,rg=e.acquireSingletonInstance,ag=e.releaseSingletonInstance,vp=e.isHostSingletonType,gp=[],Ol=-1,Tu={},Ti=Math.clz32?Math.clz32:C,sg=Math.log,K1=Math.LN2,dh=128,kc=4194304,Hs=xa.unstable_scheduleCallback,cs=xa.unstable_cancelCallback,Bl=xa.unstable_shouldYield,Co=xa.unstable_requestPaint,Aa=xa.unstable_now,yp=xa.unstable_ImmediatePriority,ph=xa.unstable_UserBlockingPriority,Vc=xa.unstable_NormalPriority,wu=xa.unstable_IdlePriority,Sr=xa.log,bp=xa.unstable_setDisableYieldValue,jc=null,Fi=null,zr=typeof Object.is=="function"?Object.is:ie,xp=new WeakMap,Sa=[],Ma=0,Dl=null,qc=0,ia=[],Mr=0,fs=null,Gs=1,ks="",wi=A(null),za=A(null),Ro=A(null),mh=A(null),Ci=null,Gn=null,Mn=!1,Ha=null,hs=!1,vh=Error(r(519)),ra=[],Oo=0,ds=0,ni=null,Nl=null,_p=!1,Ri=!1,Ap=!1,Xc=0,Wc=null,Sp=0,ii=0,tr=null,Er=!1,Mp=!1,qb=Object.prototype.hasOwnProperty,gh=Error(r(460)),yh=Error(r(474)),Hr={then:function(){}},Tr=null,Cu=null,wr=0,Pl=Ai(!0),Vs=Ai(!1),ps=A(null),ms=A(0),aa=A(null),Ga=null,$n=A(0),Bo=0,qt=null,Rn=null,li=null,Do=!1,Ru=!1,Ll=!1,Ul=0,Yc=0,No=null,Xb=0,og=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Oi={readContext:or,use:Ae,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn};Oi.useCacheRefresh=tn,Oi.useMemoCache=tn,Oi.useHostTransitionStatus=tn,Oi.useFormState=tn,Oi.useActionState=tn,Oi.useOptimistic=tn;var Po={readContext:or,use:Ae,useCallback:function(h,d){return j().memoizedState=[h,d===void 0?null:d],h},useContext:or,useEffect:fv,useImperativeHandle:function(h,d,x){x=x!=null?x.concat([h]):null,Id(4194308,4,If.bind(null,d,h),x)},useLayoutEffect:function(h,d){return Id(4194308,4,h,d)},useInsertionEffect:function(h,d){Id(4,2,h,d)},useMemo:function(h,d){var x=j();d=d===void 0?null:d;var T=h();if(Ll){re(!0);try{h()}finally{re(!1)}}return x.memoizedState=[T,d],T},useReducer:function(h,d,x){var T=j();if(x!==void 0){var B=x(d);if(Ll){re(!0);try{x(d)}finally{re(!1)}}}else B=d;return T.memoizedState=T.baseState=B,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:B},T.queue=h,h=h.dispatch=Gd.bind(null,qt,h),[T.memoizedState,h]},useRef:function(h){var d=j();return h={current:h},d.memoizedState=h},useState:function(h){h=_n(h);var d=h.queue,x=pv.bind(null,qt,d);return d.dispatch=x,[h.memoizedState,x]},useDebugValue:Ff,useDeferredValue:function(h,d){var x=j();return zd(x,h,d)},useTransition:function(){var h=_n(!1);return h=hv.bind(null,qt,h.queue,!0,!1),j().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,d,x){var T=qt,B=j();if(Mn){if(x===void 0)throw Error(r(407));x=x()}else{if(x=d(),Vn===null)throw Error(r(349));(hn&60)!==0||Ht(T,d,x)}B.memoizedState=x;var I={value:x,getSnapshot:d};return B.queue=I,fv(mn.bind(null,T,I,h),[h]),T.flags|=2048,ss(9,Dt.bind(null,T,I,x,d),{destroy:void 0},null),x},useId:function(){var h=j(),d=Vn.identifierPrefix;if(Mn){var x=ks,T=Gs;x=(T&~(1<<32-Ti(T)-1)).toString(32)+x,d=":"+d+"R"+x,x=Ul++,0<x&&(d+="H"+x.toString(32)),d+=":"}else x=Xb++,d=":"+d+"r"+x.toString(32)+":";return h.memoizedState=d},useCacheRefresh:function(){return j().memoizedState=dv.bind(null,qt)}};Po.useMemoCache=ge,Po.useHostTransitionStatus=zf,Po.useFormState=Fn,Po.useActionState=Fn,Po.useOptimistic=function(h){var d=j();d.memoizedState=d.baseState=h;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=x,d=_c.bind(null,qt,!0,x),x.dispatch=d,[h,d]};var Gr={readContext:or,use:Ae,useCallback:uu,useContext:or,useEffect:Uf,useImperativeHandle:Fd,useInsertionEffect:L0,useLayoutEffect:U0,useMemo:cu,useReducer:ot,useRef:Lr,useState:function(){return ot(Qe)},useDebugValue:Ff,useDeferredValue:function(h,d){var x=de();return Hd(x,Rn.memoizedState,h,d)},useTransition:function(){var h=ot(Qe)[0],d=de().memoizedState;return[typeof h=="boolean"?h:Ee(h),d]},useSyncExternalStore:zt,useId:xc};Gr.useCacheRefresh=oo,Gr.useMemoCache=ge,Gr.useHostTransitionStatus=zf,Gr.useFormState=xr,Gr.useActionState=xr,Gr.useOptimistic=function(h,d){var x=de();return jt(x,Rn,h,d)};var Il={readContext:or,use:Ae,useCallback:uu,useContext:or,useEffect:Uf,useImperativeHandle:Fd,useInsertionEffect:L0,useLayoutEffect:U0,useMemo:cu,useReducer:gt,useRef:Lr,useState:function(){return gt(Qe)},useDebugValue:Ff,useDeferredValue:function(h,d){var x=de();return Rn===null?zd(x,h,d):Hd(x,Rn.memoizedState,h,d)},useTransition:function(){var h=gt(Qe)[0],d=de().memoizedState;return[typeof h=="boolean"?h:Ee(h),d]},useSyncExternalStore:zt,useId:xc};Il.useCacheRefresh=oo,Il.useMemoCache=ge,Il.useHostTransitionStatus=zf,Il.useFormState=Qi,Il.useActionState=Qi,Il.useOptimistic=function(h,d){var x=de();return Rn!==null?jt(x,Rn,h,d):(x.baseState=h,[h,x.queue.dispatch])};var Kc={isMounted:function(h){return(h=h._reactInternals)?v(h)===h:!1},enqueueSetState:function(h,d,x){h=h._reactInternals;var T=_r(),B=Tt(T);B.payload=d,x!=null&&(B.callback=x),d=Mt(h,B,T),d!==null&&(Qn(d,h,T),xt(d,h,T))},enqueueReplaceState:function(h,d,x){h=h._reactInternals;var T=_r(),B=Tt(T);B.tag=1,B.payload=d,x!=null&&(B.callback=x),d=Mt(h,B,T),d!==null&&(Qn(d,h,T),xt(d,h,T))},enqueueForceUpdate:function(h,d){h=h._reactInternals;var x=_r(),T=Tt(x);T.tag=2,d!=null&&(T.callback=d),d=Mt(h,T,x),d!==null&&(Qn(d,h,x),xt(d,h,x))}},Fl=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},lg=Error(r(461)),zi=!1,bh={dehydrated:null,treeContext:null,retryLane:0},ka=A(null),zl=null,Va=null,xh=typeof AbortController<"u"?AbortController:function(){var h=[],d=this.signal={aborted:!1,addEventListener:function(x,T){h.push(T)}};this.abort=function(){d.aborted=!0,h.forEach(function(x){return x()})}},fi=xa.unstable_scheduleCallback,J1=xa.unstable_NormalPriority,gi={$$typeof:Ml,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},ug=Gt.S;Gt.S=function(h,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&lt(h,d),ug!==null&&ug(h,d)};var Ou=A(null),Lo=!1,Xt=!1,kn=!1,on=typeof WeakSet=="function"?WeakSet:Set,Ut=null,Wn=!1,On=null,Bi=!1,Cr=null,Hl=8192,Uo={getCacheForType:function(h){var d=or(gi),x=d.data.get(h);return x===void 0&&(x=h(),d.data.set(h,x)),x}},ri=0,vs=1,js=2,Jc=3,kr=4;if(typeof Symbol=="function"&&Symbol.for){var qs=Symbol.for;ri=qs("selector.component"),vs=qs("selector.has_pseudo_class"),js=qs("selector.role"),Jc=qs("selector.test_id"),kr=qs("selector.text")}var _h=typeof WeakMap=="function"?WeakMap:Map,fn=0,Vn=null,rn=null,hn=0,Hn=0,Hi=null,ja=!1,qa=!1,Bu=!1,gs=0,ui=0,Xa=0,Io=0,Vr=0,Ea=0,Gi=0,Zc=null,Wa=null,Ep=!1,cg=0,Ta=1/0,Du=null,Xs=null,Fo=!1,Gl=null,Qc=0,Tp=0,Ah=null,Nu=0,fg=null;return cn.attemptContinuousHydration=function(h){if(h.tag===13){var d=Ze(h,67108864);d!==null&&Qn(d,h,67108864),Lc(h,67108864)}},cn.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var d=_r(),x=Ze(h,d);x!==null&&Qn(x,h,d),Lc(h,d)}},cn.attemptSynchronousHydration=function(h){switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var d=R(h.pendingLanes);if(d!==0){for(h.pendingLanes|=2,h.entangledLanes|=2;d;){var x=1<<31-Ti(d);h.entanglements[1]|=x,d&=~x}rt(h),(fn&6)===0&&(Ta=Aa()+500,$(0))}}break;case 13:d=Ze(h,2),d!==null&&Qn(d,h,2),Dv(),Lc(h,2)}},cn.batchedUpdates=function(h,d){return h(d)},cn.createComponentSelector=function(h){return{$$typeof:ri,value:h}},cn.createContainer=function(h,d,x,T,B,I,W,le,xe,Ve){return _o(h,d,!1,null,x,T,I,W,le,xe,Ve,null)},cn.createHasPseudoClassSelector=function(h){return{$$typeof:vs,value:h}},cn.createHydrationContainer=function(h,d,x,T,B,I,W,le,xe,Ve,at,bt,nt){return h=_o(x,T,!0,h,B,I,le,xe,Ve,at,bt,nt),h.context=Pv(null),x=h.current,T=_r(),B=Tt(T),B.callback=d??null,Mt(x,B,T),h.current.lanes=T,H(h,T),rt(h),h},cn.createPortal=function(h,d,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:T==null?null:""+T,children:h,containerInfo:d,implementation:x}},cn.createRoleSelector=function(h){return{$$typeof:js,value:h}},cn.createTestNameSelector=function(h){return{$$typeof:Jc,value:h}},cn.createTextSelector=function(h){return{$$typeof:kr,value:h}},cn.defaultOnCaughtError=function(h){console.error(h)},cn.defaultOnRecoverableError=function(h){Fl(h)},cn.defaultOnUncaughtError=function(h){Fl(h)},cn.deferredUpdates=function(h){var d=Gt.T,x=Cl();try{return Fr(32),Gt.T=null,h()}finally{Fr(x),Gt.T=d}},cn.discreteUpdates=function(h,d,x,T,B){var I=Gt.T,W=Cl();try{return Fr(2),Gt.T=null,h(d,x,T,B)}finally{Fr(W),Gt.T=I,fn===0&&(Ta=Aa()+500)}},cn.findAllNodes=ml,cn.findBoundingRects=function(h,d){if(!Hc)throw Error(r(363));d=ml(h,d),h=[];for(var x=0;x<d.length;x++)h.push(X1(d[x]));for(d=h.length-1;0<d;d--){x=h[d];for(var T=x.x,B=T+x.width,I=x.y,W=I+x.height,le=d-1;0<=le;le--)if(d!==le){var xe=h[le],Ve=xe.x,at=Ve+xe.width,bt=xe.y,nt=bt+xe.height;if(T>=Ve&&I>=bt&&B<=at&&W<=nt){h.splice(d,1);break}else if(T!==Ve||x.width!==xe.width||nt<I||bt>W){if(!(I!==bt||x.height!==xe.height||at<T||Ve>B)){Ve>T&&(xe.width+=Ve-T,xe.x=T),at<B&&(xe.width=B-Ve),h.splice(d,1);break}}else{bt>I&&(xe.height+=bt-I,xe.y=I),nt<W&&(xe.height=W-bt),h.splice(d,1);break}}}return h},cn.findHostInstance=Ao,cn.findHostInstanceWithNoPortals=function(h){return h=b(h),h=h!==null?M(h):null,h===null?null:_u(h.stateNode)},cn.findHostInstanceWithWarning=function(h){return Ao(h)},cn.flushPassiveEffects=yl,cn.flushSyncFromReconciler=function(h){var d=fn;fn|=1;var x=Gt.T,T=Cl();try{if(Fr(2),Gt.T=null,h)return h()}finally{Fr(T),Gt.T=x,fn=d,(fn&6)===0&&$(0)}},cn.flushSyncWork=Dv,cn.focusWithin=function(h,d){if(!Hc)throw Error(r(363));for(h=pl(h),d=vu(h,d),d=Array.from(d),h=0;h<d.length;){var x=d[h++],T=x.tag;if(!Fs(x)){if((T===5||T===26||T===27)&&lp(x.stateNode))return!0;for(x=x.child;x!==null;)d.push(x),x=x.sibling}}return!1},cn.getFindAllNodesFailureDescription=function(h,d){if(!Hc)throw Error(r(363));var x=0,T=[];h=[pl(h),0];for(var B=0;B<h.length;){var I=h[B++],W=I.tag,le=h[B++],xe=d[le];if((W!==5&&W!==26&&W!==27||!Fs(I))&&(ep(I,xe)&&(T.push(ea(xe)),le++,le>x&&(x=le)),le<d.length))for(I=I.child;I!==null;)h.push(I,le),I=I.sibling}if(x<d.length){for(h=[];x<d.length;x++)h.push(ea(d[x]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},cn.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 27:case 5:return _u(h.child.stateNode);default:return h.child.stateNode}},cn.injectIntoDevTools=function(){var h={bundleType:0,version:Fc,rendererPackageName:V1,currentDispatcherRef:Gt,findFiberByHostInstance:op,reconcilerVersion:"19.0.0"};if(vi!==null&&(h.rendererConfig=vi),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)h=!0;else{try{jc=d.inject(h),Fi=d}catch{}h=!!d.checkDCE}}return h},cn.isAlreadyRendering=function(){return!1},cn.observeVisibleRects=function(h,d,x,T){if(!Hc)throw Error(r(363));h=ml(h,d);var B=up(h,x,T).disconnect;return{disconnect:function(){B()}}},cn.shouldError=function(){return null},cn.shouldSuspend=function(){return!1},cn.startHostTransition=function(h,d,x,T){if(h.tag!==5)throw Error(r(476));var B=bc(h).queue;hv(h,B,d,Au,x===null?i:function(){var I=bc(h).next.queue;return ol(h,I,{},_r()),x(T)})},cn.updateContainer=function(h,d,x,T){var B=d.current,I=_r();return Us(B,I,h,d,x,T),I},cn.updateContainerSync=function(h,d,x,T){return d.tag===0&&yl(),Us(d.current,2,h,d,x,T),2},cn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(xE)),xE.exports}var y3;function SQ(){return y3||(y3=1,bE.exports=AQ()),bE.exports}var MQ=SQ();const EQ=Jn(MQ);var b3=SO();const TQ=n=>typeof n=="object"&&typeof n.then=="function",Jh=[];function k5(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function V5(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const a of Jh)if(k5(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!t)throw a.promise}const r={keys:e,equal:i.equal,remove:()=>{const a=Jh.indexOf(r);a!==-1&&Jh.splice(a,1)},promise:(TQ(n)?n:n(...e)).then(a=>{r.response=a,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(a=>r.error=a)};if(Jh.push(r),!t)throw r.promise}const wQ=(n,e,t)=>V5(n,e,!1,t),CQ=(n,e,t)=>void V5(n,e,!0,t),RQ=n=>{if(n===void 0||n.length===0)Jh.splice(0,Jh.length);else{const e=Jh.find(t=>k5(n,t.keys,t.equal));e&&e.remove()}};function MB(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=MB(i,e,t);if(r)return r;i=e?null:i.sibling}}function j5(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const EB=j5(Z.createContext(null));class q5 extends Z.Component{render(){return Z.createElement(EB.Provider,{value:this._reactInternals},this.props.children)}}function X5(){const n=Z.useContext(EB);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Z.useId();return Z.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=MB(t,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}const OQ=Symbol.for("react.context"),BQ=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===OQ;function DQ(){const n=X5(),[e]=Z.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;BQ(i)&&i!==EB&&!e.has(i)&&e.set(i,Z.use(j5(i))),t=t.return}return e}function NQ(){const n=DQ();return Z.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>Z.createElement(e,null,Z.createElement(t.Provider,{...i,value:n.get(t)})),e=>Z.createElement(q5,{...e})),[n])}function W5(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Y5=n=>n&&n.isOrthographicCamera,PQ=n=>n&&n.hasOwnProperty("current"),LQ=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),_0=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?Z.useLayoutEffect:Z.useEffect;function K5(n){const e=Z.useRef(n);return _0(()=>void(e.current=n),[n]),e}function UQ(){const n=X5(),e=NQ();return Z.useMemo(()=>({children:t})=>{const r=!!MB(n,!0,a=>a.type===Z.StrictMode)?Z.StrictMode:Z.Fragment;return F(r,{children:F(e,{children:t})})},[n,e])}function IQ({set:n}){return _0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const FQ=(n=>(n=class extends Z.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function J5(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Kp(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const yi={obj:n=>n===Object(n)&&!yi.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(yi.str(n)||yi.num(n)||yi.boo(n))return n===e;const a=yi.obj(n);if(a&&i==="reference")return n===e;const s=yi.arr(n);if(s&&t==="reference")return n===e;if((s||a)&&n===e)return!0;let l;for(l in n)if(!(l in e))return!1;if(a&&t==="shallow"&&i==="shallow"){for(l in r?e:n)if(!yi.equ(n[l],e[l],{strict:r,objects:"reference"}))return!1}else for(l in r?e:n)if(n[l]!==e[l])return!1;if(yi.und(l)){if(s&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function zQ(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function HQ(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const Z5=["children","key","ref"];function GQ(n){const e={};for(const t in n)Z5.includes(t)||(e[t]=n[t]);return e}function AA(n,e,t,i){const r=n;let a=r==null?void 0:r.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:GQ(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function Ty(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const r of e.split("-")){var i;e=r,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const x3=/-\d+$/;function SA(n,e){if(yi.str(e.props.attach)){if(x3.test(e.props.attach)){const r=e.props.attach.replace(x3,""),{root:a,key:s}=Ty(n.object,r);Array.isArray(a[s])||(a[s]=[])}const{root:t,key:i}=Ty(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else yi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function MA(n,e){if(yi.str(e.props.attach)){const{root:t,key:i}=Ty(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const ZC=[...Z5,"args","dispose","attach","object","onUpdate","dispose"],_3=new Map;function kQ(n){let e=_3.get(n.constructor);try{e||(e=new n.constructor,_3.set(n.constructor,e))}catch{}return e}function VQ(n,e){const t={};for(const i in e)if(!ZC.includes(i)&&!yi.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(ZC.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=Ty(n.object,i);if(r.constructor&&r.constructor.length===0){const s=kQ(r);yi.und(s)||(t[a]=s[a])}else t[a]=0}return t}const jQ=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],qQ=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function vf(n,e){var t;const i=n.__r3f,r=i&&W5(i).getState(),a=i==null?void 0:i.eventCount;for(const l in e){let u=e[l];if(ZC.includes(l))continue;if(i&&qQ.test(l)){typeof u=="function"?i.handlers[l]=u:delete i.handlers[l],i.eventCount=Object.keys(i.handlers).length;continue}if(u===void 0)continue;let{root:f,key:p,target:v}=Ty(n,l);if(v instanceof ym&&u instanceof ym)v.mask=u.mask;else if(v instanceof dt&&LQ(u))v.set(u);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof v.copy=="function"&&u!=null&&u.constructor&&v.constructor===u.constructor)v.copy(u);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&Array.isArray(u))typeof v.fromArray=="function"?v.fromArray(u):v.set(...u);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof u=="number")typeof v.setScalar=="function"?v.setScalar(u):v.set(u);else{var s;f[p]=u,r&&!r.linear&&jQ.includes(p)&&(s=f[p])!=null&&s.isTexture&&f[p].format===pa&&f[p].type===tl&&(f[p].colorSpace=fa)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&a!==i.eventCount){const l=i.object,u=r.internal.interaction.indexOf(l);u>-1&&r.internal.interaction.splice(u,1),i.eventCount&&l.raycast!==null&&r.internal.interaction.push(l)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&nv(i),n}function nv(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function XQ(n,e){n.manual||(Y5(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Oa=n=>n==null?void 0:n.isObject3D;function i_(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Q5(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function WQ(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{Q5(t.capturedMap,e,i,r)})}function YQ(n){function e(u){const{internal:f}=n.getState(),p=u.offsetX-f.initialClick[0],v=u.offsetY-f.initialClick[1];return Math.round(Math.sqrt(p*p+v*v))}function t(u){return u.filter(f=>["Move","Over","Enter","Out","Leave"].some(p=>{var v;return(v=f.__r3f)==null?void 0:v.handlers["onPointer"+p]}))}function i(u,f){const p=n.getState(),v=new Set,g=[],b=f?f(p.internal.interaction):p.internal.interaction;for(let S=0;S<b.length;S++){const w=Kp(b[S]);w&&(w.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(u,p);function _(S){const w=Kp(S);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var C;w.events.compute==null||w.events.compute(u,w,(C=w.previousRoot)==null?void 0:C.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(S,!0):[]}let M=b.flatMap(_).sort((S,w)=>{const C=Kp(S.object),R=Kp(w.object);return!C||!R?S.distance-w.distance:R.events.priority-C.events.priority||S.distance-w.distance}).filter(S=>{const w=i_(S);return v.has(w)?!1:(v.add(w),!0)});p.events.filter&&(M=p.events.filter(M,p));for(const S of M){let w=S.object;for(;w;){var A;(A=w.__r3f)!=null&&A.eventCount&&g.push({...S,eventObject:w}),w=w.parent}}if("pointerId"in u&&p.internal.capturedMap.has(u.pointerId))for(let S of p.internal.capturedMap.get(u.pointerId).values())v.has(i_(S.intersection))||g.push(S.intersection);return g}function r(u,f,p,v){if(u.length){const g={stopped:!1};for(const b of u){let _=Kp(b.object);if(_||b.object.traverseAncestors(M=>{const A=Kp(M);if(A)return _=A,!1}),_){const{raycaster:M,pointer:A,camera:S,internal:w}=_,C=new Q(A.x,A.y,0).unproject(S),R=P=>{var U,H;return(U=(H=w.capturedMap.get(P))==null?void 0:H.has(b.eventObject))!=null?U:!1},D=P=>{const U={intersection:b,target:f.target};w.capturedMap.has(P)?w.capturedMap.get(P).set(b.eventObject,U):w.capturedMap.set(P,new Map([[b.eventObject,U]])),f.target.setPointerCapture(P)},N=P=>{const U=w.capturedMap.get(P);U&&Q5(w.capturedMap,b.eventObject,U,P)};let L={};for(let P in f){let U=f[P];typeof U!="function"&&(L[P]=U)}let z={...b,...L,pointer:A,intersections:u,stopped:g.stopped,delta:p,unprojectedPoint:C,ray:M.ray,camera:S,stopPropagation(){const P="pointerId"in f&&w.capturedMap.get(f.pointerId);if((!P||P.has(b.eventObject))&&(z.stopped=g.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(U=>U.eventObject===b.eventObject))){const U=u.slice(0,u.indexOf(b));a([...U,b])}},target:{hasPointerCapture:R,setPointerCapture:D,releasePointerCapture:N},currentTarget:{hasPointerCapture:R,setPointerCapture:D,releasePointerCapture:N},nativeEvent:f};if(v(z),g.stopped===!0)break}}}return u}function a(u){const{internal:f}=n.getState();for(const p of f.hovered.values())if(!u.length||!u.find(v=>v.object===p.object&&v.index===p.index&&v.instanceId===p.instanceId)){const g=p.eventObject.__r3f;if(f.hovered.delete(i_(p)),g!=null&&g.eventCount){const b=g.handlers,_={...p,intersections:u};b.onPointerOut==null||b.onPointerOut(_),b.onPointerLeave==null||b.onPointerLeave(_)}}}function s(u,f){for(let p=0;p<f.length;p++){const v=f[p].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(u)}}function l(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return f=>{const{internal:p}=n.getState();"pointerId"in f&&p.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(f.pointerId)&&(p.capturedMap.delete(f.pointerId),a([]))})}}return function(p){const{onPointerMissed:v,internal:g}=n.getState();g.lastEvent.current=p;const b=u==="onPointerMove",_=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",A=i(p,b?t:void 0),S=_?e(p):0;u==="onPointerDown"&&(g.initialClick=[p.offsetX,p.offsetY],g.initialHits=A.map(C=>C.eventObject)),_&&!A.length&&S<=2&&(s(p,g.interaction),v&&v(p)),b&&a(A);function w(C){const R=C.eventObject,D=R.__r3f;if(!(D!=null&&D.eventCount))return;const N=D.handlers;if(b){if(N.onPointerOver||N.onPointerEnter||N.onPointerOut||N.onPointerLeave){const L=i_(C),z=g.hovered.get(L);z?z.stopped&&C.stopPropagation():(g.hovered.set(L,C),N.onPointerOver==null||N.onPointerOver(C),N.onPointerEnter==null||N.onPointerEnter(C))}N.onPointerMove==null||N.onPointerMove(C)}else{const L=N[u];L?(!_||g.initialHits.includes(R))&&(s(p,g.interaction.filter(z=>!g.initialHits.includes(z))),L(C)):_&&g.initialHits.includes(R)&&s(p,g.interaction.filter(z=>!g.initialHits.includes(z)))}}r(A,p,S,w)}}return{handlePointer:l}}const A3=n=>!!(n!=null&&n.render),$5=Z.createContext(null),KQ=(n,e)=>{const t=_Q((l,u)=>{const f=new Q,p=new Q,v=new Q;function g(S=u().camera,w=p,C=u().size){const{width:R,height:D,top:N,left:L}=C,z=R/D;w.isVector3?v.copy(w):v.set(...w);const P=S.getWorldPosition(f).distanceTo(v);if(Y5(S))return{width:R/S.zoom,height:D/S.zoom,top:N,left:L,factor:1,distance:P,aspect:z};{const U=S.fov*Math.PI/180,H=2*Math.tan(U/2)*P,J=H*(R/D);return{width:J,height:H,top:N,left:L,factor:R/J,distance:P,aspect:z}}}let b;const _=S=>l(w=>({performance:{...w.performance,current:S}})),M=new ke;return{set:l,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>n(u(),S),advance:(S,w)=>e(S,w,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new yB,pointer:M,mouse:M,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=u();b&&clearTimeout(b),S.performance.current!==S.performance.min&&_(S.performance.min),b=setTimeout(()=>_(u().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:g},setEvents:S=>l(w=>({...w,events:{...w.events,...S}})),setSize:(S,w,C=0,R=0)=>{const D=u().camera,N={width:S,height:w,top:C,left:R};l(L=>({size:N,viewport:{...L.viewport,...g(D,p,N)}}))},setDpr:S=>l(w=>{const C=J5(S);return{viewport:{...w.viewport,dpr:C,initialDpr:w.viewport.initialDpr||C}}}),setFrameloop:(S="always")=>{const w=u().clock;w.stop(),w.elapsedTime=0,S!=="never"&&(w.start(),w.elapsedTime=0),l(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:Z.createRef(),active:!1,frames:0,priority:0,subscribe:(S,w,C)=>{const R=u().internal;return R.priority=R.priority+(w>0?1:0),R.subscribers.push({ref:S,priority:w,store:C}),R.subscribers=R.subscribers.sort((D,N)=>D.priority-N.priority),()=>{const D=u().internal;D!=null&&D.subscribers&&(D.priority=D.priority-(w>0?1:0),D.subscribers=D.subscribers.filter(N=>N.ref!==S))}}}}}),i=t.getState();let r=i.size,a=i.viewport.dpr,s=i.camera;return t.subscribe(()=>{const{camera:l,size:u,viewport:f,gl:p,set:v}=t.getState();if(u.width!==r.width||u.height!==r.height||f.dpr!==a){r=u,a=f.dpr,XQ(l,u),f.dpr>0&&p.setPixelRatio(f.dpr);const g=typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(u.width,u.height,g)}l!==s&&(s=l,v(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>n(l)),t};function e6(){const n=Z.useContext($5);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Xo(n=t=>t,e){return e6()(n,e)}function Rd(n,e=0){const t=e6(),i=t.getState().internal.subscribe,r=K5(n);return _0(()=>i(r,e,t),[e,i,t]),null}const S3=new WeakMap,JQ=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function t6(n,e){return function(t,...i){let r;return JQ(t)?(r=S3.get(t),r||(r=new t,S3.set(t,r))):r=t,n&&n(r),Promise.all(i.map(a=>new Promise((s,l)=>r.load(a,u=>{Oa(u==null?void 0:u.scene)&&Object.assign(u,zQ(u.scene)),s(u)},e,u=>l(new Error(`Could not load ${a}: ${u==null?void 0:u.message}`))))))}}function A0(n,e,t,i){const r=Array.isArray(e)?e:[e],a=wQ(t6(t,i),[n,...r],{equal:yi.equ});return Array.isArray(e)?a:a[0]}A0.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return CQ(t6(t),[n,...i])};A0.clear=function(n,e){const t=Array.isArray(e)?e:[e];return RQ([n,...t])};function ZQ(n){const e=EQ(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Z.version}),e}const n6=0,_m={},QQ=/^three(?=[A-Z])/,t1=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let $Q=0;const e$=n=>typeof n=="function";function t$(n){if(e$(n)){const e=`${$Q++}`;return _m[e]=n,e}else Object.assign(_m,n)}function i6(n,e){const t=t1(n),i=_m[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function n$(n,e,t){var i;return n=t1(n)in _m?n:n.replace(QQ,""),i6(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,AA(e.object,t,n,e)}function i$(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?MA(n.parent,n):Oa(n.object)&&(n.object.visible=!1),n.isHidden=!0,nv(n)}}function r6(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?SA(n.parent,n):Oa(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,nv(n)}}function TB(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,a;const s=_m[t1(e.type)];e.object=(r=e.props.object)!=null?r:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(vf(e.object,e.props),e.props.attach)SA(n,e);else if(Oa(e.object)&&Oa(n.object)){const s=n.object.children.indexOf(t==null?void 0:t.object);if(t&&s!==-1){const l=n.object.children.indexOf(e.object);if(l!==-1){n.object.children.splice(l,1);const u=l<s?s-1:s;n.object.children.splice(u,0,e.object)}else e.object.parent=n.object,n.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const s of e.children)TB(e,s);nv(e)}}function _E(n,e){e&&(e.parent=n,n.children.push(e),TB(n,e))}function M3(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),TB(n,e,t)}function a6(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():b3.unstable_scheduleCallback(b3.unstable_IdlePriority,e)}}function QC(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?MA(n,e):Oa(e.object)&&Oa(n.object)&&(n.object.remove(e.object),WQ(W5(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];QC(e,s,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&a6(e.object),t===void 0&&nv(e)}function r$(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const O_=[];function a$(){for(const[t]of O_){const i=t.parent;if(i){t.props.attach?MA(i,t):Oa(t.object)&&Oa(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?MA(t,r):Oa(r.object)&&Oa(t.object)&&t.object.remove(r.object)}t.isHidden&&r6(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&a6(t.object)}for(const[t,i,r]of O_){t.props=i;const a=t.parent;if(a){var n,e;const s=_m[t1(t.type)];t.object=(n=t.props.object)!=null?n:new s(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,r$(r,t.object),vf(t.object,t.props),t.props.attach?SA(a,t):Oa(t.object)&&Oa(a.object)&&a.object.add(t.object);for(const l of t.children)l.props.attach?SA(t,l):Oa(l.object)&&Oa(t.object)&&t.object.add(l.object);nv(t)}}O_.length=0}const AE=()=>{},E3={};let r_=n6;const s$=0,o$=4,$C=ZQ({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:n$,removeChild:QC,appendChild:_E,appendInitialChild:_E,insertBefore:M3,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||_E(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||QC(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||M3(i,e,t)},getRootHostContext:()=>E3,getChildHostContext:()=>E3,commitUpdate(n,e,t,i,r){var a,s,l;i6(e,i);let u=!1;if((n.type==="primitive"&&t.object!==i.object||((a=i.args)==null?void 0:a.length)!==((s=t.args)==null?void 0:s.length)||(l=i.args)!=null&&l.some((p,v)=>{var g;return p!==((g=t.args)==null?void 0:g[v])}))&&(u=!0),u)O_.push([n,{...i},r]);else{const p=VQ(n,i);Object.keys(p).length&&(Object.assign(n.props,p),vf(n.object,p))}(r.sibling===null||(r.flags&o$)===s$)&&a$()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>AA(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:i$,unhideInstance:r6,createTextInstance:AE,hideTextInstance:AE,unhideTextInstance:AE,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:Z.createContext(null),setCurrentUpdatePriority(n){r_=n},getCurrentUpdatePriority(){return r_},resolveUpdatePriority(){var n;if(r_!==n6)return r_;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return R_.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return R_.ContinuousEventPriority;default:return R_.DefaultEventPriority}},resetFormInstance(){}}),yd=new Map,Jp={objects:"shallow",strict:!1};function l$(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function u$(n){const e=yd.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||KQ(nR,w3),s=t||$C.createContainer(a,R_.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||yd.set(n,{fiber:s,store:a});let l,u,f=!1,p=null;return{async configure(v={}){let g;p=new Promise(se=>g=se);let{gl:b,size:_,scene:M,events:A,onCreated:S,shadows:w=!1,linear:C=!1,flat:R=!1,legacy:D=!1,orthographic:N=!1,frameloop:L="always",dpr:z=[1,2],performance:P,raycaster:U,camera:H,onPointerMissed:J}=v,V=a.getState(),ne=V.gl;if(!V.gl){const se={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},pe=typeof b=="function"?await b(se):b;A3(pe)?ne=pe:ne=new G5({...se,...b}),V.set({gl:ne})}let ee=V.raycaster;ee||V.set({raycaster:ee=new D5});const{params:Y,...re}=U||{};if(yi.equ(re,ee,Jp)||vf(ee,{...re}),yi.equ(Y,ee.params,Jp)||vf(ee,{params:{...ee.params,...Y}}),!V.camera||V.camera===u&&!yi.equ(u,H,Jp)){u=H;const se=H==null?void 0:H.isCamera,pe=se?H:N?new el(0,0,0,0,.1,1e3):new bi(75,0,.1,1e3);se||(pe.position.z=5,H&&(vf(pe,H),pe.manual||("aspect"in H||"left"in H||"right"in H||"bottom"in H||"top"in H)&&(pe.manual=!0,pe.updateProjectionMatrix())),!V.camera&&!(H!=null&&H.rotation)&&pe.lookAt(0,0,0)),V.set({camera:pe}),ee.camera=pe}if(!V.scene){let se;M!=null&&M.isScene?(se=M,AA(se,a,"",{})):(se=new XO,AA(se,a,"",{}),M&&vf(se,M)),V.set({scene:se})}A&&!V.events.handlers&&V.set({events:A(a)});const ie=l$(n,_);if(yi.equ(ie,V.size,Jp)||V.setSize(ie.width,ie.height,ie.top,ie.left),z&&V.viewport.dpr!==J5(z)&&V.setDpr(z),V.frameloop!==L&&V.setFrameloop(L),V.onPointerMissed||V.set({onPointerMissed:J}),P&&!yi.equ(P,V.performance,Jp)&&V.set(se=>({performance:{...se.performance,...P}})),!V.xr){var he;const se=(oe,Te)=>{const Ue=a.getState();Ue.frameloop!=="never"&&w3(oe,!0,Ue,Te)},pe=()=>{const oe=a.getState();oe.gl.xr.enabled=oe.gl.xr.isPresenting,oe.gl.xr.setAnimationLoop(oe.gl.xr.isPresenting?se:null),oe.gl.xr.isPresenting||nR(oe)},Se={connect(){const oe=a.getState().gl;oe.xr.addEventListener("sessionstart",pe),oe.xr.addEventListener("sessionend",pe)},disconnect(){const oe=a.getState().gl;oe.xr.removeEventListener("sessionstart",pe),oe.xr.removeEventListener("sessionend",pe)}};typeof((he=ne.xr)==null?void 0:he.addEventListener)=="function"&&Se.connect(),V.set({xr:Se})}if(ne.shadowMap){const se=ne.shadowMap.enabled,pe=ne.shadowMap.type;if(ne.shadowMap.enabled=!!w,yi.boo(w))ne.shadowMap.type=$g;else if(yi.str(w)){var q;const Se={basic:ZH,percentage:xS,soft:$g,variance:qo};ne.shadowMap.type=(q=Se[w])!=null?q:$g}else yi.obj(w)&&Object.assign(ne.shadowMap,w);(se!==ne.shadowMap.enabled||pe!==ne.shadowMap.type)&&(ne.shadowMap.needsUpdate=!0)}return Tn.enabled=!D,f||(ne.outputColorSpace=C?Ef:fa,ne.toneMapping=R?Kl:OO),V.legacy!==D&&V.set(()=>({legacy:D})),V.linear!==C&&V.set(()=>({linear:C})),V.flat!==R&&V.set(()=>({flat:R})),b&&!yi.fun(b)&&!A3(b)&&!yi.equ(b,ne,Jp)&&vf(ne,b),l=S,f=!0,g(),this},render(v){return!f&&!p&&this.configure(),p.then(()=>{$C.updateContainer(F(c$,{store:a,children:v,onCreated:l,rootElement:n}),s,null,()=>{})}),a},unmount(){s6(n)}}}function c$({store:n,children:e,onCreated:t,rootElement:i}){return _0(()=>{const r=n.getState();r.set(a=>({internal:{...a.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),F($5.Provider,{value:n,children:e})}function s6(n,e){const t=yd.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),$C.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,s,l,u;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(u=r.gl)!=null&&u.xr&&r.xr.disconnect(),HQ(r.scene),yd.delete(n)}catch{}},500)})}}const f$=new Set,h$=new Set,d$=new Set;function SE(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function ly(n,e){switch(n){case"before":return SE(f$,e);case"after":return SE(h$,e);case"tail":return SE(d$,e)}}let ME,EE;function eR(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),ME=e.internal.subscribers;for(let r=0;r<ME.length;r++)EE=ME[r],EE.ref.current(EE.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let EA=!1,tR=!1,TE,T3,Zp;function o6(n){T3=requestAnimationFrame(o6),EA=!0,TE=0,ly("before",n),tR=!0;for(const t of yd.values()){var e;Zp=t.store.getState(),Zp.internal.active&&(Zp.frameloop==="always"||Zp.internal.frames>0)&&!((e=Zp.gl.xr)!=null&&e.isPresenting)&&(TE+=eR(n,Zp))}if(tR=!1,ly("after",n),TE===0)return ly("tail",n),EA=!1,cancelAnimationFrame(T3)}function nR(n,e=1){var t;if(!n)return yd.forEach(i=>nR(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):tR?n.internal.frames=2:n.internal.frames=1,EA||(EA=!0,requestAnimationFrame(o6)))}function w3(n,e=!0,t,i){if(e&&ly("before",n),t)eR(n,t,i);else for(const r of yd.values())eR(n,r.store.getState());e&&ly("after",n)}const wE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function p$(n){const{handlePointer:e}=YQ(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(wE).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:t}})),r.handlers)for(const a in r.handlers){const s=r.handlers[a],[l,u]=wE[a];t.addEventListener(l,s,{passive:u})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[s]=wE[r];i.connected.removeEventListener(s,a)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function C3(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function m$({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=Z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,f=n?typeof n=="number"?n:n.resize:null,p=Z.useRef(!1);Z.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[v,g,b]=Z.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:w,top:C,width:R,height:D,bottom:N,right:L,x:z,y:P}=l.current.element.getBoundingClientRect(),U={left:w,top:C,width:R,height:D,bottom:N,right:L,x:z,y:P};l.current.element instanceof HTMLElement&&i&&(U.height=l.current.element.offsetHeight,U.width=l.current.element.offsetWidth),Object.freeze(U),p.current&&!b$(l.current.lastBounds,U)&&s(l.current.lastBounds=U)};return[S,f?C3(S,f):S,u?C3(S,u):S]},[s,i,u,f]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",b,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function M(){l.current.element&&(l.current.resizeObserver=new r(b),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",b,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const A=S=>{!S||S===l.current.element||(_(),l.current.element=S,l.current.scrollContainers=l6(S),M())};return g$(b,!!e),v$(g),Z.useEffect(()=>{_(),M()},[e,b,g]),Z.useEffect(()=>_,[]),[A,a,v]}function v$(n){Z.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function g$(n,e){Z.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function l6(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...l6(n.parentElement)]}const y$=["x","y","top","bottom","left","right","width","height"],b$=(n,e)=>y$.every(t=>n[t]===e[t]);function x$({ref:n,children:e,fallback:t,resize:i,style:r,gl:a,events:s=p$,eventSource:l,eventPrefix:u,shadows:f,linear:p,flat:v,legacy:g,orthographic:b,frameloop:_,dpr:M,performance:A,raycaster:S,camera:w,scene:C,onPointerMissed:R,onCreated:D,...N}){Z.useMemo(()=>t$(lQ),[]);const L=UQ(),[z,P]=m$({scroll:!0,debounce:{scroll:50,resize:0},...i}),U=Z.useRef(null),H=Z.useRef(null);Z.useImperativeHandle(n,()=>U.current);const J=K5(R),[V,ne]=Z.useState(!1),[ee,Y]=Z.useState(!1);if(V)throw V;if(ee)throw ee;const re=Z.useRef(null);return _0(()=>{const he=U.current;if(P.width>0&&P.height>0&&he){re.current||(re.current=u$(he));async function q(){await re.current.configure({gl:a,scene:C,events:s,shadows:f,linear:p,flat:v,legacy:g,orthographic:b,frameloop:_,dpr:M,performance:A,raycaster:S,camera:w,size:P,onPointerMissed:(...se)=>J.current==null?void 0:J.current(...se),onCreated:se=>{se.events.connect==null||se.events.connect(l?PQ(l)?l.current:l:H.current),u&&se.setEvents({compute:(pe,Se)=>{const oe=pe[u+"X"],Te=pe[u+"Y"];Se.pointer.set(oe/Se.size.width*2-1,-(Te/Se.size.height)*2+1),Se.raycaster.setFromCamera(Se.pointer,Se.camera)}}),D==null||D(se)}}),re.current.render(F(L,{children:F(FQ,{set:Y,children:F(Z.Suspense,{fallback:F(IQ,{set:ne}),children:e??null})})}))}q()}}),Z.useEffect(()=>{const he=U.current;if(he)return()=>s6(he)},[]),F("div",{ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:l?"none":"auto",...r},...N,children:F("div",{ref:z,style:{width:"100%",height:"100%"},children:F("canvas",{ref:U,style:{display:"block"},children:t})})})}function n1(n){return F(q5,{children:F(x$,{...n})})}function Am(){return Am=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Am.apply(null,arguments)}const S0=new Q,wB=new Q,_$=new Q,R3=new ke;function A$(n,e,t){const i=S0.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,a=t.height/2;return[i.x*r+r,-(i.y*a)+a]}function S$(n,e){const t=S0.setFromMatrixPosition(n.matrixWorld),i=wB.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),a=e.getWorldDirection(_$);return r.angleTo(a)>Math.PI/2}function M$(n,e,t,i){const r=S0.setFromMatrixPosition(n.matrixWorld),a=r.clone();a.project(e),R3.set(a.x,a.y),t.setFromCamera(R3,e);const s=t.intersectObjects(i,!0);if(s.length){const l=s[0].distance;return r.distanceTo(t.ray.origin)<l}return!0}function E$(n,e){if(e instanceof el)return e.zoom;if(e instanceof bi){const t=S0.setFromMatrixPosition(n.matrixWorld),i=wB.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,a=t.distanceTo(i);return 1/(2*Math.tan(r/2)*a)}else return 1}function T$(n,e,t){if(e instanceof bi||e instanceof el){const i=S0.setFromMatrixPosition(n.matrixWorld),r=wB.setFromMatrixPosition(e.matrixWorld),a=i.distanceTo(r),s=(t[1]-t[0])/(e.far-e.near),l=t[1]-s*e.far;return Math.round(s*a+l)}}const iR=n=>Math.abs(n)<1e-10?0:n;function u6(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=iR(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const w$=(n=>e=>u6(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),C$=(n=>(e,t)=>u6(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function R$(n){return n&&typeof n=="object"&&"current"in n}const lm=Z.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:a,fullscreen:s,portal:l,distanceFactor:u,sprite:f=!1,transform:p=!1,occlude:v,onOcclude:g,castShadow:b,receiveShadow:_,material:M,geometry:A,zIndexRange:S=[16777271,0],calculatePosition:w=A$,as:C="div",wrapperClass:R,pointerEvents:D="auto",...N},L)=>{const{gl:z,camera:P,scene:U,size:H,raycaster:J,events:V,viewport:ne}=Xo(),[ee]=Z.useState(()=>document.createElement(C)),Y=Z.useRef(null),re=Z.useRef(null),ie=Z.useRef(0),he=Z.useRef([0,0]),q=Z.useRef(null),se=Z.useRef(null),pe=(l==null?void 0:l.current)||V.connected||z.domElement.parentNode,Se=Z.useRef(null),oe=Z.useRef(!1),Te=Z.useMemo(()=>v&&v!=="blending"||Array.isArray(v)&&v.length&&R$(v[0]),[v]);Z.useLayoutEffect(()=>{const De=z.domElement;v&&v==="blending"?(De.style.zIndex=`${Math.floor(S[0]/2)}`,De.style.position="absolute",De.style.pointerEvents="none"):(De.style.zIndex=null,De.style.position=null,De.style.pointerEvents=null)},[v]),Z.useLayoutEffect(()=>{if(re.current){const De=Y.current=BH.createRoot(ee);if(U.updateMatrixWorld(),p)ee.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Xe=w(re.current,P,H);ee.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Xe[0]}px,${Xe[1]}px,0);transform-origin:0 0;`}return pe&&(r?pe.prepend(ee):pe.appendChild(ee)),()=>{pe&&pe.removeChild(ee),De.unmount()}}},[pe,p]),Z.useLayoutEffect(()=>{R&&(ee.className=R)},[R]);const Ue=Z.useMemo(()=>p?{position:"absolute",top:0,left:0,width:H.width,height:H.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:a?"translate3d(-50%,-50%,0)":"none",...s&&{top:-H.height/2,left:-H.width/2,width:H.width,height:H.height},...t},[t,a,s,H,p]),We=Z.useMemo(()=>({position:"absolute",pointerEvents:D}),[D]);Z.useLayoutEffect(()=>{if(oe.current=!1,p){var De;(De=Y.current)==null||De.render(Z.createElement("div",{ref:q,style:Ue},Z.createElement("div",{ref:se,style:We},Z.createElement("div",{ref:L,className:i,style:t,children:n}))))}else{var Xe;(Xe=Y.current)==null||Xe.render(Z.createElement("div",{ref:L,style:Ue,className:i,children:n}))}});const qe=Z.useRef(!0);Rd(De=>{if(re.current){P.updateMatrixWorld(),re.current.updateWorldMatrix(!0,!1);const Xe=p?he.current:w(re.current,P,H);if(p||Math.abs(ie.current-P.zoom)>e||Math.abs(he.current[0]-Xe[0])>e||Math.abs(he.current[1]-Xe[1])>e){const fe=S$(re.current,P);let Ce=!1;Te&&(Array.isArray(v)?Ce=v.map(Ze=>Ze.current):v!=="blending"&&(Ce=[U]));const K=qe.current;if(Ce){const Ze=M$(re.current,P,J,Ce);qe.current=Ze&&!fe}else qe.current=!fe;K!==qe.current&&(g?g(!qe.current):ee.style.display=qe.current?"block":"none");const st=Math.floor(S[0]/2),Ie=v?Te?[S[0],st]:[st-1,0]:S;if(ee.style.zIndex=`${T$(re.current,P,Ie)}`,p){const[Ze,Je]=[H.width/2,H.height/2],At=P.projectionMatrix.elements[5]*Je,{isOrthographicCamera:rt,top:$,left:k,bottom:_e,right:Ne}=P,Ye=w$(P.matrixWorldInverse),He=rt?`scale(${At})translate(${iR(-(Ne+k)/2)}px,${iR(($+_e)/2)}px)`:`translateZ(${At}px)`;let vt=re.current.matrixWorld;f&&(vt=P.matrixWorldInverse.clone().transpose().copyPosition(vt).scale(re.current.scale),vt.elements[3]=vt.elements[7]=vt.elements[11]=0,vt.elements[15]=1),ee.style.width=H.width+"px",ee.style.height=H.height+"px",ee.style.perspective=rt?"":`${At}px`,q.current&&se.current&&(q.current.style.transform=`${He}${Ye}translate(${Ze}px,${Je}px)`,se.current.style.transform=C$(vt,1/((u||10)/400)))}else{const Ze=u===void 0?1:E$(re.current,P)*u;ee.style.transform=`translate3d(${Xe[0]}px,${Xe[1]}px,0) scale(${Ze})`}he.current=Xe,ie.current=P.zoom}}if(!Te&&Se.current&&!oe.current)if(p){if(q.current){const Xe=q.current.children[0];if(Xe!=null&&Xe.clientWidth&&Xe!=null&&Xe.clientHeight){const{isOrthographicCamera:fe}=P;if(fe||A)N.scale&&(Array.isArray(N.scale)?N.scale instanceof Q?Se.current.scale.copy(N.scale.clone().divideScalar(1)):Se.current.scale.set(1/N.scale[0],1/N.scale[1],1/N.scale[2]):Se.current.scale.setScalar(1/N.scale));else{const Ce=(u||10)/400,K=Xe.clientWidth*Ce,st=Xe.clientHeight*Ce;Se.current.scale.set(K,st,1)}oe.current=!0}}}else{const Xe=ee.children[0];if(Xe!=null&&Xe.clientWidth&&Xe!=null&&Xe.clientHeight){const fe=1/ne.factor,Ce=Xe.clientWidth*fe,K=Xe.clientHeight*fe;Se.current.scale.set(Ce,K,1),oe.current=!0}Se.current.lookAt(De.camera.position)}});const Le=Z.useMemo(()=>({vertexShader:p?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[p]);return Z.createElement("group",Am({},N,{ref:re}),v&&!Te&&Z.createElement("mesh",{castShadow:b,receiveShadow:_,ref:Se},A||Z.createElement("planeGeometry",null),M||Z.createElement("shaderMaterial",{side:Qs,vertexShader:Le.vertexShader,fragmentShader:Le.fragmentShader})))}),CB=parseInt(Km.replace(/\D+/g,"")),c6=CB>=125?"uv1":"uv2";function O3(n,e){if(e===CG)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===mA||e===GO){let t=n.getIndex();if(t===null){const s=[],l=n.getAttribute("position");if(l!==void 0){for(let u=0;u<l.count;u++)s.push(u);n.setIndex(s),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===mA)for(let s=1;s<=i;s++)r.push(t.getX(0)),r.push(t.getX(s)),r.push(t.getX(s+1));else for(let s=0;s<i;s++)s%2===0?(r.push(t.getX(s)),r.push(t.getX(s+1)),r.push(t.getX(s+2))):(r.push(t.getX(s+2)),r.push(t.getX(s+1)),r.push(t.getX(s)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=n.clone();return a.setIndex(r),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var O$=Object.defineProperty,B$=(n,e,t)=>e in n?O$(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,D$=(n,e,t)=>(B$(n,e+"",t),t);class N${constructor(){D$(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}}var P$=Object.defineProperty,L$=(n,e,t)=>e in n?P$(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,It=(n,e,t)=>(L$(n,typeof e!="symbol"?e+"":e,t),t);const a_=new Ed,B3=new qu,U$=Math.cos(70*(Math.PI/180)),D3=(n,e)=>(n%e+e)%e;let I$=class extends N${constructor(e,t){super(),It(this,"object"),It(this,"domElement"),It(this,"enabled",!0),It(this,"target",new Q),It(this,"minDistance",0),It(this,"maxDistance",1/0),It(this,"minZoom",0),It(this,"maxZoom",1/0),It(this,"minPolarAngle",0),It(this,"maxPolarAngle",Math.PI),It(this,"minAzimuthAngle",-1/0),It(this,"maxAzimuthAngle",1/0),It(this,"enableDamping",!1),It(this,"dampingFactor",.05),It(this,"enableZoom",!0),It(this,"zoomSpeed",1),It(this,"enableRotate",!0),It(this,"rotateSpeed",1),It(this,"enablePan",!0),It(this,"panSpeed",1),It(this,"screenSpacePanning",!0),It(this,"keyPanSpeed",7),It(this,"zoomToCursor",!1),It(this,"autoRotate",!1),It(this,"autoRotateSpeed",2),It(this,"reverseOrbit",!1),It(this,"reverseHorizontalOrbit",!1),It(this,"reverseVerticalOrbit",!1),It(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),It(this,"mouseButtons",{LEFT:Fh.ROTATE,MIDDLE:Fh.DOLLY,RIGHT:Fh.PAN}),It(this,"touches",{ONE:zh.ROTATE,TWO:zh.DOLLY_PAN}),It(this,"target0"),It(this,"position0"),It(this,"zoom0"),It(this,"_domElementKeyEvents",null),It(this,"getPolarAngle"),It(this,"getAzimuthalAngle"),It(this,"setPolarAngle"),It(this,"setAzimuthalAngle"),It(this,"getDistance"),It(this,"getZoomScale"),It(this,"listenToKeyEvents"),It(this,"stopListenToKeyEvents"),It(this,"saveState"),It(this,"reset"),It(this,"update"),It(this,"connect"),It(this,"dispose"),It(this,"dollyIn"),It(this,"dollyOut"),It(this,"getScale"),It(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>p.phi,this.getAzimuthalAngle=()=>p.theta,this.setPolarAngle=ce=>{let Pe=D3(ce,2*Math.PI),ft=p.phi;ft<0&&(ft+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let ue=Math.abs(Pe-ft);2*Math.PI-ue<ue&&(Pe<ft?Pe+=2*Math.PI:ft+=2*Math.PI),v.phi=Pe-ft,i.update()},this.setAzimuthalAngle=ce=>{let Pe=D3(ce,2*Math.PI),ft=p.theta;ft<0&&(ft+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let ue=Math.abs(Pe-ft);2*Math.PI-ue<ue&&(Pe<ft?Pe+=2*Math.PI:ft+=2*Math.PI),v.theta=Pe-ft,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=ce=>{ce.addEventListener("keydown",lt),this._domElementKeyEvents=ce},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",lt),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),u=l.NONE},this.update=(()=>{const ce=new Q,Pe=new Q(0,1,0),ft=new hr().setFromUnitVectors(e.up,Pe),ue=ft.clone().invert(),it=new Q,Be=new hr,Ge=2*Math.PI;return function(){const ht=i.object.position;ft.setFromUnitVectors(e.up,Pe),ue.copy(ft).invert(),ce.copy(ht).sub(i.target),ce.applyQuaternion(ft),p.setFromVector3(ce),i.autoRotate&&u===l.NONE&&ne(J()),i.enableDamping?(p.theta+=v.theta*i.dampingFactor,p.phi+=v.phi*i.dampingFactor):(p.theta+=v.theta,p.phi+=v.phi);let Rt=i.minAzimuthAngle,un=i.maxAzimuthAngle;isFinite(Rt)&&isFinite(un)&&(Rt<-Math.PI?Rt+=Ge:Rt>Math.PI&&(Rt-=Ge),un<-Math.PI?un+=Ge:un>Math.PI&&(un-=Ge),Rt<=un?p.theta=Math.max(Rt,Math.min(un,p.theta)):p.theta=p.theta>(Rt+un)/2?Math.max(Rt,p.theta):Math.min(un,p.theta)),p.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,p.phi)),p.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(b,i.dampingFactor):i.target.add(b),i.zoomToCursor&&P||i.object.isOrthographicCamera?p.radius=Se(p.radius):p.radius=Se(p.radius*g),ce.setFromSpherical(p),ce.applyQuaternion(ue),ht.copy(i.target).add(ce),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(v.theta*=1-i.dampingFactor,v.phi*=1-i.dampingFactor,b.multiplyScalar(1-i.dampingFactor)):(v.set(0,0,0),b.set(0,0,0));let In=!1;if(i.zoomToCursor&&P){let Zt=null;if(i.object instanceof bi&&i.object.isPerspectiveCamera){const di=ce.length();Zt=Se(di*g);const Ai=di-Zt;i.object.position.addScaledVector(L,Ai),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const di=new Q(z.x,z.y,0);di.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/g)),i.object.updateProjectionMatrix(),In=!0;const Ai=new Q(z.x,z.y,0);Ai.unproject(i.object),i.object.position.sub(Ai).add(di),i.object.updateMatrixWorld(),Zt=ce.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Zt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Zt).add(i.object.position):(a_.origin.copy(i.object.position),a_.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(a_.direction))<U$?e.lookAt(i.target):(B3.setFromNormalAndCoplanarPoint(i.object.up,i.target),a_.intersectPlane(B3,i.target))))}else i.object instanceof el&&i.object.isOrthographicCamera&&(In=g!==1,In&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/g)),i.object.updateProjectionMatrix()));return g=1,P=!1,In||it.distanceToSquared(i.object.position)>f||8*(1-Be.dot(i.object.quaternion))>f?(i.dispatchEvent(r),it.copy(i.object.position),Be.copy(i.object.quaternion),In=!1,!0):!1}})(),this.connect=ce=>{i.domElement=ce,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",tt),i.domElement.addEventListener("pointerdown",k),i.domElement.addEventListener("pointercancel",Ne),i.domElement.addEventListener("wheel",vt)},this.dispose=()=>{var ce,Pe,ft,ue,it,Be;i.domElement&&(i.domElement.style.touchAction="auto"),(ce=i.domElement)==null||ce.removeEventListener("contextmenu",tt),(Pe=i.domElement)==null||Pe.removeEventListener("pointerdown",k),(ft=i.domElement)==null||ft.removeEventListener("pointercancel",Ne),(ue=i.domElement)==null||ue.removeEventListener("wheel",vt),(it=i.domElement)==null||it.ownerDocument.removeEventListener("pointermove",_e),(Be=i.domElement)==null||Be.ownerDocument.removeEventListener("pointerup",Ne),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",lt)};const i=this,r={type:"change"},a={type:"start"},s={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=l.NONE;const f=1e-6,p=new _A,v=new _A;let g=1;const b=new Q,_=new ke,M=new ke,A=new ke,S=new ke,w=new ke,C=new ke,R=new ke,D=new ke,N=new ke,L=new Q,z=new ke;let P=!1;const U=[],H={};function J(){return 2*Math.PI/60/60*i.autoRotateSpeed}function V(){return Math.pow(.95,i.zoomSpeed)}function ne(ce){i.reverseOrbit||i.reverseHorizontalOrbit?v.theta+=ce:v.theta-=ce}function ee(ce){i.reverseOrbit||i.reverseVerticalOrbit?v.phi+=ce:v.phi-=ce}const Y=(()=>{const ce=new Q;return function(ft,ue){ce.setFromMatrixColumn(ue,0),ce.multiplyScalar(-ft),b.add(ce)}})(),re=(()=>{const ce=new Q;return function(ft,ue){i.screenSpacePanning===!0?ce.setFromMatrixColumn(ue,1):(ce.setFromMatrixColumn(ue,0),ce.crossVectors(i.object.up,ce)),ce.multiplyScalar(ft),b.add(ce)}})(),ie=(()=>{const ce=new Q;return function(ft,ue){const it=i.domElement;if(it&&i.object instanceof bi&&i.object.isPerspectiveCamera){const Be=i.object.position;ce.copy(Be).sub(i.target);let Ge=ce.length();Ge*=Math.tan(i.object.fov/2*Math.PI/180),Y(2*ft*Ge/it.clientHeight,i.object.matrix),re(2*ue*Ge/it.clientHeight,i.object.matrix)}else it&&i.object instanceof el&&i.object.isOrthographicCamera?(Y(ft*(i.object.right-i.object.left)/i.object.zoom/it.clientWidth,i.object.matrix),re(ue*(i.object.top-i.object.bottom)/i.object.zoom/it.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function he(ce){i.object instanceof bi&&i.object.isPerspectiveCamera||i.object instanceof el&&i.object.isOrthographicCamera?g=ce:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function q(ce){he(g/ce)}function se(ce){he(g*ce)}function pe(ce){if(!i.zoomToCursor||!i.domElement)return;P=!0;const Pe=i.domElement.getBoundingClientRect(),ft=ce.clientX-Pe.left,ue=ce.clientY-Pe.top,it=Pe.width,Be=Pe.height;z.x=ft/it*2-1,z.y=-(ue/Be)*2+1,L.set(z.x,z.y,1).unproject(i.object).sub(i.object.position).normalize()}function Se(ce){return Math.max(i.minDistance,Math.min(i.maxDistance,ce))}function oe(ce){_.set(ce.clientX,ce.clientY)}function Te(ce){pe(ce),R.set(ce.clientX,ce.clientY)}function Ue(ce){S.set(ce.clientX,ce.clientY)}function We(ce){M.set(ce.clientX,ce.clientY),A.subVectors(M,_).multiplyScalar(i.rotateSpeed);const Pe=i.domElement;Pe&&(ne(2*Math.PI*A.x/Pe.clientHeight),ee(2*Math.PI*A.y/Pe.clientHeight)),_.copy(M),i.update()}function qe(ce){D.set(ce.clientX,ce.clientY),N.subVectors(D,R),N.y>0?q(V()):N.y<0&&se(V()),R.copy(D),i.update()}function Le(ce){w.set(ce.clientX,ce.clientY),C.subVectors(w,S).multiplyScalar(i.panSpeed),ie(C.x,C.y),S.copy(w),i.update()}function De(ce){pe(ce),ce.deltaY<0?se(V()):ce.deltaY>0&&q(V()),i.update()}function Xe(ce){let Pe=!1;switch(ce.code){case i.keys.UP:ie(0,i.keyPanSpeed),Pe=!0;break;case i.keys.BOTTOM:ie(0,-i.keyPanSpeed),Pe=!0;break;case i.keys.LEFT:ie(i.keyPanSpeed,0),Pe=!0;break;case i.keys.RIGHT:ie(-i.keyPanSpeed,0),Pe=!0;break}Pe&&(ce.preventDefault(),i.update())}function fe(){if(U.length==1)_.set(U[0].pageX,U[0].pageY);else{const ce=.5*(U[0].pageX+U[1].pageX),Pe=.5*(U[0].pageY+U[1].pageY);_.set(ce,Pe)}}function Ce(){if(U.length==1)S.set(U[0].pageX,U[0].pageY);else{const ce=.5*(U[0].pageX+U[1].pageX),Pe=.5*(U[0].pageY+U[1].pageY);S.set(ce,Pe)}}function K(){const ce=U[0].pageX-U[1].pageX,Pe=U[0].pageY-U[1].pageY,ft=Math.sqrt(ce*ce+Pe*Pe);R.set(0,ft)}function st(){i.enableZoom&&K(),i.enablePan&&Ce()}function Ie(){i.enableZoom&&K(),i.enableRotate&&fe()}function Ze(ce){if(U.length==1)M.set(ce.pageX,ce.pageY);else{const ft=xt(ce),ue=.5*(ce.pageX+ft.x),it=.5*(ce.pageY+ft.y);M.set(ue,it)}A.subVectors(M,_).multiplyScalar(i.rotateSpeed);const Pe=i.domElement;Pe&&(ne(2*Math.PI*A.x/Pe.clientHeight),ee(2*Math.PI*A.y/Pe.clientHeight)),_.copy(M)}function Je(ce){if(U.length==1)w.set(ce.pageX,ce.pageY);else{const Pe=xt(ce),ft=.5*(ce.pageX+Pe.x),ue=.5*(ce.pageY+Pe.y);w.set(ft,ue)}C.subVectors(w,S).multiplyScalar(i.panSpeed),ie(C.x,C.y),S.copy(w)}function At(ce){const Pe=xt(ce),ft=ce.pageX-Pe.x,ue=ce.pageY-Pe.y,it=Math.sqrt(ft*ft+ue*ue);D.set(0,it),N.set(0,Math.pow(D.y/R.y,i.zoomSpeed)),q(N.y),R.copy(D)}function rt(ce){i.enableZoom&&At(ce),i.enablePan&&Je(ce)}function $(ce){i.enableZoom&&At(ce),i.enableRotate&&Ze(ce)}function k(ce){var Pe,ft;i.enabled!==!1&&(U.length===0&&((Pe=i.domElement)==null||Pe.ownerDocument.addEventListener("pointermove",_e),(ft=i.domElement)==null||ft.ownerDocument.addEventListener("pointerup",Ne)),St(ce),ce.pointerType==="touch"?_t(ce):Ye(ce))}function _e(ce){i.enabled!==!1&&(ce.pointerType==="touch"?Jt(ce):He(ce))}function Ne(ce){var Pe,ft,ue;Tt(ce),U.length===0&&((Pe=i.domElement)==null||Pe.releasePointerCapture(ce.pointerId),(ft=i.domElement)==null||ft.ownerDocument.removeEventListener("pointermove",_e),(ue=i.domElement)==null||ue.ownerDocument.removeEventListener("pointerup",Ne)),i.dispatchEvent(s),u=l.NONE}function Ye(ce){let Pe;switch(ce.button){case 0:Pe=i.mouseButtons.LEFT;break;case 1:Pe=i.mouseButtons.MIDDLE;break;case 2:Pe=i.mouseButtons.RIGHT;break;default:Pe=-1}switch(Pe){case Fh.DOLLY:if(i.enableZoom===!1)return;Te(ce),u=l.DOLLY;break;case Fh.ROTATE:if(ce.ctrlKey||ce.metaKey||ce.shiftKey){if(i.enablePan===!1)return;Ue(ce),u=l.PAN}else{if(i.enableRotate===!1)return;oe(ce),u=l.ROTATE}break;case Fh.PAN:if(ce.ctrlKey||ce.metaKey||ce.shiftKey){if(i.enableRotate===!1)return;oe(ce),u=l.ROTATE}else{if(i.enablePan===!1)return;Ue(ce),u=l.PAN}break;default:u=l.NONE}u!==l.NONE&&i.dispatchEvent(a)}function He(ce){if(i.enabled!==!1)switch(u){case l.ROTATE:if(i.enableRotate===!1)return;We(ce);break;case l.DOLLY:if(i.enableZoom===!1)return;qe(ce);break;case l.PAN:if(i.enablePan===!1)return;Le(ce);break}}function vt(ce){i.enabled===!1||i.enableZoom===!1||u!==l.NONE&&u!==l.ROTATE||(ce.preventDefault(),i.dispatchEvent(a),De(ce),i.dispatchEvent(s))}function lt(ce){i.enabled===!1||i.enablePan===!1||Xe(ce)}function _t(ce){switch(Mt(ce),U.length){case 1:switch(i.touches.ONE){case zh.ROTATE:if(i.enableRotate===!1)return;fe(),u=l.TOUCH_ROTATE;break;case zh.PAN:if(i.enablePan===!1)return;Ce(),u=l.TOUCH_PAN;break;default:u=l.NONE}break;case 2:switch(i.touches.TWO){case zh.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;st(),u=l.TOUCH_DOLLY_PAN;break;case zh.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ie(),u=l.TOUCH_DOLLY_ROTATE;break;default:u=l.NONE}break;default:u=l.NONE}u!==l.NONE&&i.dispatchEvent(a)}function Jt(ce){switch(Mt(ce),u){case l.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ze(ce),i.update();break;case l.TOUCH_PAN:if(i.enablePan===!1)return;Je(ce),i.update();break;case l.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;rt(ce),i.update();break;case l.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;$(ce),i.update();break;default:u=l.NONE}}function tt(ce){i.enabled!==!1&&ce.preventDefault()}function St(ce){U.push(ce)}function Tt(ce){delete H[ce.pointerId];for(let Pe=0;Pe<U.length;Pe++)if(U[Pe].pointerId==ce.pointerId){U.splice(Pe,1);return}}function Mt(ce){let Pe=H[ce.pointerId];Pe===void 0&&(Pe=new ke,H[ce.pointerId]=Pe),Pe.set(ce.pageX,ce.pageY)}function xt(ce){const Pe=ce.pointerId===U[0].pointerId?U[1]:U[0];return H[Pe.pointerId]}this.dollyIn=(ce=V())=>{se(ce),i.update()},this.dollyOut=(ce=V())=>{q(ce),i.update()},this.getScale=()=>g,this.setScale=ce=>{he(ce),i.update()},this.getZoomScale=()=>V(),t!==void 0&&this.connect(t),this.update()}};function TA(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Zh="srgb",nc="srgb-linear",N3=3001,F$=3e3;class RB extends va{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new V$(t)}),this.register(function(t){return new j$(t)}),this.register(function(t){return new $$(t)}),this.register(function(t){return new eee(t)}),this.register(function(t){return new tee(t)}),this.register(function(t){return new X$(t)}),this.register(function(t){return new W$(t)}),this.register(function(t){return new Y$(t)}),this.register(function(t){return new K$(t)}),this.register(function(t){return new k$(t)}),this.register(function(t){return new J$(t)}),this.register(function(t){return new q$(t)}),this.register(function(t){return new Q$(t)}),this.register(function(t){return new Z$(t)}),this.register(function(t){return new H$(t)}),this.register(function(t){return new nee(t)}),this.register(function(t){return new iee(t)})}load(e,t,i,r){const a=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const f=xf.extractUrlBase(e);s=xf.resolveURL(f,this.path)}else s=xf.extractUrlBase(e);this.manager.itemStart(e);const l=function(f){r?r(f):console.error(f),a.manager.itemError(e),a.manager.itemEnd(e)},u=new Cs(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(f){try{a.parse(f,s,function(p){t(p),a.manager.itemEnd(e)},l)}catch(p){l(p)}},i,l)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let a;const s={},l={};if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(TA(new Uint8Array(e.slice(0,4)))===f6){try{s[xn.KHR_BINARY_GLTF]=new ree(e)}catch(p){r&&r(p);return}a=JSON.parse(s[xn.KHR_BINARY_GLTF].content)}else a=JSON.parse(TA(new Uint8Array(e)));else a=e;if(a.asset===void 0||a.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new gee(a,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let f=0;f<this.pluginCallbacks.length;f++){const p=this.pluginCallbacks[f](u);p.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),l[p.name]=p,s[p.name]=!0}if(a.extensionsUsed)for(let f=0;f<a.extensionsUsed.length;++f){const p=a.extensionsUsed[f],v=a.extensionsRequired||[];switch(p){case xn.KHR_MATERIALS_UNLIT:s[p]=new G$;break;case xn.KHR_DRACO_MESH_COMPRESSION:s[p]=new aee(a,this.dracoLoader);break;case xn.KHR_TEXTURE_TRANSFORM:s[p]=new see;break;case xn.KHR_MESH_QUANTIZATION:s[p]=new oee;break;default:v.indexOf(p)>=0&&l[p]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+p+'".')}}u.setExtensions(s),u.setPlugins(l),u.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,a){i.parse(e,t,r,a)})}}function z$(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const xn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class H${constructor(e){this.parser=e,this.name=xn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const a=t[i];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const a=t.json,u=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let f;const p=new dt(16777215);u.color!==void 0&&p.setRGB(u.color[0],u.color[1],u.color[2],nc);const v=u.range!==void 0?u.range:0;switch(u.type){case"directional":f=new mB(p),f.target.position.set(0,0,-1),f.add(f.target);break;case"point":f=new pB(p),f.distance=v;break;case"spot":f=new dB(p),f.distance=v,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,f.angle=u.spot.outerConeAngle,f.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,f.target.position.set(0,0,-1),f.add(f.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return f.position.set(0,0,0),f.decay=2,ju(f,u),u.intensity!==void 0&&(f.intensity=u.intensity),f.name=t.createUniqueName(u.name||"light_"+e),r=Promise.resolve(f),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,a=i.json.nodes[e],l=(a.extensions&&a.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(u){return i._getNodeRef(t.cache,l,u)})}}class G${constructor(){this.name=xn.KHR_MATERIALS_UNLIT}getMaterialType(){return Es}extendParams(e,t,i){const r=[];e.color=new dt(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const s=a.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],nc),e.opacity=s[3]}a.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",a.baseColorTexture,Zh))}return Promise.all(r)}}class k${constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name].emissiveStrength;return a!==void 0&&(t.emissiveIntensity=a),Promise.resolve()}}class V${constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ro}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&a.push(i.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&a.push(i.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(a.push(i.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const l=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ke(l,l)}return Promise.all(a)}}class j${constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ro}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return t.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class q${constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ro}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&a.push(i.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&a.push(i.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(a)}}class X${constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ro}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new dt(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=r.extensions[this.name];if(s.sheenColorFactor!==void 0){const l=s.sheenColorFactor;t.sheenColor.setRGB(l[0],l[1],l[2],nc)}return s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&a.push(i.assignTexture(t,"sheenColorMap",s.sheenColorTexture,Zh)),s.sheenRoughnessTexture!==void 0&&a.push(i.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(a)}}class W${constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ro}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&a.push(i.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(a)}}class Y${constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ro}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&a.push(i.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const l=s.attenuationColor||[1,1,1];return t.attenuationColor=new dt().setRGB(l[0],l[1],l[2],nc),Promise.all(a)}}class K${constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ro}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return t.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class J${constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ro}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&a.push(i.assignTexture(t,"specularIntensityMap",s.specularTexture));const l=s.specularColorFactor||[1,1,1];return t.specularColor=new dt().setRGB(l[0],l[1],l[2],nc),s.specularColorTexture!==void 0&&a.push(i.assignTexture(t,"specularColorMap",s.specularColorTexture,Zh)),Promise.all(a)}}class Z${constructor(e){this.parser=e,this.name=xn.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ro}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return t.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&a.push(i.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(a)}}class Q${constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ro}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return s.anisotropyStrength!==void 0&&(t.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(t.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&a.push(i.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(a)}}class $${constructor(e){this.parser=e,this.name=xn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const a=r.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,s)}}class eee{constructor(e){this.parser=e,this.name=xn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],l=r.images[s.source];let u=i.textureLoader;if(l.uri){const f=i.options.manager.getHandler(l.uri);f!==null&&(u=f)}return this.detectSupport().then(function(f){if(f)return i.loadTextureImage(e,s.source,u);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class tee{constructor(e){this.parser=e,this.name=xn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],l=r.images[s.source];let u=i.textureLoader;if(l.uri){const f=i.options.manager.getHandler(l.uri);f!==null&&(u=f)}return this.detectSupport().then(function(f){if(f)return i.loadTextureImage(e,s.source,u);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class nee{constructor(e){this.name=xn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(l){const u=r.byteOffset||0,f=r.byteLength||0,p=r.count,v=r.byteStride,g=new Uint8Array(l,u,f);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(p,v,g,r.mode,r.filter).then(function(b){return b.buffer}):s.ready.then(function(){const b=new ArrayBuffer(p*v);return s.decodeGltfBuffer(new Uint8Array(b),p,v,g,r.mode,r.filter),b})})}else return null}}class iee{constructor(e){this.name=xn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const f of r.primitives)if(f.mode!==Zs.TRIANGLES&&f.mode!==Zs.TRIANGLE_STRIP&&f.mode!==Zs.TRIANGLE_FAN&&f.mode!==void 0)return null;const s=i.extensions[this.name].attributes,l=[],u={};for(const f in s)l.push(this.parser.getDependency("accessor",s[f]).then(p=>(u[f]=p,u[f])));return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then(f=>{const p=f.pop(),v=p.isGroup?p.children:[p],g=f[0].count,b=[];for(const _ of v){const M=new Lt,A=new Q,S=new hr,w=new Q(1,1,1),C=new KO(_.geometry,_.material,g);for(let R=0;R<g;R++)u.TRANSLATION&&A.fromBufferAttribute(u.TRANSLATION,R),u.ROTATION&&S.fromBufferAttribute(u.ROTATION,R),u.SCALE&&w.fromBufferAttribute(u.SCALE,R),C.setMatrixAt(R,M.compose(A,S,w));for(const R in u)if(R==="_COLOR_0"){const D=u[R];C.instanceColor=new dd(D.array,D.itemSize,D.normalized)}else R!=="TRANSLATION"&&R!=="ROTATION"&&R!=="SCALE"&&_.geometry.setAttribute(R,u[R]);Cn.prototype.copy.call(C,_),this.parser.assignFinalMaterial(C),b.push(C)}return p.isGroup?(p.clear(),p.add(...b),p):b[0]}))}}const f6="glTF",Fg=12,P3={JSON:1313821514,BIN:5130562};class ree{constructor(e){this.name=xn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Fg);if(this.header={magic:TA(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==f6)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Fg,r=new DataView(e,Fg);let a=0;for(;a<i;){const s=r.getUint32(a,!0);a+=4;const l=r.getUint32(a,!0);if(a+=4,l===P3.JSON){const u=new Uint8Array(e,Fg+a,s);this.content=TA(u)}else if(l===P3.BIN){const u=Fg+a;this.body=e.slice(u,u+s)}a+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class aee{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=xn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,l={},u={},f={};for(const p in s){const v=rR[p]||p.toLowerCase();l[v]=s[p]}for(const p in e.attributes){const v=rR[p]||p.toLowerCase();if(s[p]!==void 0){const g=i.accessors[e.attributes[p]],b=um[g.componentType];f[v]=b.name,u[v]=g.normalized===!0}}return t.getDependency("bufferView",a).then(function(p){return new Promise(function(v,g){r.decodeDracoFile(p,function(b){for(const _ in b.attributes){const M=b.attributes[_],A=u[_];A!==void 0&&(M.normalized=A)}v(b)},l,f,nc,g)})})}}class see{constructor(){this.name=xn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class oee{constructor(){this.name=xn.KHR_MESH_QUANTIZATION}}class h6 extends ev{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r*3+r;for(let s=0;s!==r;s++)t[s]=i[a+s];return t}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,u=l*2,f=l*3,p=r-t,v=(i-t)/p,g=v*v,b=g*v,_=e*f,M=_-f,A=-2*b+3*g,S=b-g,w=1-A,C=S-g+v;for(let R=0;R!==l;R++){const D=s[M+R+l],N=s[M+R+u]*p,L=s[_+R+l],z=s[_+R]*p;a[R]=w*D+C*N+A*L+S*z}return a}}const lee=new hr;class uee extends h6{interpolate_(e,t,i,r){const a=super.interpolate_(e,t,i,r);return lee.fromArray(a).normalize().toArray(a),a}}const Zs={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},um={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},L3={9728:Dr,9729:Zi,9984:AS,9985:sm,9986:Xh,9987:$s},U3={33071:Ms,33648:dm,10497:Mf},CE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},rR={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...CB>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},df={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},cee={CUBICSPLINE:void 0,LINEAR:vm,STEP:mm},RE={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function fee(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new x0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:tu})),n.DefaultMaterial}function Uh(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function ju(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function hee(n,e,t){let i=!1,r=!1,a=!1;for(let f=0,p=e.length;f<p;f++){const v=e[f];if(v.POSITION!==void 0&&(i=!0),v.NORMAL!==void 0&&(r=!0),v.COLOR_0!==void 0&&(a=!0),i&&r&&a)break}if(!i&&!r&&!a)return Promise.resolve(n);const s=[],l=[],u=[];for(let f=0,p=e.length;f<p;f++){const v=e[f];if(i){const g=v.POSITION!==void 0?t.getDependency("accessor",v.POSITION):n.attributes.position;s.push(g)}if(r){const g=v.NORMAL!==void 0?t.getDependency("accessor",v.NORMAL):n.attributes.normal;l.push(g)}if(a){const g=v.COLOR_0!==void 0?t.getDependency("accessor",v.COLOR_0):n.attributes.color;u.push(g)}}return Promise.all([Promise.all(s),Promise.all(l),Promise.all(u)]).then(function(f){const p=f[0],v=f[1],g=f[2];return i&&(n.morphAttributes.position=p),r&&(n.morphAttributes.normal=v),a&&(n.morphAttributes.color=g),n.morphTargetsRelative=!0,n})}function dee(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function pee(n){let e;const t=n.extensions&&n.extensions[xn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+OE(t.attributes):e=n.indices+":"+OE(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+OE(n.targets[i]);return e}function OE(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function aR(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function mee(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const vee=new Lt;class gee{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new z$,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,a=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,a=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&a<98?this.textureLoader=new x5(this.options.manager):this.textureLoader=new w5(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Cs(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(s){const l={scene:s[0][r.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:r.asset,parser:i,userData:{}};return Uh(a,l,r),ju(l,r),Promise.all(i._invokeAll(function(u){return u.afterRoot&&u.afterRoot(l)})).then(function(){for(const u of l.scenes)u.updateMatrixWorld();e(l)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,a=t.length;r<a;r++){const s=t[r].joints;for(let l=0,u=s.length;l<u;l++)e[s[l]].isBone=!0}for(let r=0,a=e.length;r<a;r++){const s=e[r];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(i[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),a=(s,l)=>{const u=this.associations.get(s);u!=null&&this.associations.set(l,u);for(const[f,p]of s.children.entries())a(p,l.children[f])};return a(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const a=e(t[r]);a&&i.push(a)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(a){return a.loadNode&&a.loadNode(t)});break;case"mesh":r=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(a,s){return i.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[xn.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(a,s){i.load(xf.resolveURL(t.uri,r.path),a,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,a=t.byteOffset||0;return i.slice(a,a+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const s=CE[r.type],l=um[r.componentType],u=r.normalized===!0,f=new l(r.count*s);return Promise.resolve(new Dn(f,s,u))}const a=[];return r.bufferView!==void 0?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),r.sparse!==void 0&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then(function(s){const l=s[0],u=CE[r.type],f=um[r.componentType],p=f.BYTES_PER_ELEMENT,v=p*u,g=r.byteOffset||0,b=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,_=r.normalized===!0;let M,A;if(b&&b!==v){const S=Math.floor(g/b),w="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+S+":"+r.count;let C=t.cache.get(w);C||(M=new f(l,S*b,r.count*b/p),C=new p0(M,b/p),t.cache.add(w,C)),A=new $a(C,u,g%b/p,_)}else l===null?M=new f(r.count*u):M=new f(l,g,r.count*u),A=new Dn(M,u,_);if(r.sparse!==void 0){const S=CE.SCALAR,w=um[r.sparse.indices.componentType],C=r.sparse.indices.byteOffset||0,R=r.sparse.values.byteOffset||0,D=new w(s[1],C,r.sparse.count*S),N=new f(s[2],R,r.sparse.count*u);l!==null&&(A=new Dn(A.array.slice(),A.itemSize,A.normalized));for(let L=0,z=D.length;L<z;L++){const P=D[L];if(A.setX(P,N[L*u]),u>=2&&A.setY(P,N[L*u+1]),u>=3&&A.setZ(P,N[L*u+2]),u>=4&&A.setW(P,N[L*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const t=this.json,i=this.options,a=t.textures[e].source,s=t.images[a];let l=this.textureLoader;if(s.uri){const u=i.manager.getHandler(s.uri);u!==null&&(l=u)}return this.loadTextureImage(e,a,l)}loadTextureImage(e,t,i){const r=this,a=this.json,s=a.textures[e],l=a.images[t],u=(l.uri||l.bufferView)+":"+s.sampler;if(this.textureCache[u])return this.textureCache[u];const f=this.loadImageSource(t,i).then(function(p){p.flipY=!1,p.name=s.name||l.name||"",p.name===""&&typeof l.uri=="string"&&l.uri.startsWith("data:image/")===!1&&(p.name=l.uri);const g=(a.samplers||{})[s.sampler]||{};return p.magFilter=L3[g.magFilter]||Zi,p.minFilter=L3[g.minFilter]||$s,p.wrapS=U3[g.wrapS]||Mf,p.wrapT=U3[g.wrapT]||Mf,r.associations.set(p,{textures:e}),p}).catch(function(){return null});return this.textureCache[u]=f,f}loadImageSource(e,t){const i=this,r=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(v=>v.clone());const s=r.images[e],l=self.URL||self.webkitURL;let u=s.uri||"",f=!1;if(s.bufferView!==void 0)u=i.getDependency("bufferView",s.bufferView).then(function(v){f=!0;const g=new Blob([v],{type:s.mimeType});return u=l.createObjectURL(g),u});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const p=Promise.resolve(u).then(function(v){return new Promise(function(g,b){let _=g;t.isImageBitmapLoader===!0&&(_=function(M){const A=new _i(M);A.needsUpdate=!0,g(A)}),t.load(xf.resolveURL(v,a.path),_,void 0,b)})}).then(function(v){return f===!0&&l.revokeObjectURL(u),ju(v,s),v.userData.mimeType=s.mimeType||mee(s.uri),v}).catch(function(v){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),v});return this.sourceCache[e]=p,p}assignTexture(e,t,i,r){const a=this;return this.getDependency("texture",i.index).then(function(s){if(!s)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(s=s.clone(),s.channel=i.texCoord),a.extensions[xn.KHR_TEXTURE_TRANSFORM]){const l=i.extensions!==void 0?i.extensions[xn.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const u=a.associations.get(s);s=a.extensions[xn.KHR_TEXTURE_TRANSFORM].extendTexture(s,l),a.associations.set(s,u)}}return r!==void 0&&(typeof r=="number"&&(r=r===N3?Zh:nc),"colorSpace"in s?s.colorSpace=r:s.encoding=r===Zh?N3:F$),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const l="PointsMaterial:"+i.uuid;let u=this.cache.get(l);u||(u=new IS,mr.prototype.copy.call(u,i),u.color.copy(i.color),u.map=i.map,u.sizeAttenuation=!1,this.cache.add(l,u)),i=u}else if(e.isLine){const l="LineBasicMaterial:"+i.uuid;let u=this.cache.get(l);u||(u=new ma,mr.prototype.copy.call(u,i),u.color.copy(i.color),u.map=i.map,this.cache.add(l,u)),i=u}if(r||a||s){let l="ClonedMaterial:"+i.uuid+":";r&&(l+="derivative-tangents:"),a&&(l+="vertex-colors:"),s&&(l+="flat-shading:");let u=this.cache.get(l);u||(u=i.clone(),a&&(u.vertexColors=!0),s&&(u.flatShading=!0),r&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(l,u),this.associations.set(u,this.associations.get(i))),i=u}e.material=i}getMaterialType(){return x0}loadMaterial(e){const t=this,i=this.json,r=this.extensions,a=i.materials[e];let s;const l={},u=a.extensions||{},f=[];if(u[xn.KHR_MATERIALS_UNLIT]){const v=r[xn.KHR_MATERIALS_UNLIT];s=v.getMaterialType(),f.push(v.extendParams(l,a,t))}else{const v=a.pbrMetallicRoughness||{};if(l.color=new dt(1,1,1),l.opacity=1,Array.isArray(v.baseColorFactor)){const g=v.baseColorFactor;l.color.setRGB(g[0],g[1],g[2],nc),l.opacity=g[3]}v.baseColorTexture!==void 0&&f.push(t.assignTexture(l,"map",v.baseColorTexture,Zh)),l.metalness=v.metallicFactor!==void 0?v.metallicFactor:1,l.roughness=v.roughnessFactor!==void 0?v.roughnessFactor:1,v.metallicRoughnessTexture!==void 0&&(f.push(t.assignTexture(l,"metalnessMap",v.metallicRoughnessTexture)),f.push(t.assignTexture(l,"roughnessMap",v.metallicRoughnessTexture))),s=this._invokeOne(function(g){return g.getMaterialType&&g.getMaterialType(e)}),f.push(Promise.all(this._invokeAll(function(g){return g.extendMaterialParams&&g.extendMaterialParams(e,l)})))}a.doubleSided===!0&&(l.side=Qs);const p=a.alphaMode||RE.OPAQUE;if(p===RE.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,p===RE.MASK&&(l.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&s!==Es&&(f.push(t.assignTexture(l,"normalMap",a.normalTexture)),l.normalScale=new ke(1,1),a.normalTexture.scale!==void 0)){const v=a.normalTexture.scale;l.normalScale.set(v,v)}if(a.occlusionTexture!==void 0&&s!==Es&&(f.push(t.assignTexture(l,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&s!==Es){const v=a.emissiveFactor;l.emissive=new dt().setRGB(v[0],v[1],v[2],nc)}return a.emissiveTexture!==void 0&&s!==Es&&f.push(t.assignTexture(l,"emissiveMap",a.emissiveTexture,Zh)),Promise.all(f).then(function(){const v=new s(l);return a.name&&(v.name=a.name),ju(v,a),t.associations.set(v,{materials:e}),a.extensions&&Uh(r,v,a),v})}createUniqueName(e){const t=Bn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function a(l){return i[xn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,t).then(function(u){return I3(u,l,t)})}const s=[];for(let l=0,u=e.length;l<u;l++){const f=e[l],p=pee(f),v=r[p];if(v)s.push(v.promise);else{let g;f.extensions&&f.extensions[xn.KHR_DRACO_MESH_COMPRESSION]?g=a(f):g=I3(new $t,f,t),r[p]={primitive:f,promise:g},s.push(g)}}return Promise.all(s)}loadMesh(e){const t=this,i=this.json,r=this.extensions,a=i.meshes[e],s=a.primitives,l=[];for(let u=0,f=s.length;u<f;u++){const p=s[u].material===void 0?fee(this.cache):this.getDependency("material",s[u].material);l.push(p)}return l.push(t.loadGeometries(s)),Promise.all(l).then(function(u){const f=u.slice(0,u.length-1),p=u[u.length-1],v=[];for(let b=0,_=p.length;b<_;b++){const M=p[b],A=s[b];let S;const w=f[b];if(A.mode===Zs.TRIANGLES||A.mode===Zs.TRIANGLE_STRIP||A.mode===Zs.TRIANGLE_FAN||A.mode===void 0)S=a.isSkinnedMesh===!0?new YO(M,w):new qi(M,w),S.isSkinnedMesh===!0&&S.normalizeSkinWeights(),A.mode===Zs.TRIANGLE_STRIP?S.geometry=O3(S.geometry,GO):A.mode===Zs.TRIANGLE_FAN&&(S.geometry=O3(S.geometry,mA));else if(A.mode===Zs.LINES)S=new nl(M,w);else if(A.mode===Zs.LINE_STRIP)S=new uc(M,w);else if(A.mode===Zs.LINE_LOOP)S=new JO(M,w);else if(A.mode===Zs.POINTS)S=new ZO(M,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(S.geometry.morphAttributes).length>0&&dee(S,a),S.name=t.createUniqueName(a.name||"mesh_"+e),ju(S,a),A.extensions&&Uh(r,S,A),t.assignFinalMaterial(S),v.push(S)}for(let b=0,_=v.length;b<_;b++)t.associations.set(v[b],{meshes:e,primitives:b});if(v.length===1)return a.extensions&&Uh(r,v[0],a),v[0];const g=new Yu;a.extensions&&Uh(r,g,a),t.associations.set(g,{meshes:e});for(let b=0,_=v.length;b<_;b++)g.add(v[b]);return g})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new bi(OS.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new el(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),ju(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,a=t.joints.length;r<a;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const a=r.pop(),s=r,l=[],u=[];for(let f=0,p=s.length;f<p;f++){const v=s[f];if(v){l.push(v);const g=new Lt;a!==null&&g.fromArray(a.array,f*16),u.push(g)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[f])}return new m0(l,u)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],a=r.name?r.name:"animation_"+e,s=[],l=[],u=[],f=[],p=[];for(let v=0,g=r.channels.length;v<g;v++){const b=r.channels[v],_=r.samplers[b.sampler],M=b.target,A=M.node,S=r.parameters!==void 0?r.parameters[_.input]:_.input,w=r.parameters!==void 0?r.parameters[_.output]:_.output;M.node!==void 0&&(s.push(this.getDependency("node",A)),l.push(this.getDependency("accessor",S)),u.push(this.getDependency("accessor",w)),f.push(_),p.push(M))}return Promise.all([Promise.all(s),Promise.all(l),Promise.all(u),Promise.all(f),Promise.all(p)]).then(function(v){const g=v[0],b=v[1],_=v[2],M=v[3],A=v[4],S=[];for(let w=0,C=g.length;w<C;w++){const R=g[w],D=b[w],N=_[w],L=M[w],z=A[w];if(R===void 0)continue;R.updateMatrix&&R.updateMatrix();const P=i._createAnimationTracks(R,D,N,L,z);if(P)for(let U=0;U<P.length;U++)S.push(P[U])}return new xm(a,void 0,S)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(a){const s=i._getNodeRef(i.meshCache,r.mesh,a);return r.weights!==void 0&&s.traverse(function(l){if(l.isMesh)for(let u=0,f=r.weights.length;u<f;u++)l.morphTargetInfluences[u]=r.weights[u]}),s})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],a=i._loadNodeShallow(e),s=[],l=r.children||[];for(let f=0,p=l.length;f<p;f++)s.push(i.getDependency("node",l[f]));const u=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([a,Promise.all(s),u]).then(function(f){const p=f[0],v=f[1],g=f[2];g!==null&&p.traverse(function(b){b.isSkinnedMesh&&b.bind(g,vee)});for(let b=0,_=v.length;b<_;b++)p.add(v[b]);return p})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=t.nodes[e],s=a.name?r.createUniqueName(a.name):"",l=[],u=r._invokeOne(function(f){return f.createNodeMesh&&f.createNodeMesh(e)});return u&&l.push(u),a.camera!==void 0&&l.push(r.getDependency("camera",a.camera).then(function(f){return r._getNodeRef(r.cameraCache,a.camera,f)})),r._invokeAll(function(f){return f.createNodeAttachment&&f.createNodeAttachment(e)}).forEach(function(f){l.push(f)}),this.nodeCache[e]=Promise.all(l).then(function(f){let p;if(a.isBone===!0?p=new US:f.length>1?p=new Yu:f.length===1?p=f[0]:p=new Cn,p!==f[0])for(let v=0,g=f.length;v<g;v++)p.add(f[v]);if(a.name&&(p.userData.name=a.name,p.name=s),ju(p,a),a.extensions&&Uh(i,p,a),a.matrix!==void 0){const v=new Lt;v.fromArray(a.matrix),p.applyMatrix4(v)}else a.translation!==void 0&&p.position.fromArray(a.translation),a.rotation!==void 0&&p.quaternion.fromArray(a.rotation),a.scale!==void 0&&p.scale.fromArray(a.scale);return r.associations.has(p)||r.associations.set(p,{}),r.associations.get(p).nodes=e,p}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,a=new Yu;i.name&&(a.name=r.createUniqueName(i.name)),ju(a,i),i.extensions&&Uh(t,a,i);const s=i.nodes||[],l=[];for(let u=0,f=s.length;u<f;u++)l.push(r.getDependency("node",s[u]));return Promise.all(l).then(function(u){for(let p=0,v=u.length;p<v;p++)a.add(u[p]);const f=p=>{const v=new Map;for(const[g,b]of r.associations)(g instanceof mr||g instanceof _i)&&v.set(g,b);return p.traverse(g=>{const b=r.associations.get(g);b!=null&&v.set(g,b)}),v};return r.associations=f(a),a})}_createAnimationTracks(e,t,i,r,a){const s=[],l=e.name?e.name:e.uuid,u=[];df[a.path]===df.weights?e.traverse(function(g){g.morphTargetInfluences&&u.push(g.name?g.name:g.uuid)}):u.push(l);let f;switch(df[a.path]){case df.weights:f=md;break;case df.rotation:f=vd;break;case df.position:case df.scale:f=gd;break;default:switch(i.itemSize){case 1:f=md;break;case 2:case 3:default:f=gd;break}break}const p=r.interpolation!==void 0?cee[r.interpolation]:vm,v=this._getArrayFromAccessor(i);for(let g=0,b=u.length;g<b;g++){const _=new f(u[g]+"."+df[a.path],t.array,v,p);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(_),s.push(_)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=aR(t.constructor),r=new Float32Array(t.length);for(let a=0,s=t.length;a<s;a++)r[a]=t[a]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof vd?uee:h6;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function yee(n,e,t){const i=e.attributes,r=new dr;if(i.POSITION!==void 0){const l=t.json.accessors[i.POSITION],u=l.min,f=l.max;if(u!==void 0&&f!==void 0){if(r.set(new Q(u[0],u[1],u[2]),new Q(f[0],f[1],f[2])),l.normalized){const p=aR(um[l.componentType]);r.min.multiplyScalar(p),r.max.multiplyScalar(p)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const l=new Q,u=new Q;for(let f=0,p=a.length;f<p;f++){const v=a[f];if(v.POSITION!==void 0){const g=t.json.accessors[v.POSITION],b=g.min,_=g.max;if(b!==void 0&&_!==void 0){if(u.setX(Math.max(Math.abs(b[0]),Math.abs(_[0]))),u.setY(Math.max(Math.abs(b[1]),Math.abs(_[1]))),u.setZ(Math.max(Math.abs(b[2]),Math.abs(_[2]))),g.normalized){const M=aR(um[g.componentType]);u.multiplyScalar(M)}l.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(l)}n.boundingBox=r;const s=new pr;r.getCenter(s.center),s.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=s}function I3(n,e,t){const i=e.attributes,r=[];function a(s,l){return t.getDependency("accessor",s).then(function(u){n.setAttribute(l,u)})}for(const s in i){const l=rR[s]||s.toLowerCase();l in n.attributes||r.push(a(i[s],l))}if(e.indices!==void 0&&!n.index){const s=t.getDependency("accessor",e.indices).then(function(l){n.setIndex(l)});r.push(s)}return ju(n,e),yee(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?hee(n,e.targets,t):n})}const BE=new WeakMap;class bee extends va{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const a=new Cs(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,s=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,l).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const a={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,a).then(t)}decodeGeometry(e,t){for(const u in t.attributeTypes){const f=t.attributeTypes[u];f.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[u]=f.name)}const i=JSON.stringify(t);if(BE.has(e)){const u=BE.get(e);if(u.key===i)return u.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const a=this.workerNextTaskID++,s=e.byteLength,l=this._getWorker(a,s).then(u=>(r=u,new Promise((f,p)=>{r._callbacks[a]={resolve:f,reject:p},r.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))).then(u=>this._createGeometry(u.geometry));return l.catch(()=>!0).then(()=>{r&&a&&this._releaseTask(r,a)}),BE.set(e,{key:i,promise:l}),l}_createGeometry(e){const t=new $t;e.index&&t.setIndex(new Dn(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],a=r.name,s=r.array,l=r.itemSize;t.setAttribute(a,new Dn(s,l))}return t}_loadLibrary(e,t){const i=new Cs(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,a)=>{i.load(e,r,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const a=xee.toString(),s=["/* draco decoder */",r,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(a){const s=a.data;switch(s.type){case"decode":r._callbacks[s.id].resolve(s);break;case"error":r._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,a){return r._taskLoad>a._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function xee(){let n,e;onmessage=function(s){const l=s.data;switch(l.type){case"init":n=l.decoderConfig,e=new Promise(function(p){n.onModuleLoaded=function(v){p({draco:v})},DracoDecoderModule(n)});break;case"decode":const u=l.buffer,f=l.taskConfig;e.then(p=>{const v=p.draco,g=new v.Decoder,b=new v.DecoderBuffer;b.Init(new Int8Array(u),u.byteLength);try{const _=t(v,g,b,f),M=_.attributes.map(A=>A.array.buffer);_.index&&M.push(_.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:_},M)}catch(_){console.error(_),self.postMessage({type:"error",id:l.id,error:_.message})}finally{v.destroy(b),v.destroy(g)}});break}};function t(s,l,u,f){const p=f.attributeIDs,v=f.attributeTypes;let g,b;const _=l.GetEncodedGeometryType(u);if(_===s.TRIANGULAR_MESH)g=new s.Mesh,b=l.DecodeBufferToMesh(u,g);else if(_===s.POINT_CLOUD)g=new s.PointCloud,b=l.DecodeBufferToPointCloud(u,g);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!b.ok()||g.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+b.error_msg());const M={index:null,attributes:[]};for(const A in p){const S=self[v[A]];let w,C;if(f.useUniqueIDs)C=p[A],w=l.GetAttributeByUniqueId(g,C);else{if(C=l.GetAttributeId(g,s[p[A]]),C===-1)continue;w=l.GetAttribute(g,C)}M.attributes.push(r(s,l,g,A,S,w))}return _===s.TRIANGULAR_MESH&&(M.index=i(s,l,g)),s.destroy(g),M}function i(s,l,u){const p=u.num_faces()*3,v=p*4,g=s._malloc(v);l.GetTrianglesUInt32Array(u,v,g);const b=new Uint32Array(s.HEAPF32.buffer,g,p).slice();return s._free(g),{array:b,itemSize:1}}function r(s,l,u,f,p,v){const g=v.num_components(),_=u.num_points()*g,M=_*p.BYTES_PER_ELEMENT,A=a(s,p),S=s._malloc(M);l.GetAttributeDataArrayForAllPoints(u,v,A,M,S);const w=new p(s.HEAPF32.buffer,S,_).slice();return s._free(S),{name:f,array:w,itemSize:g}}function a(s,l){switch(l){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}const F3=new dr,s_=new Q;class OB extends vB{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],i=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(i),this.setAttribute("position",new Ct(e,3)),this.setAttribute("uv",new Ct(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,i=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),i.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const i=new xA(t,6,1);return this.setAttribute("instanceStart",new $a(i,3,0)),this.setAttribute("instanceEnd",new $a(i,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,t=3){let i;e instanceof Float32Array?i=e:Array.isArray(e)&&(i=new Float32Array(e));const r=new xA(i,t*2,1);return this.setAttribute("instanceColorStart",new $a(r,t,0)),this.setAttribute("instanceColorEnd",new $a(r,t,t)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new aB(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new dr);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),F3.setFromBufferAttribute(t),this.boundingBox.union(F3))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new pr),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const i=this.boundingSphere.center;this.boundingBox.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)s_.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(s_)),s_.fromBufferAttribute(t,a),r=Math.max(r,i.distanceToSquared(s_));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class d6 extends OB{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,i=new Float32Array(2*t);for(let r=0;r<t;r+=3)i[2*r]=e[r],i[2*r+1]=e[r+1],i[2*r+2]=e[r+2],i[2*r+3]=e[r+3],i[2*r+4]=e[r+4],i[2*r+5]=e[r+5];return super.setPositions(i),this}setColors(e,t=3){const i=e.length-t,r=new Float32Array(2*i);if(t===3)for(let a=0;a<i;a+=t)r[2*a]=e[a],r[2*a+1]=e[a+1],r[2*a+2]=e[a+2],r[2*a+3]=e[a+3],r[2*a+4]=e[a+4],r[2*a+5]=e[a+5];else for(let a=0;a<i;a+=t)r[2*a]=e[a],r[2*a+1]=e[a+1],r[2*a+2]=e[a+2],r[2*a+3]=e[a+3],r[2*a+4]=e[a+4],r[2*a+5]=e[a+5],r[2*a+6]=e[a+6],r[2*a+7]=e[a+7];return super.setColors(r,t),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class BB extends ws{constructor(e){super({type:"LineMaterial",uniforms:vA.clone(vA.merge([pt.common,pt.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new ke(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${CB>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(t){t===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(t){!!t!="USE_DASH"in this.defines&&(this.needsUpdate=!0),t===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(t){!!t!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),t===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const DE=new pn,z3=new Q,H3=new Q,qr=new pn,Xr=new pn,Vl=new pn,NE=new Q,PE=new Lt,Yr=new N5,G3=new Q,o_=new dr,l_=new pr,jl=new pn;let Wl,sd;function k3(n,e,t){return jl.set(0,0,-e,1).applyMatrix4(n.projectionMatrix),jl.multiplyScalar(1/jl.w),jl.x=sd/t.width,jl.y=sd/t.height,jl.applyMatrix4(n.projectionMatrixInverse),jl.multiplyScalar(1/jl.w),Math.abs(Math.max(jl.x,jl.y))}function _ee(n,e){const t=n.matrixWorld,i=n.geometry,r=i.attributes.instanceStart,a=i.attributes.instanceEnd,s=Math.min(i.instanceCount,r.count);for(let l=0,u=s;l<u;l++){Yr.start.fromBufferAttribute(r,l),Yr.end.fromBufferAttribute(a,l),Yr.applyMatrix4(t);const f=new Q,p=new Q;Wl.distanceSqToSegment(Yr.start,Yr.end,p,f),p.distanceTo(f)<sd*.5&&e.push({point:p,pointOnLine:f,distance:Wl.origin.distanceTo(p),object:n,face:null,faceIndex:l,uv:null,[c6]:null})}}function Aee(n,e,t){const i=e.projectionMatrix,a=n.material.resolution,s=n.matrixWorld,l=n.geometry,u=l.attributes.instanceStart,f=l.attributes.instanceEnd,p=Math.min(l.instanceCount,u.count),v=-e.near;Wl.at(1,Vl),Vl.w=1,Vl.applyMatrix4(e.matrixWorldInverse),Vl.applyMatrix4(i),Vl.multiplyScalar(1/Vl.w),Vl.x*=a.x/2,Vl.y*=a.y/2,Vl.z=0,NE.copy(Vl),PE.multiplyMatrices(e.matrixWorldInverse,s);for(let g=0,b=p;g<b;g++){if(qr.fromBufferAttribute(u,g),Xr.fromBufferAttribute(f,g),qr.w=1,Xr.w=1,qr.applyMatrix4(PE),Xr.applyMatrix4(PE),qr.z>v&&Xr.z>v)continue;if(qr.z>v){const C=qr.z-Xr.z,R=(qr.z-v)/C;qr.lerp(Xr,R)}else if(Xr.z>v){const C=Xr.z-qr.z,R=(Xr.z-v)/C;Xr.lerp(qr,R)}qr.applyMatrix4(i),Xr.applyMatrix4(i),qr.multiplyScalar(1/qr.w),Xr.multiplyScalar(1/Xr.w),qr.x*=a.x/2,qr.y*=a.y/2,Xr.x*=a.x/2,Xr.y*=a.y/2,Yr.start.copy(qr),Yr.start.z=0,Yr.end.copy(Xr),Yr.end.z=0;const M=Yr.closestPointToPointParameter(NE,!0);Yr.at(M,G3);const A=OS.lerp(qr.z,Xr.z,M),S=A>=-1&&A<=1,w=NE.distanceTo(G3)<sd*.5;if(S&&w){Yr.start.fromBufferAttribute(u,g),Yr.end.fromBufferAttribute(f,g),Yr.start.applyMatrix4(s),Yr.end.applyMatrix4(s);const C=new Q,R=new Q;Wl.distanceSqToSegment(Yr.start,Yr.end,R,C),t.push({point:R,pointOnLine:C,distance:Wl.origin.distanceTo(R),object:n,face:null,faceIndex:g,uv:null,[c6]:null})}}}class p6 extends qi{constructor(e=new OB,t=new BB({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,i=e.attributes.instanceEnd,r=new Float32Array(2*t.count);for(let s=0,l=0,u=t.count;s<u;s++,l+=2)z3.fromBufferAttribute(t,s),H3.fromBufferAttribute(i,s),r[l]=l===0?0:r[l-1],r[l+1]=r[l]+z3.distanceTo(H3);const a=new xA(r,2,1);return e.setAttribute("instanceDistanceStart",new $a(a,1,0)),e.setAttribute("instanceDistanceEnd",new $a(a,1,1)),this}raycast(e,t){const i=this.material.worldUnits,r=e.camera;r===null&&!i&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const a=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Wl=e.ray;const s=this.matrixWorld,l=this.geometry,u=this.material;sd=u.linewidth+a,l.boundingSphere===null&&l.computeBoundingSphere(),l_.copy(l.boundingSphere).applyMatrix4(s);let f;if(i)f=sd*.5;else{const v=Math.max(r.near,l_.distanceToPoint(Wl.origin));f=k3(r,v,u.resolution)}if(l_.radius+=f,Wl.intersectsSphere(l_)===!1)return;l.boundingBox===null&&l.computeBoundingBox(),o_.copy(l.boundingBox).applyMatrix4(s);let p;if(i)p=sd*.5;else{const v=Math.max(r.near,o_.distanceToPoint(Wl.origin));p=k3(r,v,u.resolution)}o_.expandByScalar(p),Wl.intersectsBox(o_)!==!1&&(i?_ee(this,t):Aee(this,r,t))}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(DE),this.material.uniforms.resolution.value.set(DE.z,DE.w))}}class See extends p6{constructor(e=new d6,t=new BB({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}let u_;const LE=()=>{if(u_)return u_;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let a;const s=WebAssembly.instantiate(l(r),{}).then(v=>{a=v.instance,a.exports.__wasm_call_ctors()});function l(v){const g=new Uint8Array(v.length);for(let _=0;_<v.length;++_){const M=v.charCodeAt(_);g[_]=M>96?M-71:M>64?M-65:M>47?M+4:M>46?63:62}let b=0;for(let _=0;_<v.length;++_)g[b++]=g[_]<60?i[g[_]]:(g[_]-60)*64+g[++_];return g.buffer.slice(0,b)}function u(v,g,b,_,M,A){const S=a.exports.sbrk,w=b+3&-4,C=S(w*_),R=S(M.length),D=new Uint8Array(a.exports.memory.buffer);D.set(M,R);const N=v(C,b,_,R,M.length);if(N===0&&A&&A(C,w,_),g.set(D.subarray(C,C+b*_)),S(C-S(0)),N!==0)throw new Error(`Malformed buffer data: ${N}`)}const f={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},p={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return u_={ready:s,supported:!0,decodeVertexBuffer(v,g,b,_,M){u(a.exports.meshopt_decodeVertexBuffer,v,g,b,_,a.exports[f[M]])},decodeIndexBuffer(v,g,b,_){u(a.exports.meshopt_decodeIndexBuffer,v,g,b,_)},decodeIndexSequence(v,g,b,_){u(a.exports.meshopt_decodeIndexSequence,v,g,b,_)},decodeGltfBuffer(v,g,b,_,M,A){u(a.exports[p[M]],v,g,b,_,a.exports[f[A]])}},u_},B_=Z.forwardRef(function({points:e,color:t=16777215,vertexColors:i,linewidth:r,lineWidth:a,segments:s,dashed:l,...u},f){var p,v;const g=Xo(S=>S.size),b=Z.useMemo(()=>s?new p6:new See,[s]),[_]=Z.useState(()=>new BB),M=(i==null||(p=i[0])==null?void 0:p.length)===4?4:3,A=Z.useMemo(()=>{const S=s?new OB:new d6,w=e.map(C=>{const R=Array.isArray(C);return C instanceof Q||C instanceof pn?[C.x,C.y,C.z]:C instanceof ke?[C.x,C.y,0]:R&&C.length===3?[C[0],C[1],C[2]]:R&&C.length===2?[C[0],C[1],0]:C});if(S.setPositions(w.flat()),i){t=16777215;const C=i.map(R=>R instanceof dt?R.toArray():R);S.setColors(C.flat(),M)}return S},[e,s,i,M]);return Z.useLayoutEffect(()=>{b.computeLineDistances()},[e,b]),Z.useLayoutEffect(()=>{l?_.defines.USE_DASH="":delete _.defines.USE_DASH,_.needsUpdate=!0},[l,_]),Z.useEffect(()=>()=>{A.dispose(),_.dispose()},[A]),Z.createElement("primitive",Am({object:b,ref:f},u),Z.createElement("primitive",{object:A,attach:"geometry"}),Z.createElement("primitive",Am({object:_,attach:"material",color:t,vertexColors:!!i,resolution:[g.width,g.height],linewidth:(v=r??a)!==null&&v!==void 0?v:1,dashed:l,transparent:M===4},u)))}),Mee=()=>parseInt(Km.replace(/\D+/g,"")),Eee=Mee();let c_=null,m6="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function v6(n=!0,e=!0,t){return i=>{t&&t(i),n&&(c_||(c_=new bee),c_.setDecoderPath(typeof n=="string"?n:m6),i.setDRACOLoader(c_)),e&&i.setMeshoptDecoder(typeof LE=="function"?LE():LE)}}const Bs=(n,e,t,i)=>A0(RB,n,v6(e,t,i));Bs.preload=(n,e,t,i)=>A0.preload(RB,n,v6(e,t,i));Bs.clear=n=>A0.clear(RB,n);Bs.setDecoderPath=n=>{m6=n};const i1=Z.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:a=!1,onChange:s,onStart:l,onEnd:u,...f},p)=>{const v=Xo(N=>N.invalidate),g=Xo(N=>N.camera),b=Xo(N=>N.gl),_=Xo(N=>N.events),M=Xo(N=>N.setEvents),A=Xo(N=>N.set),S=Xo(N=>N.get),w=Xo(N=>N.performance),C=e||g,R=i||_.connected||b.domElement,D=Z.useMemo(()=>new I$(C),[C]);return Rd(()=>{D.enabled&&D.update()},-1),Z.useEffect(()=>(a&&D.connect(a===!0?R:a),D.connect(R),()=>void D.dispose()),[a,R,t,D,v]),Z.useEffect(()=>{const N=P=>{v(),t&&w.regress(),s&&s(P)},L=P=>{l&&l(P)},z=P=>{u&&u(P)};return D.addEventListener("change",N),D.addEventListener("start",L),D.addEventListener("end",z),()=>{D.removeEventListener("start",L),D.removeEventListener("end",z),D.removeEventListener("change",N)}},[s,l,u,D,v,M]),Z.useEffect(()=>{if(n){const N=S().controls;return A({controls:D}),()=>A({controls:N})}},[n,D]),Z.createElement("primitive",Am({ref:p,object:D,enableDamping:r},f))});class Tee extends ws{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${Eee>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const wee=n=>new Q().setFromSpherical(new _A(n,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),r1=Z.forwardRef(({radius:n=100,depth:e=50,count:t=5e3,saturation:i=0,factor:r=4,fade:a=!1,speed:s=1},l)=>{const u=Z.useRef(null),[f,p,v]=Z.useMemo(()=>{const b=[],_=[],M=Array.from({length:t},()=>(.5+.5*Math.random())*r),A=new dt;let S=n+e;const w=e/t;for(let C=0;C<t;C++)S-=w*Math.random(),b.push(...wee(S).toArray()),A.setHSL(C/t,i,.9),_.push(A.r,A.g,A.b);return[new Float32Array(b),new Float32Array(_),new Float32Array(M)]},[t,e,r,n,i]);Rd(b=>u.current&&(u.current.uniforms.time.value=b.clock.elapsedTime*s));const[g]=Z.useState(()=>new Tee);return Z.createElement("points",{ref:l},Z.createElement("bufferGeometry",null,Z.createElement("bufferAttribute",{attach:"attributes-position",args:[f,3]}),Z.createElement("bufferAttribute",{attach:"attributes-color",args:[p,3]}),Z.createElement("bufferAttribute",{attach:"attributes-size",args:[v,1]})),Z.createElement("primitive",{ref:u,object:g,attach:"material",blending:N_,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))});function g6(n){const{nodes:e,materials:t}=Bs("/iridium_23c_year_sim-uga/psyche-metallic.glb");return F("group",{...n,dispose:null,children:F("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.mesh_0.geometry,material:e.mesh_0.material})})}Bs.preload("/iridium_23c_year_sim-uga/psyche-metallic.glb");function Cee(n){const{nodes:e,materials:t}=Bs("/iridium_23c_year_sim-uga/psyche-spacecraft.glb");return F("group",{...n,dispose:null,children:F("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.mesh_0.geometry,material:e.mesh_0.material})})}Bs.preload("/iridium_23c_year_sim-uga/psyche-spacecraft.glb");function Ree({showSpacecraft:n}){const{camera:e,controls:t}=Xo();return e.position.set(n?2:0,0,n?0:4),t==null||t.update(),e.updateProjectionMatrix(),null}function Oee(){const[n,e]=Z.useState(!1);return F("div",{className:"w-full max-w-4xl mx-auto px-4 pt-8 pb-12 relative",children:F(n1,{style:{width:"100%",height:"60vh",background:"black",borderRadius:"8px"},camera:{fov:50},children:te(Z.Suspense,{fallback:null,children:[F(Ree,{showSpacecraft:n}),F("ambientLight",{intensity:1}),F("directionalLight",{color:"white",position:[0,0,5]}),F("directionalLight",{color:"white",position:[0,0,-5]}),F(r1,{radius:100,depth:50,count:2e3,factor:4}),n?F(Cee,{}):F(g6,{}),F(i1,{enableZoom:!0,enablePan:!0,enableRotate:!0,maxDistance:n?4:10,minDistance:n?1.5:3}),F(lm,{wrapperClass:"toggle-button",position:[0,0,0],transform:!1,style:{position:"absolute",right:"-25rem",bottom:"-13rem",zIndex:10},children:F("button",{className:"bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors font-mono",onClick:()=>e(!n),children:n?"View Asteroid":"View Spacecraft"})})]})})})}const Bee="/iridium_23c_year_sim-uga/assets/DSOC-DIY1-Xja.png",Dee="/iridium_23c_year_sim-uga/assets/GRNS-CfMI25Rz.png",Nee="/iridium_23c_year_sim-uga/assets/MAG-CEfmE_6I.png",Pee="/iridium_23c_year_sim-uga/assets/MULTISPECTRAL-DADXQvQu.png";function Lee(){return Z.useEffect(()=>{window.scrollTo(0,0)},[]),te("div",{className:"flex flex-col bg-gray-900 font-mono",children:[F(Md,{}),F("hr",{className:"border-t border-gray-700 w-full"}),te("div",{className:"flex-none",style:{height:"60vh"},children:[" ",F(Oee,{})]}),F("main",{className:"flex-1 overflow-y-auto px-8 pt-20 pb-12 space-y-12 text-gray-300",children:te("div",{className:"max-w-6xl mx-auto",children:[F("h1",{className:"text-4xl font-bold mb-6 text-white",children:"Psyche Mission Overview"}),te("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[te("div",{className:"space-y-4",children:[F("h2",{className:"text-2xl font-semibold border-b border-gray-700 pb-2",children:"Journey to a Metal World"}),F("p",{className:"leading-relaxed",children:"NASA's Psyche mission is humanity's first visit to a metal-rich asteroid, offering potentially unprecedented insights into planetary core formation. Targeting 16-Psyche in the main asteroid belt between Mars and Jupiter, this mission could also reveal secrets about the history of collisions and accretion that led to terrestrial planets."})]}),te("div",{className:"space-y-4",children:[F("h2",{className:"text-2xl font-semibold border-b border-gray-700 pb-2",children:"Scientific Significance"}),F("p",{className:"leading-relaxed",children:"Psyche's estimated density of 3,400-4,100 kg/m suggests a composition radically different from most stony asteroids. Additionally, its triaxial dimensions (278  238  171 km) make it one of the largest metallic bodies in the asteroid belt, potentially representing the exposed core of a primordial planetesimal."})]})]}),te("section",{className:"mb-12",children:[F("h2",{className:"text-3xl font-bold mb-6 border-b border-gray-700 pb-2",children:"Primary Objectives"}),te("ul",{className:"grid gap-4 list-disc pl-6",children:[te("li",{children:[F("span",{className:"font-semibold",children:"Core Verification:"})," ","Determine if Psyche represents a planetary core or unmelted primordial material"]}),te("li",{children:[F("span",{className:"font-semibold",children:"Surface Chronology:"})," ","Establish relative ages of surface features through crater analysis"]}),te("li",{children:[F("span",{className:"font-semibold",children:"Geological Mapping:"})," ","Map morphology and topography at 200 m/pixel resolution"]}),te("li",{children:[F("span",{className:"font-semibold",children:"Composition Analysis:"})," ","Characterize bulk elemental composition and mineral phases"]}),te("li",{children:[F("span",{className:"font-semibold",children:"Magnetic Field Study:"})," ","Detect and analyze any remnant magnetic field"]})]})]}),te("section",{className:"mb-12",children:[F("h2",{className:"text-3xl font-bold mb-6 border-b border-gray-700 pb-2",children:"Mission Profile"}),te("div",{className:"grid md:grid-cols-2 gap-8",children:[te("div",{children:[F("h3",{className:"text-xl font-semibold mb-4",children:"Key Dates"}),te("ul",{className:"space-y-2",children:[F("li",{children:" Launch: October 13, 2023 (Falcon Heavy)"}),F("li",{children:" Mars Flyby: 2026 Gravity Assist"}),F("li",{children:" Arrival at Psyche: August 2029"}),F("li",{children:" Prime Mission Conclusion: November 2031"})]})]}),te("div",{children:[F("h3",{className:"text-xl font-semibold mb-4",children:"Collaborators"}),F("p",{className:"leading-relaxed",children:"Led by JPL with ASU managing science operations. Spacecraft chassis by Maxar Technologies. Partners include MIT for magnetometry, DTU for instrument design, and JPL/Caltech for managing the DSOC technology demonstration."})]})]})]}),te("section",{children:[F("h2",{className:"text-3xl font-bold mb-6 border-b border-gray-700 pb-2",children:"Scientific Payload"}),te("div",{className:"grid md:grid-cols-2 gap-6",children:[te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Multispectral Imager"}),F("p",{className:"text-gray-400",children:"Dual-camera system for geology & composition analysis"}),F("img",{src:Pee,alt:"Magnetometer Instrument",className:"w-full rounded-md mt-3 h-72"}),F("p",{className:"text-gray-500",children:"Image credit: NASA/Jet Propulsion Laboratory"})]}),te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"GRNS"}),F("p",{className:"text-gray-400",children:"Gamma-Ray and Neutron Spectrometer for elemental detection"}),F("img",{src:Dee,alt:"Magnetometer Instrument",className:"w-full rounded-md mt-3 h-72"}),F("p",{className:"text-gray-500",children:"Image credit: NASA/Jet Propulsion Laboratory"})]}),te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Magnetometer"}),F("p",{className:"text-gray-400",children:"High-sensitivity field detection (MIT/DTU collaboration)"}),F("img",{src:Nee,alt:"Magnetometer Instrument",className:"w-full rounded-md mt-3 h-72"}),F("p",{className:"text-gray-500",children:"Image credit: NASA/Jet Propulsion Laboratory"})]}),te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"DSOC"}),F("p",{className:"text-gray-400",children:"Deep Space Optical Communications technology demonstrator"}),F("img",{src:Bee,alt:"DSOC Technology",className:"w-full rounded-md mt-3 h-72"}),F("p",{className:"text-gray-500",children:"Image credit: NASA/JPL-Caltech"})]})]})]})]})})]})}function Uee(){const n=Z.useRef(),{nodes:e}=Bs("/iridium_23c_year_sim-uga/psyche-metallic.glb");return Rd((t,i)=>{n.current.rotation.z-=i*(Math.PI/(4.196*3600))*2e3}),te("group",{ref:n,children:[F("mesh",{geometry:e.mesh_0.geometry,material:e.mesh_0.material}),te("group",{children:[F(B_,{points:[[-1.39,0,0],[1.39,0,0]],color:"#ff4444",lineWidth:2}),F(lm,{position:[1.45,0,0],children:F("div",{className:"bg-gray-800 bg-opacity-75 p-2 rounded text-white text-xs font-mono",children:"278 km (Width)"})}),F(B_,{points:[[0,-1.19,0],[0,1.19,0]],color:"#44ff44",lineWidth:2}),F(lm,{position:[0,1.25,0],children:F("div",{className:"bg-gray-800 bg-opacity-75 p-2 rounded text-white text-xs font-mono",children:"238 km (Length)"})}),F(B_,{points:[[0,0,-.855],[0,0,.855]],color:"#4444ff",lineWidth:2}),F(lm,{position:[0,0,.9],children:F("div",{className:"bg-gray-800 bg-opacity-75 p-2 rounded text-white text-xs font-mono",children:"171 km (Height)"})})]})]})}function Iee(){return F("div",{className:"w-full max-w-4xl mx-auto px-4 pt-8 pb-12 relative",children:te(n1,{style:{width:"100%",height:"60vh",background:"black",borderRadius:"8px"},camera:{position:[0,0,5],fov:45},children:[F("ambientLight",{intensity:1}),F("directionalLight",{color:"white",position:[0,0,5]}),F("directionalLight",{color:"white",position:[0,0,-5]}),te(Z.Suspense,{fallback:null,children:[F(Uee,{}),F(i1,{enableZoom:!0,enablePan:!0,enableRotate:!0,minDistance:4,maxDistance:10}),F(r1,{radius:100,depth:50,count:2e3,factor:4})]})]})})}const Fee="/iridium_23c_year_sim-uga/assets/INTERNAL-CsgOCHAP.png",zee="/iridium_23c_year_sim-uga/assets/TOPOGRAPHY-DX4SHWiB.png",Hee="/iridium_23c_year_sim-uga/assets/IMPACT_HISTORY-BDXMPMY9.png",Gee="/iridium_23c_year_sim-uga/assets/THERMAL-CSh2SiJi.png";function kee(){return te("div",{className:"flex flex-col bg-gray-900 font-mono",children:[F(Md,{}),F("hr",{className:"border-t border-gray-700 w-full"}),te("div",{className:"flex-none",style:{height:"60vh"},children:[" ",F(Iee,{})]}),F("main",{className:"flex-1 overflow-y-auto px-8 pt-20 pb-12 space-y-12 text-gray-300",children:te("div",{className:"max-w-6xl mx-auto space-y-12",children:[te("div",{className:"space-y-4",children:[F("h1",{className:"text-4xl font-bold text-white",children:"Shape & Rotation Characteristics"}),F("p",{className:"text-lg border-b border-gray-700 pb-4",children:"Detailed analysis of 16 Psyche's unique morphology and rotational properties"})]}),te("section",{className:"space-y-6",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Morphological Features"}),te("div",{className:"grid md:grid-cols-2 gap-8",children:[te("div",{className:"space-y-4",children:[F("h3",{className:"text-xl font-semibold",children:"Dimensional Analysis"}),te("ul",{className:"space-y-2 list-disc pl-6",children:[te("li",{children:["Triaxial ellipsoid dimensions:",te("span",{className:"text-white",children:[" ","278  238  171 km"]})]}),te("li",{children:["Effective spherical diameter:",te("span",{className:"text-white",children:[" ","222 km"]})]}),te("li",{children:["Surface area:",te("span",{className:"text-white",children:[" ","165,800 km"]})]}),te("li",{children:["Equal-volume ellipsoid:",te("span",{className:"text-white",children:[" ","274  234  171 km"]})]})]})]}),te("div",{className:"space-y-4",children:[F("h3",{className:"text-xl font-semibold",children:"Surface Features"}),te("ul",{className:"space-y-2 list-disc pl-6",children:[te("li",{children:["Major depressions:",te("span",{className:"text-white",children:[" ","67 km, 53 km, and 80 km diameters"]})]}),F("li",{children:"Equatorial crater-like formations"}),F("li",{children:"10% variance in major axis lengths"}),F("li",{children:"Possible impact-induced flattening"})]})]})]})]}),te("section",{className:"space-y-6",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Rotational Dynamics"}),te("div",{className:"grid md:grid-cols-2 gap-8",children:[te("div",{className:"space-y-4",children:[F("h3",{className:"text-xl font-semibold",children:"Key Metrics"}),te("ul",{className:"space-y-2 list-disc pl-6",children:[te("li",{children:["Sidereal rotation period:",te("span",{className:"text-white",children:[" ","4.195948 0.000001 hrs"]})]}),te("li",{children:["Spin pole coordinates:",te("span",{className:"text-white",children:[" ","(36, 8) 2"]})]}),te("li",{children:["Obliquity:",F("span",{className:"text-white",children:" 95"})]}),te("li",{children:["Possible primordial rotation:",te("span",{className:"text-white",children:[" ","3.5 hrs"]})]})]})]}),te("div",{className:"space-y-4",children:[F("h3",{className:"text-xl font-semibold",children:"Unique Properties"}),te("ul",{className:"space-y-2 list-disc pl-6",children:[F("li",{children:"High metallicity (30-60% volume)"}),F("li",{children:"Non-hydrostatic equilibrium shape"}),F("li",{children:"Extreme thermal variations"}),F("li",{children:"Impact-modified rotation history"})]})]})]})]}),te("section",{className:"space-y-6",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Scientific Importance"}),te("div",{className:"grid md:grid-cols-2 gap-8",children:[te("div",{className:"space-y-4",children:[te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Internal Structure Insights"}),F("p",{className:"leading-relaxed",children:"Combined shape-gravity analysis reveals density variations critical for determining core formation history. Radial density patterns could confirm differentiation processes."}),F("img",{src:Fee,alt:"Internal Structure Visualization",className:"w-full rounded-md mt-3"}),F("p",{className:"text-gray-500",children:"Image credit: Elkins-Tanton et. al: Distinguishing the Origin of Asteroid (16) Psyche"})]}),te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Surface Processes"}),F("p",{className:"leading-relaxed",children:"High-resolution imaging (20 m/px) will enable detection of tectonic features and volcanic remnants unique to metal-rich worlds."}),F("img",{src:zee,alt:"Internal Structure Visualization",className:"w-full rounded-md mt-3 h-72"}),F("p",{className:"text-gray-500",children:"Image credit: Shepard et. al: Asteroid 16 Psyche: Shape, Features, and Global Map"})]})]}),te("div",{className:"space-y-4",children:[te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Impact History"}),F("p",{className:"leading-relaxed",children:"Crater morphology analysis on metallic surfaces may show unique depth-diameter ratios compared to rocky bodies, informing collision models."}),F("img",{src:Hee,alt:"Internal Structure Visualization",className:"w-full rounded-md mt-3"}),F("p",{className:"text-gray-500",children:"Image credit: Shepard et. al: Radar Observations and Shape Model of Asteroid 16 Psyche"})]}),te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Thermal Evolution"}),F("p",{className:"leading-relaxed",children:"95 obliquity creates extreme seasonal variations, potentially driving regolith formation through thermal fracturing of metallic surface material."}),F("img",{src:Gee,alt:"Internal Structure Visualization",className:"w-full rounded-md mt-3 h-64"}),F("p",{className:"text-gray-500",children:"Image credit: Cambioni et. al: The Heterogeneous Surface of Asteroid (16) Psyche"})]})]})]})]}),te("section",{className:"space-y-4",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Psyche Mission Contributions"}),te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[te("p",{className:"leading-relaxed",children:["The spacecraft's Multispectral Imager will map"," ",">","80% surface coverage at unprecedented resolution, enabling:"]}),te("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[F("li",{children:"Sub-100m feature recognition"}),F("li",{children:"3D shape modeling with 5km accuracy"}),F("li",{children:"Crater chronology determination"}),F("li",{children:"Surface-process discrimination"})]})]})]})]})})]})}function Vee(n){const e=Z.useRef(),{nodes:t}=Bs("/iridium_23c_year_sim-uga/psyche-metallic.glb");return Rd((i,r)=>{e.current.rotation.z-=r*(Math.PI/(4.196*3600))*2e3}),F("group",{...n,ref:e,dispose:null,children:F("mesh",{geometry:t.mesh_0.geometry,material:t.mesh_0.material})})}const sR=10,jee=1.5;function qee(){return te("mesh",{position:[0,0,0],children:[F("sphereGeometry",{args:[jee,32,32]}),F("meshBasicMaterial",{color:"#ff9933"}),F("pointLight",{color:"#ffffff",intensity:1.5,distance:50,decay:1})]})}function Xee({name:n,semiMajorAxisAU:e,eccentricity:t,inclinationDeg:i,orbitalPeriodYears:r,color:a,planetColor:s,planetSize:l,speedFactor:u,setElapsedTime:f}){const p=Z.useRef(),v=e*sR,g=OS.degToRad(i);Rd(_=>{if(!p.current)return;const M=_.clock.getElapsedTime(),S=M*u/r*Math.PI*2;n==="Psyche"&&f(M);const w=S+t*Math.sin(S),C=2*Math.atan2(Math.sqrt(1+t)*Math.sin(w/2),Math.sqrt(1-t)*Math.cos(w/2)),R=v*(1-t**2)/(1+t*Math.cos(C)),D=R*Math.cos(C),N=R*Math.sin(C)*Math.cos(g),L=R*Math.sin(C)*Math.sin(g);p.current.position.set(D,L,N)});const b=Z.useMemo(()=>{const _=[];for(let M=0;M<=100;M++){const S=M/100*Math.PI*2,w=2*Math.atan2(Math.sqrt(1+t)*Math.sin(S/2),Math.sqrt(1-t)*Math.cos(S/2)),C=v*(1-t**2)/(1+t*Math.cos(w)),R=C*Math.cos(w),D=C*Math.sin(w)*Math.cos(g),N=C*Math.sin(w)*Math.sin(g);_.push(new Q(R,N,D))}return _},[]);return te("group",{children:[F(B_,{points:b,color:a,lineWidth:.5,dashed:n==="Asteroid Belt"}),F("group",{ref:p,children:n==="Psyche"?F(Vee,{scale:[.5,.5,.5]}):te("mesh",{children:[F("sphereGeometry",{args:[l,16,16]}),F("meshPhongMaterial",{color:s})]})})]})}function Wee({speedFactor:n}){const t=2.7*sR,i=.5*sR,r=Z.useRef(),{positions:a,scales:s,angles:l}=Z.useMemo(()=>{const u=new Float32Array(15e3),f=new Float32Array(5e3),p=new Float32Array(5e3);for(let v=0;v<5e3;v++){const g=t*(.8+Math.random()*.4),b=Math.random()*Math.PI*2,_=(Math.random()-.5)*i;u[v*3]=Math.cos(b)*g,u[v*3+1]=_,u[v*3+2]=Math.sin(b)*g,f[v]=.03+Math.random()*.05,p[v]=Math.random()*Math.PI*2}return{positions:u,scales:f,angles:p}},[]);return Rd(u=>{if(!r.current)return;const f=u.clock.getElapsedTime(),p=new Lt,v=new Q,g=new hr,b=new Q,_=4.5;for(let M=0;M<5e3;M++){const A=a[M*3],S=a[M*3+1],w=a[M*3+2],C=Math.sqrt(A**2+w**2),R=Math.atan2(w,A)+f*n/_*Math.PI*2;v.set(Math.cos(R)*C,S,Math.sin(R)*C),g.setFromEuler(new ts(0,l[M]+f*n*.5,0)),b.setScalar(s[M]),p.compose(v,g,b),r.current.setMatrixAt(M,p)}r.current.instanceMatrix.needsUpdate=!0}),te("instancedMesh",{ref:r,args:[null,null,5e3],frustumCulled:!1,children:[F("sphereGeometry",{args:[1,6,6]}),F("meshPhongMaterial",{color:"#777777",emissive:"#444444",shininess:50})]})}function Yee({elapsedTime:n,speedFactor:e,setSpeedFactor:t}){const i=(n*e).toFixed(2),r=(i/4.9).toFixed(3);return F(lm,{position:[0,0,0],transform:!1,style:{pointerEvents:"none",position:"absolute",bottom:"-235px",right:"-400px",width:"auto",height:"auto"},children:te("div",{className:"text-white font-mono p-4 bg-black bg-opacity-50 rounded-lg space-y-3 min-w-[220px]",children:[te("div",{className:"space-y-2",children:[F("div",{className:"text-sm text-gray-400",children:"Simulation Speed"}),te("div",{className:"flex items-center gap-3",children:[F("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:e,onChange:a=>t(parseFloat(a.target.value)),className:"w-32 accent-amber-400",style:{pointerEvents:"auto"},onPointerDown:a=>a.stopPropagation(),onPointerUp:a=>a.stopPropagation(),onPointerMove:a=>a.stopPropagation()}),te("div",{className:"text-sm w-12",children:[e.toFixed(1),"x"]})]})]}),te("div",{className:"pt-2 border-t border-gray-700",children:[te("div",{className:"text-lg font-bold",children:["Earth Years: ",i]}),te("div",{className:"text-lg font-bold text-amber-400",children:["Psyche Years: ",r]})]})]})})}function Kee(){const[n,e]=Z.useState(0),[t,i]=Z.useState(1),r=[{name:"Mercury",semiMajorAxisAU:.387,eccentricity:.2056,inclinationDeg:7,orbitalPeriodYears:.2408,color:"#888888",planetColor:"#A0522D",planetSize:.3},{name:"Venus",semiMajorAxisAU:.723,eccentricity:.0068,inclinationDeg:3.4,orbitalPeriodYears:.6152,color:"#DEB887",planetColor:"#CD853F",planetSize:.35},{name:"Earth",semiMajorAxisAU:1,eccentricity:.0167,inclinationDeg:0,orbitalPeriodYears:1,color:"#4169E1",planetColor:"#228B22",planetSize:.4},{name:"Mars",semiMajorAxisAU:1.524,eccentricity:.0934,inclinationDeg:1.8,orbitalPeriodYears:1.8808,color:"#CD5C5C",planetColor:"#8B4513",planetSize:.35},{name:"Jupiter",semiMajorAxisAU:5.203,eccentricity:.0489,inclinationDeg:1.3,orbitalPeriodYears:11.862,color:"#DAA520",planetColor:"#CD853F",planetSize:.8},{name:"Saturn",semiMajorAxisAU:9.537,eccentricity:.0565,inclinationDeg:2.5,orbitalPeriodYears:29.457,color:"#F4A460",planetColor:"#DEB887",planetSize:.7},{name:"Uranus",semiMajorAxisAU:19.191,eccentricity:.0472,inclinationDeg:.8,orbitalPeriodYears:84.011,color:"#87CEEB",planetColor:"#AFEEEE",planetSize:.5},{name:"Neptune",semiMajorAxisAU:30.069,eccentricity:.0086,inclinationDeg:1.8,orbitalPeriodYears:164.79,color:"#4682B4",planetColor:"#4169E1",planetSize:.45},{name:"Psyche",semiMajorAxisAU:2.92,eccentricity:.14,inclinationDeg:3,orbitalPeriodYears:4.9,color:"#666666",planetColor:"#B8860B",planetSize:.3}];return F("div",{className:"w-full max-w-4xl mx-auto px-4 pt-8 pb-12 relative",children:te(n1,{style:{width:"100%",height:"60vh",background:"black",borderRadius:"8px"},camera:{position:[0,50,80],fov:45},children:[F("ambientLight",{intensity:3}),F("pointLight",{position:[0,0,0],intensity:2}),te(Z.Suspense,{fallback:null,children:[F(r1,{radius:500,depth:100,count:5e3,factor:4}),F(qee,{}),F(Wee,{speedFactor:t}),r.map(a=>F(Xee,{...a,speedFactor:t,setElapsedTime:a.name==="Psyche"?e:void 0},a.name)),F(Yee,{elapsedTime:n,speedFactor:t,setSpeedFactor:i}),F(i1,{enableZoom:!0,enablePan:!0,enableRotate:!0,minDistance:10,maxDistance:500})]})]})})}function Jee(){return te("div",{className:"flex flex-col bg-gray-900 font-mono",children:[F(Md,{}),F("hr",{className:"border-t border-gray-700 w-full"}),te("div",{className:"flex-none",style:{height:"60vh"},children:[" ",F(Kee,{})]}),F("main",{className:"flex-1 overflow-y-auto px-8 pt-20 pb-12 space-y-12 text-gray-300",children:te("div",{className:"max-w-6xl mx-auto space-y-12",children:[te("div",{className:"space-y-4",children:[F("h1",{className:"text-4xl font-bold text-white",children:"Orbital Characteristics & Mission Timeline"}),F("p",{className:"text-lg border-b border-gray-700 pb-4",children:"Analysis of 16 Psyche's solar orbit and the spacecraft's journey"})]}),te("section",{className:"space-y-6",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Orbital Mechanics"}),te("div",{className:"grid md:grid-cols-2 gap-8",children:[te("div",{className:"space-y-4",children:[F("h3",{className:"text-xl font-semibold",children:"Key Metrics"}),te("ul",{className:"space-y-2 list-disc pl-6",children:[te("li",{children:["Semi-major axis:",te("span",{className:"text-white",children:[" ","3.0 AU (450M km)"]})]}),te("li",{children:["Eccentricity:",te("span",{className:"text-white",children:[" ","0.134"]})]}),te("li",{children:["Inclination:",te("span",{className:"text-white",children:[" ","3.1"]})]}),te("li",{children:["Orbital period:",te("span",{className:"text-white",children:[" ","4.99 Earth years"]})]})]})]}),te("div",{className:"space-y-4",children:[F("h3",{className:"text-xl font-semibold",children:"Positional Range"}),te("ul",{className:"space-y-2 list-disc pl-6",children:[te("li",{children:["Earth distance:",te("span",{className:"text-white",children:[" ","2.0-4.3 AU"]})]}),te("li",{children:["Solar distance:",te("span",{className:"text-white",children:[" ","2.5-3.3 AU"]})]}),te("li",{children:["Belt location:",te("span",{className:"text-white",children:[" ","Outer main belt"]})]}),te("li",{children:["Nearest planetary neighbor:",te("span",{className:"text-white",children:[" ","Mars (1.5 AU gap)"]})]})]})]})]})]}),te("section",{className:"space-y-6",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Flight Profile"}),te("div",{className:"grid md:grid-cols-2 gap-8",children:[F("div",{className:"space-y-4",children:te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Cruise Phase"}),te("ul",{className:"space-y-1 list-disc pl-6",children:[F("li",{children:"Launch: Oct 2023 (Falcon Heavy)"}),F("li",{children:"Mars Gravity Assist: 2026"}),F("li",{children:"Deep Space Maneuvers: 3 scheduled"}),F("li",{children:"Optical Comm Demo: 2023-2025"})]})]})}),F("div",{className:"space-y-4",children:te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Orbital Operations"}),te("ul",{className:"space-y-1 list-disc pl-6",children:[F("li",{children:"Arrival: Aug 2029"}),F("li",{children:"Prime mission duration: 26 months"}),F("li",{children:"Orbit altitudes: 700km  85km"}),te("li",{children:["Data return: ",">","2TB expected"]})]})]})})]})]}),te("section",{className:"space-y-6",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Orbital Context Importance"}),te("div",{className:"grid md:grid-cols-2 gap-8",children:[te("div",{className:"space-y-4",children:[te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Formation Constraints"}),F("p",{className:"leading-relaxed",children:"Current orbital parameters help reconstruct Psyche's dynamical history:"}),te("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[F("li",{children:"Collisional family analysis"}),F("li",{children:"Yarkovsky effect measurements"}),F("li",{children:"Planetesimal migration models"})]})]}),te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Thermal Environment"}),te("p",{className:"leading-relaxed",children:["3 AU distance creates surface temperatures between",te("span",{className:"text-white",children:[" ","-150C to -50C"]}),", influencing material properties and observation strategies."]})]})]}),te("div",{className:"space-y-4",children:[te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Collisional History"}),F("p",{className:"leading-relaxed",children:"Outer belt location suggests:"}),te("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[F("li",{children:"Lower impact velocity collisions"}),F("li",{children:"Preservation of ancient features"}),F("li",{children:"Unique crater scaling laws"}),F("li",{children:"Stripping of layers through impacts"})]})]}),te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Differentiation Evidence"}),F("p",{className:"leading-relaxed",children:"Orbital dynamics combined with density measurements may reveal:"}),te("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[F("li",{children:"Core-mantle separation timing"}),F("li",{children:"Post-formation disruptions"}),F("li",{children:"Radioisotope decay signatures"})]})]})]})]})]}),te("section",{className:"space-y-4",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Belt Contextualization"}),F("div",{className:"p-4 border border-gray-700 rounded-lg",children:te("div",{className:"grid md:grid-cols-2 gap-6",children:[te("div",{children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Asteroid Belt Position"}),te("ul",{className:"list-disc pl-6 space-y-1",children:[F("li",{children:"Between Mars (1.5 AU) and Jupiter (5.2 AU)"}),te("li",{children:["Zones: Inner (","<","2 AU), Middle (2-3.3 AU), Outer (",">","3.3 AU)"]}),F("li",{children:"Psyche located in metal-rich outer region"})]})]}),te("div",{children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Orbital Resonance"}),te("ul",{className:"list-disc pl-6 space-y-1",children:[F("li",{children:"5:2 resonance with Jupiter"}),F("li",{children:"Stable orbital configuration"}),F("li",{children:"Long-term dynamical simulations"})]})]})]})})]})]})})]})}function Zee(n){const{nodes:e,materials:t}=Bs("/iridium_23c_year_sim-uga/psyche-mix.glb");return F("group",{...n,dispose:null,children:F("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.mesh_0.geometry,material:e.mesh_0.material})})}Bs.preload("/iridium_23c_year_sim-uga/psyche-mix.glb");function Qee(n){const{nodes:e,materials:t}=Bs("/iridium_23c_year_sim-uga/psyche-silicate.glb");return F("group",{...n,dispose:null,children:F("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.mesh_0.geometry,material:e.mesh_0.material})})}Bs.preload("/iridium_23c_year_sim-uga/psyche-silicate.glb");const $ee={METALLIC:0};function ete(){const[n,e]=Z.useState($ee.METALLIC),t=[F(g6,{position:[0,0,0],scale:[1,1,1]},"metallic"),F(Zee,{position:[0,0,0],scale:[1,1,1]},"mix"),F(Qee,{position:[0,0,0],scale:[1,1,1]},"silicate")],i=["Metallic","Mixed","Silicate"],r=()=>{e(a=>(a+1)%3)};return F("div",{className:"w-full max-w-4xl mx-auto px-4 pt-8 pb-12 relative",children:F(n1,{style:{width:"100%",height:"60vh",background:"black",borderRadius:"8px"},camera:{position:[0,0,5],fov:50,near:.1,far:1e3},children:te(Z.Suspense,{fallback:null,children:[F("ambientLight",{intensity:1}),F("directionalLight",{color:"white",position:[0,0,5]}),F("directionalLight",{color:"white",position:[0,0,-5]}),F(r1,{radius:100,depth:50,count:2e3,factor:4}),t[n],F(i1,{enableZoom:!0,enablePan:!0,enableRotate:!0,minDistance:3,maxDistance:10,target:[0,0,0]}),F(lm,{wrapperClass:"toggle-button",position:[0,0,0],transform:!1,style:{position:"absolute",right:"-25rem",bottom:"-13rem",zIndex:10},children:te("button",{className:"bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors font-mono",onClick:r,children:["View ",i[(n+1)%3]," ","Composition"]})})]})})})}function tte(){return te("div",{className:"flex flex-col bg-gray-900 font-mono",children:[F(Md,{}),F("hr",{className:"border-t border-gray-700 w-full"}),te("div",{className:"flex-none",style:{height:"60vh"},children:[" ",F(ete,{})]}),F("main",{className:"flex-1 overflow-y-auto px-8 pt-20 pb-12 space-y-12 text-gray-300",children:te("div",{className:"max-w-6xl mx-auto space-y-12",children:[te("div",{className:"space-y-4",children:[F("h1",{className:"text-4xl font-bold text-white",children:"Surface Composition & Characteristics"}),F("p",{className:"text-lg border-b border-gray-700 pb-4",children:"Detailed analysis of 16 Psyche's unique surface properties and material composition"})]}),te("section",{className:"space-y-6",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Morphological Features"}),te("div",{className:"grid md:grid-cols-2 gap-8",children:[te("div",{className:"space-y-4",children:[F("h3",{className:"text-xl font-semibold",children:"Structural Properties"}),te("ul",{className:"space-y-2 list-disc pl-6",children:[te("li",{children:["Triaxial dimensions:",te("span",{className:"text-white",children:[" ","278  238  171 km"]})]}),te("li",{children:["Surface porosity:",te("span",{className:"text-white",children:[" ","High regolith porosity"]})]}),te("li",{children:["Impact features:",te("span",{className:"text-white",children:[" ","Depressions up to 80km"]})]}),te("li",{children:["Thermal inertia:",te("span",{className:"text-white",children:[" ","Variable across surface"]})]})]})]}),te("div",{className:"space-y-4",children:[F("h3",{className:"text-xl font-semibold",children:"Radar & Spectral Data"}),te("ul",{className:"space-y-2 list-disc pl-6",children:[F("li",{children:"Radar-bright surface features"}),F("li",{children:"Dielectric constant variations"}),F("li",{children:"Subtle 900nm absorption bands"}),F("li",{children:"Red-sloped reflectance spectrum"})]})]})]})]}),te("section",{className:"space-y-6",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Material Composition"}),te("div",{className:"grid md:grid-cols-2 gap-8",children:[te("div",{className:"space-y-4",children:[F("h3",{className:"text-xl font-semibold",children:"Primary Components"}),te("ul",{className:"space-y-2 list-disc pl-6",children:[te("li",{children:["Metal content:",te("span",{className:"text-white",children:[" ","30-60 vol%"]})]}),te("li",{children:["Iron-nickel alloy:",te("span",{className:"text-white",children:[" ","Dominant metallic phase"]})]}),te("li",{children:["Orthopyroxene:",te("span",{className:"text-white",children:[" ","6% 1% surface presence"]})]}),te("li",{children:["Sulfides:",te("span",{className:"text-white",children:[" ","Potential troilite/pentlandite"]})]})]})]}),te("div",{className:"space-y-4",children:[F("h3",{className:"text-xl font-semibold",children:"Uncertainties"}),te("ul",{className:"space-y-2 list-disc pl-6",children:[F("li",{children:"Silicate-sulfide ratios"}),F("li",{children:"Material mixing scale"}),F("li",{children:"Porosity distribution"}),F("li",{children:"Impact vs primordial features"})]})]})]})]}),te("section",{className:"space-y-6",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Unique Significance"}),te("div",{className:"grid md:grid-cols-2 gap-8",children:[te("div",{className:"space-y-4",children:[te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Planetary Core Analog"}),F("p",{className:"leading-relaxed",children:"Potential exposed planetesimal core offering insights into:"}),te("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[F("li",{children:"Differentiation processes"}),F("li",{children:"Metallic core formation"}),F("li",{children:"Mantle stripping mechanisms"})]})]}),te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Impact Dynamics"}),F("p",{className:"leading-relaxed",children:"Unique opportunity to study cratering on metal-rich surfaces:"}),te("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[F("li",{children:"Depth-diameter ratios"}),F("li",{children:"Ejecta distribution patterns"}),F("li",{children:"Shock metamorphism effects"})]})]})]}),te("div",{className:"space-y-4",children:[te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Material Processes"}),F("p",{className:"leading-relaxed",children:"Investigating unique surface evolution:"}),te("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[F("li",{children:"Ferrovolcanism evidence"}),F("li",{children:"Thermal fracturing effects"}),F("li",{children:"Regolith formation mechanisms"})]})]}),te("div",{className:"p-4 border border-gray-700 rounded-lg",children:[F("h3",{className:"text-xl font-semibold mb-2",children:"Instrument Synergy"}),F("p",{className:"leading-relaxed",children:"Combined data from:"}),te("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[F("li",{children:"Multispectral Imager"}),F("li",{children:"Gamma-Ray Spectrometer"}),F("li",{children:"Magnetometer array"})]})]})]})]})]}),te("section",{className:"space-y-4",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Key Investigation Goals"}),F("div",{className:"p-4 border border-gray-700 rounded-lg",children:te("ul",{className:"grid md:grid-cols-2 gap-4 list-disc pl-6",children:[F("li",{children:"Resolve metal-silicate distribution patterns"}),F("li",{children:"Characterize surface heterogeneity sources"}),F("li",{children:"Detect sulfur-bearing mineral phases"}),F("li",{children:"Quantify impact crater morphology"}),F("li",{children:"Map global porosity variations"}),F("li",{children:"Determine differentiation evidence"})]})})]})]})})]})}function y6(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=y6(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Ln(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=y6(n))&&(i&&(i+=" "),i+=e);return i}var UE,V3;function ns(){if(V3)return UE;V3=1;var n=Array.isArray;return UE=n,UE}var IE,j3;function b6(){if(j3)return IE;j3=1;var n=typeof cx=="object"&&cx&&cx.Object===Object&&cx;return IE=n,IE}var FE,q3;function su(){if(q3)return FE;q3=1;var n=b6(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return FE=t,FE}var zE,X3;function M0(){if(X3)return zE;X3=1;var n=su(),e=n.Symbol;return zE=e,zE}var HE,W3;function nte(){if(W3)return HE;W3=1;var n=M0(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,r=n?n.toStringTag:void 0;function a(s){var l=t.call(s,r),u=s[r];try{s[r]=void 0;var f=!0}catch{}var p=i.call(s);return f&&(l?s[r]=u:delete s[r]),p}return HE=a,HE}var GE,Y3;function ite(){if(Y3)return GE;Y3=1;var n=Object.prototype,e=n.toString;function t(i){return e.call(i)}return GE=t,GE}var kE,K3;function mc(){if(K3)return kE;K3=1;var n=M0(),e=nte(),t=ite(),i="[object Null]",r="[object Undefined]",a=n?n.toStringTag:void 0;function s(l){return l==null?l===void 0?r:i:a&&a in Object(l)?e(l):t(l)}return kE=s,kE}var VE,J3;function vc(){if(J3)return VE;J3=1;function n(e){return e!=null&&typeof e=="object"}return VE=n,VE}var jE,Z3;function iv(){if(Z3)return jE;Z3=1;var n=mc(),e=vc(),t="[object Symbol]";function i(r){return typeof r=="symbol"||e(r)&&n(r)==t}return jE=i,jE}var qE,Q3;function DB(){if(Q3)return qE;Q3=1;var n=ns(),e=iv(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(a,s){if(n(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:i.test(a)||!t.test(a)||s!=null&&a in Object(s)}return qE=r,qE}var XE,$3;function Rf(){if($3)return XE;$3=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return XE=n,XE}var WE,eL;function NB(){if(eL)return WE;eL=1;var n=mc(),e=Rf(),t="[object AsyncFunction]",i="[object Function]",r="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!e(l))return!1;var u=n(l);return u==i||u==r||u==t||u==a}return WE=s,WE}var YE,tL;function rte(){if(tL)return YE;tL=1;var n=su(),e=n["__core-js_shared__"];return YE=e,YE}var KE,nL;function ate(){if(nL)return KE;nL=1;var n=rte(),e=function(){var i=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function t(i){return!!e&&e in i}return KE=t,KE}var JE,iL;function x6(){if(iL)return JE;iL=1;var n=Function.prototype,e=n.toString;function t(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return JE=t,JE}var ZE,rL;function ste(){if(rL)return ZE;rL=1;var n=NB(),e=ate(),t=Rf(),i=x6(),r=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,u=s.toString,f=l.hasOwnProperty,p=RegExp("^"+u.call(f).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(g){if(!t(g)||e(g))return!1;var b=n(g)?p:a;return b.test(i(g))}return ZE=v,ZE}var QE,aL;function ote(){if(aL)return QE;aL=1;function n(e,t){return e==null?void 0:e[t]}return QE=n,QE}var $E,sL;function Od(){if(sL)return $E;sL=1;var n=ste(),e=ote();function t(i,r){var a=e(i,r);return n(a)?a:void 0}return $E=t,$E}var eT,oL;function a1(){if(oL)return eT;oL=1;var n=Od(),e=n(Object,"create");return eT=e,eT}var tT,lL;function lte(){if(lL)return tT;lL=1;var n=a1();function e(){this.__data__=n?n(null):{},this.size=0}return tT=e,tT}var nT,uL;function ute(){if(uL)return nT;uL=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return nT=n,nT}var iT,cL;function cte(){if(cL)return iT;cL=1;var n=a1(),e="__lodash_hash_undefined__",t=Object.prototype,i=t.hasOwnProperty;function r(a){var s=this.__data__;if(n){var l=s[a];return l===e?void 0:l}return i.call(s,a)?s[a]:void 0}return iT=r,iT}var rT,fL;function fte(){if(fL)return rT;fL=1;var n=a1(),e=Object.prototype,t=e.hasOwnProperty;function i(r){var a=this.__data__;return n?a[r]!==void 0:t.call(a,r)}return rT=i,rT}var aT,hL;function hte(){if(hL)return aT;hL=1;var n=a1(),e="__lodash_hash_undefined__";function t(i,r){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=n&&r===void 0?e:r,this}return aT=t,aT}var sT,dL;function dte(){if(dL)return sT;dL=1;var n=lte(),e=ute(),t=cte(),i=fte(),r=hte();function a(s){var l=-1,u=s==null?0:s.length;for(this.clear();++l<u;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=i,a.prototype.set=r,sT=a,sT}var oT,pL;function pte(){if(pL)return oT;pL=1;function n(){this.__data__=[],this.size=0}return oT=n,oT}var lT,mL;function PB(){if(mL)return lT;mL=1;function n(e,t){return e===t||e!==e&&t!==t}return lT=n,lT}var uT,vL;function s1(){if(vL)return uT;vL=1;var n=PB();function e(t,i){for(var r=t.length;r--;)if(n(t[r][0],i))return r;return-1}return uT=e,uT}var cT,gL;function mte(){if(gL)return cT;gL=1;var n=s1(),e=Array.prototype,t=e.splice;function i(r){var a=this.__data__,s=n(a,r);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():t.call(a,s,1),--this.size,!0}return cT=i,cT}var fT,yL;function vte(){if(yL)return fT;yL=1;var n=s1();function e(t){var i=this.__data__,r=n(i,t);return r<0?void 0:i[r][1]}return fT=e,fT}var hT,bL;function gte(){if(bL)return hT;bL=1;var n=s1();function e(t){return n(this.__data__,t)>-1}return hT=e,hT}var dT,xL;function yte(){if(xL)return dT;xL=1;var n=s1();function e(t,i){var r=this.__data__,a=n(r,t);return a<0?(++this.size,r.push([t,i])):r[a][1]=i,this}return dT=e,dT}var pT,_L;function o1(){if(_L)return pT;_L=1;var n=pte(),e=mte(),t=vte(),i=gte(),r=yte();function a(s){var l=-1,u=s==null?0:s.length;for(this.clear();++l<u;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=i,a.prototype.set=r,pT=a,pT}var mT,AL;function LB(){if(AL)return mT;AL=1;var n=Od(),e=su(),t=n(e,"Map");return mT=t,mT}var vT,SL;function bte(){if(SL)return vT;SL=1;var n=dte(),e=o1(),t=LB();function i(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return vT=i,vT}var gT,ML;function xte(){if(ML)return gT;ML=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return gT=n,gT}var yT,EL;function l1(){if(EL)return yT;EL=1;var n=xte();function e(t,i){var r=t.__data__;return n(i)?r[typeof i=="string"?"string":"hash"]:r.map}return yT=e,yT}var bT,TL;function _te(){if(TL)return bT;TL=1;var n=l1();function e(t){var i=n(this,t).delete(t);return this.size-=i?1:0,i}return bT=e,bT}var xT,wL;function Ate(){if(wL)return xT;wL=1;var n=l1();function e(t){return n(this,t).get(t)}return xT=e,xT}var _T,CL;function Ste(){if(CL)return _T;CL=1;var n=l1();function e(t){return n(this,t).has(t)}return _T=e,_T}var AT,RL;function Mte(){if(RL)return AT;RL=1;var n=l1();function e(t,i){var r=n(this,t),a=r.size;return r.set(t,i),this.size+=r.size==a?0:1,this}return AT=e,AT}var ST,OL;function UB(){if(OL)return ST;OL=1;var n=bte(),e=_te(),t=Ate(),i=Ste(),r=Mte();function a(s){var l=-1,u=s==null?0:s.length;for(this.clear();++l<u;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=i,a.prototype.set=r,ST=a,ST}var MT,BL;function _6(){if(BL)return MT;BL=1;var n=UB(),e="Expected a function";function t(i,r){if(typeof i!="function"||r!=null&&typeof r!="function")throw new TypeError(e);var a=function(){var s=arguments,l=r?r.apply(this,s):s[0],u=a.cache;if(u.has(l))return u.get(l);var f=i.apply(this,s);return a.cache=u.set(l,f)||u,f};return a.cache=new(t.Cache||n),a}return t.Cache=n,MT=t,MT}var ET,DL;function Ete(){if(DL)return ET;DL=1;var n=_6(),e=500;function t(i){var r=n(i,function(s){return a.size===e&&a.clear(),s}),a=r.cache;return r}return ET=t,ET}var TT,NL;function Tte(){if(NL)return TT;NL=1;var n=Ete(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,i=n(function(r){var a=[];return r.charCodeAt(0)===46&&a.push(""),r.replace(e,function(s,l,u,f){a.push(u?f.replace(t,"$1"):l||s)}),a});return TT=i,TT}var wT,PL;function IB(){if(PL)return wT;PL=1;function n(e,t){for(var i=-1,r=e==null?0:e.length,a=Array(r);++i<r;)a[i]=t(e[i],i,e);return a}return wT=n,wT}var CT,LL;function wte(){if(LL)return CT;LL=1;var n=M0(),e=IB(),t=ns(),i=iv(),r=n?n.prototype:void 0,a=r?r.toString:void 0;function s(l){if(typeof l=="string")return l;if(t(l))return e(l,s)+"";if(i(l))return a?a.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return CT=s,CT}var RT,UL;function A6(){if(UL)return RT;UL=1;var n=wte();function e(t){return t==null?"":n(t)}return RT=e,RT}var OT,IL;function S6(){if(IL)return OT;IL=1;var n=ns(),e=DB(),t=Tte(),i=A6();function r(a,s){return n(a)?a:e(a,s)?[a]:t(i(a))}return OT=r,OT}var BT,FL;function u1(){if(FL)return BT;FL=1;var n=iv();function e(t){if(typeof t=="string"||n(t))return t;var i=t+"";return i=="0"&&1/t==-1/0?"-0":i}return BT=e,BT}var DT,zL;function FB(){if(zL)return DT;zL=1;var n=S6(),e=u1();function t(i,r){r=n(r,i);for(var a=0,s=r.length;i!=null&&a<s;)i=i[e(r[a++])];return a&&a==s?i:void 0}return DT=t,DT}var NT,HL;function M6(){if(HL)return NT;HL=1;var n=FB();function e(t,i,r){var a=t==null?void 0:n(t,i);return a===void 0?r:a}return NT=e,NT}var Cte=M6();const to=Jn(Cte);var PT,GL;function Rte(){if(GL)return PT;GL=1;function n(e){return e==null}return PT=n,PT}var Ote=Rte();const An=Jn(Ote);var LT,kL;function Bte(){if(kL)return LT;kL=1;var n=mc(),e=ns(),t=vc(),i="[object String]";function r(a){return typeof a=="string"||!e(a)&&t(a)&&n(a)==i}return LT=r,LT}var Dte=Bte();const E0=Jn(Dte);var Nte=NB();const dn=Jn(Nte);var Pte=Rf();const rv=Jn(Pte);var UT={exports:{}},qn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VL;function Lte(){if(VL)return qn;VL=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function M(A){if(typeof A=="object"&&A!==null){var S=A.$$typeof;switch(S){case n:switch(A=A.type,A){case t:case r:case i:case f:case p:return A;default:switch(A=A&&A.$$typeof,A){case l:case s:case u:case g:case v:case a:return A;default:return S}}case e:return S}}}return qn.ContextConsumer=s,qn.ContextProvider=a,qn.Element=n,qn.ForwardRef=u,qn.Fragment=t,qn.Lazy=g,qn.Memo=v,qn.Portal=e,qn.Profiler=r,qn.StrictMode=i,qn.Suspense=f,qn.SuspenseList=p,qn.isAsyncMode=function(){return!1},qn.isConcurrentMode=function(){return!1},qn.isContextConsumer=function(A){return M(A)===s},qn.isContextProvider=function(A){return M(A)===a},qn.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===n},qn.isForwardRef=function(A){return M(A)===u},qn.isFragment=function(A){return M(A)===t},qn.isLazy=function(A){return M(A)===g},qn.isMemo=function(A){return M(A)===v},qn.isPortal=function(A){return M(A)===e},qn.isProfiler=function(A){return M(A)===r},qn.isStrictMode=function(A){return M(A)===i},qn.isSuspense=function(A){return M(A)===f},qn.isSuspenseList=function(A){return M(A)===p},qn.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===r||A===i||A===f||A===p||A===b||typeof A=="object"&&A!==null&&(A.$$typeof===g||A.$$typeof===v||A.$$typeof===a||A.$$typeof===s||A.$$typeof===u||A.$$typeof===_||A.getModuleId!==void 0)},qn.typeOf=M,qn}var jL;function Ute(){return jL||(jL=1,UT.exports=Lte()),UT.exports}var Ite=Ute(),IT,qL;function E6(){if(qL)return IT;qL=1;var n=mc(),e=vc(),t="[object Number]";function i(r){return typeof r=="number"||e(r)&&n(r)==t}return IT=i,IT}var FT,XL;function Fte(){if(XL)return FT;XL=1;var n=E6();function e(t){return n(t)&&t!=+t}return FT=e,FT}var zte=Fte();const T0=Jn(zte);var Hte=E6();const Gte=Jn(Hte);var $o=function(e){return e===0?0:e>0?1:-1},Qh=function(e){return E0(e)&&e.indexOf("%")===e.length-1},mt=function(e){return Gte(e)&&!T0(e)},fr=function(e){return mt(e)||E0(e)},kte=0,w0=function(e){var t=++kte;return"".concat(e||"").concat(t)},bd=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!mt(e)&&!E0(e))return i;var a;if(Qh(e)){var s=e.indexOf("%");a=t*parseFloat(e.slice(0,s))/100}else a=+e;return T0(a)&&(a=i),r&&a>t&&(a=t),a},gf=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Vte=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,i={},r=0;r<t;r++)if(!i[e[r]])i[e[r]]=!0;else return!0;return!1},Jo=function(e,t){return mt(e)&&mt(t)?function(i){return e+i*(t-e)}:function(){return t}};function wA(n,e,t){return!n||!n.length?null:n.find(function(i){return i&&(typeof e=="function"?e(i):to(i,e))===t})}function cm(n,e){for(var t in n)if({}.hasOwnProperty.call(n,t)&&(!{}.hasOwnProperty.call(e,t)||n[t]!==e[t]))return!1;for(var i in e)if({}.hasOwnProperty.call(e,i)&&!{}.hasOwnProperty.call(n,i))return!1;return!0}function oR(n){"@babel/helpers - typeof";return oR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oR(n)}var jte=["viewBox","children"],qte=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WL=["points","pathLength"],zT={svg:jte,polygon:WL,polyline:WL},zB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],CA=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(Z.isValidElement(e)&&(i=e.props),!rv(i))return null;var r={};return Object.keys(i).forEach(function(a){zB.includes(a)&&(r[a]=t||function(s){return i[a](i,s)})}),r},Xte=function(e,t,i){return function(r){return e(t,i,r),null}},RA=function(e,t,i){if(!rv(e)||oR(e)!=="object")return null;var r=null;return Object.keys(e).forEach(function(a){var s=e[a];zB.includes(a)&&typeof s=="function"&&(r||(r={}),r[a]=Xte(s,t,i))}),r},Wte=["children"],Yte=["children"];function YL(n,e){if(n==null)return{};var t=Kte(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Kte(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function lR(n){"@babel/helpers - typeof";return lR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lR(n)}var KL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ic=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},JL=null,HT=null,HB=function n(e){if(e===JL&&Array.isArray(HT))return HT;var t=[];return Z.Children.forEach(e,function(i){An(i)||(Ite.isFragment(i)?t=t.concat(n(i.props.children)):t.push(i))}),HT=t,JL=e,t};function no(n,e){var t=[],i=[];return Array.isArray(e)?i=e.map(function(r){return ic(r)}):i=[ic(e)],HB(n).forEach(function(r){var a=to(r,"type.displayName")||to(r,"type.name");i.indexOf(a)!==-1&&t.push(r)}),t}function As(n,e){var t=no(n,e);return t&&t[0]}var ZL=function(e){if(!e||!e.props)return!1;var t=e.props,i=t.width,r=t.height;return!(!mt(i)||i<=0||!mt(r)||r<=0)},Jte=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Zte=function(e){return e&&e.type&&E0(e.type)&&Jte.indexOf(e.type)>=0},Qte=function(e){return e&&lR(e)==="object"&&"clipDot"in e},$te=function(e,t,i,r){var a,s=(a=zT==null?void 0:zT[r])!==null&&a!==void 0?a:[];return t.startsWith("data-")||!dn(e)&&(r&&s.includes(t)||qte.includes(t))||i&&zB.includes(t)},wn=function(e,t,i){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(Z.isValidElement(e)&&(r=e.props),!rv(r))return null;var a={};return Object.keys(r).forEach(function(s){var l;$te((l=r)===null||l===void 0?void 0:l[s],s,t,i)&&(a[s]=r[s])}),a},uR=function n(e,t){if(e===t)return!0;var i=Z.Children.count(e);if(i!==Z.Children.count(t))return!1;if(i===0)return!0;if(i===1)return QL(Array.isArray(e)?e[0]:e,Array.isArray(t)?t[0]:t);for(var r=0;r<i;r++){var a=e[r],s=t[r];if(Array.isArray(a)||Array.isArray(s)){if(!n(a,s))return!1}else if(!QL(a,s))return!1}return!0},QL=function(e,t){if(An(e)&&An(t))return!0;if(!An(e)&&!An(t)){var i=e.props||{},r=i.children,a=YL(i,Wte),s=t.props||{},l=s.children,u=YL(s,Yte);return r&&l?cm(a,u)&&uR(r,l):!r&&!l?cm(a,u):!1}return!1},$L=function(e,t){var i=[],r={};return HB(e).forEach(function(a,s){if(Zte(a))i.push(a);else if(a){var l=ic(a.type),u=t[l]||{},f=u.handler,p=u.once;if(f&&(!p||!r[l])){var v=f(a,l,s);i.push(v),r[l]=!0}}}),i},ene=function(e){var t=e&&e.type;return t&&KL[t]?KL[t]:null},tne=function(e,t){return HB(t).indexOf(e)},nne=["children","width","height","viewBox","className","style","title","desc"];function cR(){return cR=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},cR.apply(this,arguments)}function ine(n,e){if(n==null)return{};var t=rne(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function rne(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function fR(n){var e=n.children,t=n.width,i=n.height,r=n.viewBox,a=n.className,s=n.style,l=n.title,u=n.desc,f=ine(n,nne),p=r||{width:t,height:i,x:0,y:0},v=Ln("recharts-surface",a);return ut.createElement("svg",cR({},wn(f,!0,"svg"),{className:v,width:t,height:i,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),ut.createElement("title",null,l),ut.createElement("desc",null,u),e)}var ane=["children","className"];function hR(){return hR=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hR.apply(this,arguments)}function sne(n,e){if(n==null)return{};var t=one(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function one(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}var Ji=ut.forwardRef(function(n,e){var t=n.children,i=n.className,r=sne(n,ane),a=Ln("recharts-layer",i);return ut.createElement("g",hR({className:a},wn(r,!0),{ref:e}),t)}),rc=function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a]},GT,eU;function lne(){if(eU)return GT;eU=1;function n(e,t,i){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),i=i>a?a:i,i<0&&(i+=a),a=t>i?0:i-t>>>0,t>>>=0;for(var s=Array(a);++r<a;)s[r]=e[r+t];return s}return GT=n,GT}var kT,tU;function une(){if(tU)return kT;tU=1;var n=lne();function e(t,i,r){var a=t.length;return r=r===void 0?a:r,!i&&r>=a?t:n(t,i,r)}return kT=e,kT}var VT,nU;function T6(){if(nU)return VT;nU=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",r=e+t+i,a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+n+r+a+"]");function u(f){return l.test(f)}return VT=u,VT}var jT,iU;function cne(){if(iU)return jT;iU=1;function n(e){return e.split("")}return jT=n,jT}var qT,rU;function fne(){if(rU)return qT;rU=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",r=e+t+i,a="\\ufe0e\\ufe0f",s="["+n+"]",l="["+r+"]",u="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+u+")",p="[^"+n+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",_=f+"?",M="["+a+"]?",A="(?:"+b+"(?:"+[p,v,g].join("|")+")"+M+_+")*",S=M+_+A,w="(?:"+[p+l+"?",l,v,g,s].join("|")+")",C=RegExp(u+"(?="+u+")|"+w+S,"g");function R(D){return D.match(C)||[]}return qT=R,qT}var XT,aU;function hne(){if(aU)return XT;aU=1;var n=cne(),e=T6(),t=fne();function i(r){return e(r)?t(r):n(r)}return XT=i,XT}var WT,sU;function dne(){if(sU)return WT;sU=1;var n=une(),e=T6(),t=hne(),i=A6();function r(a){return function(s){s=i(s);var l=e(s)?t(s):void 0,u=l?l[0]:s.charAt(0),f=l?n(l,1).join(""):s.slice(1);return u[a]()+f}}return WT=r,WT}var YT,oU;function pne(){if(oU)return YT;oU=1;var n=dne(),e=n("toUpperCase");return YT=e,YT}var mne=pne();const c1=Jn(mne);function ci(n){return function(){return n}}const w6=Math.cos,OA=Math.sin,al=Math.sqrt,BA=Math.PI,f1=2*BA,dR=Math.PI,pR=2*dR,Vh=1e-6,vne=pR-Vh;function C6(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function gne(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return C6;const t=10**e;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}class yne{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?C6:gne(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,r){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,t,i,r,a,s){this._append`C${+e},${+t},${+i},${+r},${this._x1=+a},${this._y1=+s}`}arcTo(e,t,i,r,a){if(e=+e,t=+t,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,u=i-e,f=r-t,p=s-e,v=l-t,g=p*p+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>Vh)if(!(Math.abs(v*u-f*p)>Vh)||!a)this._append`L${this._x1=e},${this._y1=t}`;else{let b=i-s,_=r-l,M=u*u+f*f,A=b*b+_*_,S=Math.sqrt(M),w=Math.sqrt(g),C=a*Math.tan((dR-Math.acos((M+g-A)/(2*S*w)))/2),R=C/w,D=C/S;Math.abs(R-1)>Vh&&this._append`L${e+R*p},${t+R*v}`,this._append`A${a},${a},0,0,${+(v*b>p*_)},${this._x1=e+D*u},${this._y1=t+D*f}`}}arc(e,t,i,r,a,s){if(e=+e,t=+t,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(r),u=i*Math.sin(r),f=e+l,p=t+u,v=1^s,g=s?r-a:a-r;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Vh||Math.abs(this._y1-p)>Vh)&&this._append`L${f},${p}`,i&&(g<0&&(g=g%pR+pR),g>vne?this._append`A${i},${i},0,1,${v},${e-l},${t-u}A${i},${i},0,1,${v},${this._x1=f},${this._y1=p}`:g>Vh&&this._append`A${i},${i},0,${+(g>=dR)},${v},${this._x1=e+i*Math.cos(a)},${this._y1=t+i*Math.sin(a)}`)}rect(e,t,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function GB(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return n},()=>new yne(e)}function kB(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function R6(n){this._context=n}R6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function h1(n){return new R6(n)}function O6(n){return n[0]}function B6(n){return n[1]}function D6(n,e){var t=ci(!0),i=null,r=h1,a=null,s=GB(l);n=typeof n=="function"?n:n===void 0?O6:ci(n),e=typeof e=="function"?e:e===void 0?B6:ci(e);function l(u){var f,p=(u=kB(u)).length,v,g=!1,b;for(i==null&&(a=r(b=s())),f=0;f<=p;++f)!(f<p&&t(v=u[f],f,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+n(v,f,u),+e(v,f,u));if(b)return a=null,b+""||null}return l.x=function(u){return arguments.length?(n=typeof u=="function"?u:ci(+u),l):n},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:ci(+u),l):e},l.defined=function(u){return arguments.length?(t=typeof u=="function"?u:ci(!!u),l):t},l.curve=function(u){return arguments.length?(r=u,i!=null&&(a=r(i)),l):r},l.context=function(u){return arguments.length?(u==null?i=a=null:a=r(i=u),l):i},l}function f_(n,e,t){var i=null,r=ci(!0),a=null,s=h1,l=null,u=GB(f);n=typeof n=="function"?n:n===void 0?O6:ci(+n),e=typeof e=="function"?e:ci(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?B6:ci(+t);function f(v){var g,b,_,M=(v=kB(v)).length,A,S=!1,w,C=new Array(M),R=new Array(M);for(a==null&&(l=s(w=u())),g=0;g<=M;++g){if(!(g<M&&r(A=v[g],g,v))===S)if(S=!S)b=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=g-1;_>=b;--_)l.point(C[_],R[_]);l.lineEnd(),l.areaEnd()}S&&(C[g]=+n(A,g,v),R[g]=+e(A,g,v),l.point(i?+i(A,g,v):C[g],t?+t(A,g,v):R[g]))}if(w)return l=null,w+""||null}function p(){return D6().defined(r).curve(s).context(a)}return f.x=function(v){return arguments.length?(n=typeof v=="function"?v:ci(+v),i=null,f):n},f.x0=function(v){return arguments.length?(n=typeof v=="function"?v:ci(+v),f):n},f.x1=function(v){return arguments.length?(i=v==null?null:typeof v=="function"?v:ci(+v),f):i},f.y=function(v){return arguments.length?(e=typeof v=="function"?v:ci(+v),t=null,f):e},f.y0=function(v){return arguments.length?(e=typeof v=="function"?v:ci(+v),f):e},f.y1=function(v){return arguments.length?(t=v==null?null:typeof v=="function"?v:ci(+v),f):t},f.lineX0=f.lineY0=function(){return p().x(n).y(e)},f.lineY1=function(){return p().x(n).y(t)},f.lineX1=function(){return p().x(i).y(e)},f.defined=function(v){return arguments.length?(r=typeof v=="function"?v:ci(!!v),f):r},f.curve=function(v){return arguments.length?(s=v,a!=null&&(l=s(a)),f):s},f.context=function(v){return arguments.length?(v==null?a=l=null:l=s(a=v),f):a},f}class N6{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function bne(n){return new N6(n,!0)}function xne(n){return new N6(n,!1)}const VB={draw(n,e){const t=al(e/BA);n.moveTo(t,0),n.arc(0,0,t,0,f1)}},_ne={draw(n,e){const t=al(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},P6=al(1/3),Ane=P6*2,Sne={draw(n,e){const t=al(e/Ane),i=t*P6;n.moveTo(0,-t),n.lineTo(i,0),n.lineTo(0,t),n.lineTo(-i,0),n.closePath()}},Mne={draw(n,e){const t=al(e),i=-t/2;n.rect(i,i,t,t)}},Ene=.8908130915292852,L6=OA(BA/10)/OA(7*BA/10),Tne=OA(f1/10)*L6,wne=-w6(f1/10)*L6,Cne={draw(n,e){const t=al(e*Ene),i=Tne*t,r=wne*t;n.moveTo(0,-t),n.lineTo(i,r);for(let a=1;a<5;++a){const s=f1*a/5,l=w6(s),u=OA(s);n.lineTo(u*t,-l*t),n.lineTo(l*i-u*r,u*i+l*r)}n.closePath()}},KT=al(3),Rne={draw(n,e){const t=-al(e/(KT*3));n.moveTo(0,t*2),n.lineTo(-KT*t,-t),n.lineTo(KT*t,-t),n.closePath()}},Ks=-.5,Js=al(3)/2,mR=1/al(12),One=(mR/2+1)*3,Bne={draw(n,e){const t=al(e/One),i=t/2,r=t*mR,a=i,s=t*mR+t,l=-a,u=s;n.moveTo(i,r),n.lineTo(a,s),n.lineTo(l,u),n.lineTo(Ks*i-Js*r,Js*i+Ks*r),n.lineTo(Ks*a-Js*s,Js*a+Ks*s),n.lineTo(Ks*l-Js*u,Js*l+Ks*u),n.lineTo(Ks*i+Js*r,Ks*r-Js*i),n.lineTo(Ks*a+Js*s,Ks*s-Js*a),n.lineTo(Ks*l+Js*u,Ks*u-Js*l),n.closePath()}};function Dne(n,e){let t=null,i=GB(r);n=typeof n=="function"?n:ci(n||VB),e=typeof e=="function"?e:ci(e===void 0?64:+e);function r(){let a;if(t||(t=a=i()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),a)return t=null,a+""||null}return r.type=function(a){return arguments.length?(n=typeof a=="function"?a:ci(a),r):n},r.size=function(a){return arguments.length?(e=typeof a=="function"?a:ci(+a),r):e},r.context=function(a){return arguments.length?(t=a??null,r):t},r}function DA(){}function NA(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function U6(n){this._context=n}U6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:NA(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:NA(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Nne(n){return new U6(n)}function I6(n){this._context=n}I6.prototype={areaStart:DA,areaEnd:DA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:NA(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Pne(n){return new I6(n)}function F6(n){this._context=n}F6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 3:this._point=4;default:NA(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Lne(n){return new F6(n)}function z6(n){this._context=n}z6.prototype={areaStart:DA,areaEnd:DA,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function Une(n){return new z6(n)}function lU(n){return n<0?-1:1}function uU(n,e,t){var i=n._x1-n._x0,r=e-n._x1,a=(n._y1-n._y0)/(i||r<0&&-0),s=(t-n._y1)/(r||i<0&&-0),l=(a*r+s*i)/(i+r);return(lU(a)+lU(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function cU(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function JT(n,e,t){var i=n._x0,r=n._y0,a=n._x1,s=n._y1,l=(a-i)/3;n._context.bezierCurveTo(i+l,r+l*e,a-l,s-l*t,a,s)}function PA(n){this._context=n}PA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:JT(this,this._t0,cU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,JT(this,cU(this,t=uU(this,n,e)),t);break;default:JT(this,this._t0,t=uU(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function H6(n){this._context=new G6(n)}(H6.prototype=Object.create(PA.prototype)).point=function(n,e){PA.prototype.point.call(this,e,n)};function G6(n){this._context=n}G6.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,i,r,a){this._context.bezierCurveTo(e,n,i,t,a,r)}};function Ine(n){return new PA(n)}function Fne(n){return new H6(n)}function k6(n){this._context=n}k6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var i=fU(n),r=fU(e),a=0,s=1;s<t;++a,++s)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],n[s],e[s]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function fU(n){var e,t=n.length-1,i,r=new Array(t),a=new Array(t),s=new Array(t);for(r[0]=0,a[0]=2,s[0]=n[0]+2*n[1],e=1;e<t-1;++e)r[e]=1,a[e]=4,s[e]=4*n[e]+2*n[e+1];for(r[t-1]=2,a[t-1]=7,s[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)i=r[e]/a[e-1],a[e]-=i,s[e]-=i*s[e-1];for(r[t-1]=s[t-1]/a[t-1],e=t-2;e>=0;--e)r[e]=(s[e]-r[e+1])/a[e];for(a[t-1]=(n[t]+r[t-1])/2,e=0;e<t-1;++e)a[e]=2*n[e+1]-r[e+1];return[r,a]}function zne(n){return new k6(n)}function d1(n,e){this._context=n,this._t=e}d1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function Hne(n){return new d1(n,.5)}function Gne(n){return new d1(n,0)}function kne(n){return new d1(n,1)}function Sm(n,e){if((s=n.length)>1)for(var t=1,i,r,a=n[e[0]],s,l=a.length;t<s;++t)for(r=a,a=n[e[t]],i=0;i<l;++i)a[i][1]+=a[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function vR(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function Vne(n,e){return n[e]}function jne(n){const e=[];return e.key=n,e}function qne(){var n=ci([]),e=vR,t=Sm,i=Vne;function r(a){var s=Array.from(n.apply(this,arguments),jne),l,u=s.length,f=-1,p;for(const v of a)for(l=0,++f;l<u;++l)(s[l][f]=[0,+i(v,s[l].key,f,a)]).data=v;for(l=0,p=kB(e(s));l<u;++l)s[p[l]].index=l;return t(s,p),s}return r.keys=function(a){return arguments.length?(n=typeof a=="function"?a:ci(Array.from(a)),r):n},r.value=function(a){return arguments.length?(i=typeof a=="function"?a:ci(+a),r):i},r.order=function(a){return arguments.length?(e=a==null?vR:typeof a=="function"?a:ci(Array.from(a)),r):e},r.offset=function(a){return arguments.length?(t=a??Sm,r):t},r}function Xne(n,e){if((i=n.length)>0){for(var t,i,r=0,a=n[0].length,s;r<a;++r){for(s=t=0;t<i;++t)s+=n[t][r][1]||0;if(s)for(t=0;t<i;++t)n[t][r][1]/=s}Sm(n,e)}}function Wne(n,e){if((r=n.length)>0){for(var t=0,i=n[e[0]],r,a=i.length;t<a;++t){for(var s=0,l=0;s<r;++s)l+=n[s][t][1]||0;i[t][1]+=i[t][0]=-l/2}Sm(n,e)}}function Yne(n,e){if(!(!((s=n.length)>0)||!((a=(r=n[e[0]]).length)>0))){for(var t=0,i=1,r,a,s;i<a;++i){for(var l=0,u=0,f=0;l<s;++l){for(var p=n[e[l]],v=p[i][1]||0,g=p[i-1][1]||0,b=(v-g)/2,_=0;_<l;++_){var M=n[e[_]],A=M[i][1]||0,S=M[i-1][1]||0;b+=A-S}u+=v,f+=b*v}r[i-1][1]+=r[i-1][0]=t,u&&(t-=f/u)}r[i-1][1]+=r[i-1][0]=t,Sm(n,e)}}function wy(n){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(n)}var Kne=["type","size","sizeType"];function gR(){return gR=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gR.apply(this,arguments)}function hU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function dU(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hU(Object(t),!0).forEach(function(i){Jne(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hU(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Jne(n,e,t){return e=Zne(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zne(n){var e=Qne(n,"string");return wy(e)=="symbol"?e:e+""}function Qne(n,e){if(wy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(wy(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $ne(n,e){if(n==null)return{};var t=eie(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function eie(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}var V6={symbolCircle:VB,symbolCross:_ne,symbolDiamond:Sne,symbolSquare:Mne,symbolStar:Cne,symbolTriangle:Rne,symbolWye:Bne},tie=Math.PI/180,nie=function(e){var t="symbol".concat(c1(e));return V6[t]||VB},iie=function(e,t,i){if(t==="area")return e;switch(i){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*tie;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.pow(Math.tan(r),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rie=function(e,t){V6["symbol".concat(c1(e))]=t},jB=function(e){var t=e.type,i=t===void 0?"circle":t,r=e.size,a=r===void 0?64:r,s=e.sizeType,l=s===void 0?"area":s,u=$ne(e,Kne),f=dU(dU({},u),{},{type:i,size:a,sizeType:l}),p=function(){var A=nie(i),S=Dne().type(A).size(iie(a,l,i));return S()},v=f.className,g=f.cx,b=f.cy,_=wn(f,!0);return g===+g&&b===+b&&a===+a?ut.createElement("path",gR({},_,{className:Ln("recharts-symbols",v),transform:"translate(".concat(g,", ").concat(b,")"),d:p()})):null};jB.registerSymbol=rie;function Mm(n){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(n)}function pU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function aie(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(t),!0).forEach(function(i){Cy(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pU(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function sie(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function oie(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,q6(i.key),i)}}function lie(n,e,t){return e&&oie(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function uie(n,e,t){return e=LA(e),cie(n,j6()?Reflect.construct(e,t||[],LA(n).constructor):e.apply(n,t))}function cie(n,e){if(e&&(Mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fie(n)}function fie(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function j6(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j6=function(){return!!n})()}function LA(n){return LA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},LA(n)}function hie(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&yR(n,e)}function yR(n,e){return yR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},yR(n,e)}function Cy(n,e,t){return e=q6(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function q6(n){var e=die(n,"string");return Mm(e)=="symbol"?e:e+""}function die(n,e){if(Mm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Mm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Vo=32,qB=function(n){function e(){return sie(this,e),uie(this,e,arguments)}return hie(e,n),lie(e,[{key:"renderIcon",value:function(i){var r=this.props.inactiveColor,a=Vo/2,s=Vo/6,l=Vo/3,u=i.inactive?r:i.color;if(i.type==="plainline")return F("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:a,x2:Vo,y2:a,className:"recharts-legend-icon"});if(i.type==="line")return F("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Vo,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(i.type==="rect")return F("path",{stroke:"none",fill:u,d:"M0,".concat(Vo/8,"h").concat(Vo,"v").concat(Vo*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(ut.isValidElement(i.legendIcon)){var f=aie({},i);return delete f.legendIcon,ut.cloneElement(i.legendIcon,f)}return F(jB,{fill:u,cx:a,cy:a,size:Vo,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,r=this.props,a=r.payload,s=r.iconSize,l=r.layout,u=r.formatter,f=r.inactiveColor,p={x:0,y:0,width:Vo,height:Vo},v={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(b,_){var M=b.formatter||u,A=Ln(Cy(Cy({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",b.inactive));if(b.type==="none")return null;var S=dn(b.value)?null:b.value;rc(!dn(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=b.inactive?f:b.color;return te("li",{className:A,style:v,...RA(i.props,b,_),children:[F(fR,{width:s,height:s,viewBox:p,style:g,children:i.renderIcon(b)}),F("span",{className:"recharts-legend-item-text",style:{color:w},children:M?M(S,b,_):S})]},"legend-item-".concat(_))})}},{key:"render",value:function(){var i=this.props,r=i.payload,a=i.layout,s=i.align;if(!r||!r.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return F("ul",{className:"recharts-default-legend",style:l,children:this.renderItems()})}}])}(Z.PureComponent);Cy(qB,"displayName","Legend");Cy(qB,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ZT,mU;function pie(){if(mU)return ZT;mU=1;var n=o1();function e(){this.__data__=new n,this.size=0}return ZT=e,ZT}var QT,vU;function mie(){if(vU)return QT;vU=1;function n(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}return QT=n,QT}var $T,gU;function vie(){if(gU)return $T;gU=1;function n(e){return this.__data__.get(e)}return $T=n,$T}var e2,yU;function gie(){if(yU)return e2;yU=1;function n(e){return this.__data__.has(e)}return e2=n,e2}var t2,bU;function yie(){if(bU)return t2;bU=1;var n=o1(),e=LB(),t=UB(),i=200;function r(a,s){var l=this.__data__;if(l instanceof n){var u=l.__data__;if(!e||u.length<i-1)return u.push([a,s]),this.size=++l.size,this;l=this.__data__=new t(u)}return l.set(a,s),this.size=l.size,this}return t2=r,t2}var n2,xU;function X6(){if(xU)return n2;xU=1;var n=o1(),e=pie(),t=mie(),i=vie(),r=gie(),a=yie();function s(l){var u=this.__data__=new n(l);this.size=u.size}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=i,s.prototype.has=r,s.prototype.set=a,n2=s,n2}var i2,_U;function bie(){if(_U)return i2;_U=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return i2=e,i2}var r2,AU;function xie(){if(AU)return r2;AU=1;function n(e){return this.__data__.has(e)}return r2=n,r2}var a2,SU;function W6(){if(SU)return a2;SU=1;var n=UB(),e=bie(),t=xie();function i(r){var a=-1,s=r==null?0:r.length;for(this.__data__=new n;++a<s;)this.add(r[a])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,a2=i,a2}var s2,MU;function Y6(){if(MU)return s2;MU=1;function n(e,t){for(var i=-1,r=e==null?0:e.length;++i<r;)if(t(e[i],i,e))return!0;return!1}return s2=n,s2}var o2,EU;function K6(){if(EU)return o2;EU=1;function n(e,t){return e.has(t)}return o2=n,o2}var l2,TU;function J6(){if(TU)return l2;TU=1;var n=W6(),e=Y6(),t=K6(),i=1,r=2;function a(s,l,u,f,p,v){var g=u&i,b=s.length,_=l.length;if(b!=_&&!(g&&_>b))return!1;var M=v.get(s),A=v.get(l);if(M&&A)return M==l&&A==s;var S=-1,w=!0,C=u&r?new n:void 0;for(v.set(s,l),v.set(l,s);++S<b;){var R=s[S],D=l[S];if(f)var N=g?f(D,R,S,l,s,v):f(R,D,S,s,l,v);if(N!==void 0){if(N)continue;w=!1;break}if(C){if(!e(l,function(L,z){if(!t(C,z)&&(R===L||p(R,L,u,f,v)))return C.push(z)})){w=!1;break}}else if(!(R===D||p(R,D,u,f,v))){w=!1;break}}return v.delete(s),v.delete(l),w}return l2=a,l2}var u2,wU;function _ie(){if(wU)return u2;wU=1;var n=su(),e=n.Uint8Array;return u2=e,u2}var c2,CU;function Aie(){if(CU)return c2;CU=1;function n(e){var t=-1,i=Array(e.size);return e.forEach(function(r,a){i[++t]=[a,r]}),i}return c2=n,c2}var f2,RU;function XB(){if(RU)return f2;RU=1;function n(e){var t=-1,i=Array(e.size);return e.forEach(function(r){i[++t]=r}),i}return f2=n,f2}var h2,OU;function Sie(){if(OU)return h2;OU=1;var n=M0(),e=_ie(),t=PB(),i=J6(),r=Aie(),a=XB(),s=1,l=2,u="[object Boolean]",f="[object Date]",p="[object Error]",v="[object Map]",g="[object Number]",b="[object RegExp]",_="[object Set]",M="[object String]",A="[object Symbol]",S="[object ArrayBuffer]",w="[object DataView]",C=n?n.prototype:void 0,R=C?C.valueOf:void 0;function D(N,L,z,P,U,H,J){switch(z){case w:if(N.byteLength!=L.byteLength||N.byteOffset!=L.byteOffset)return!1;N=N.buffer,L=L.buffer;case S:return!(N.byteLength!=L.byteLength||!H(new e(N),new e(L)));case u:case f:case g:return t(+N,+L);case p:return N.name==L.name&&N.message==L.message;case b:case M:return N==L+"";case v:var V=r;case _:var ne=P&s;if(V||(V=a),N.size!=L.size&&!ne)return!1;var ee=J.get(N);if(ee)return ee==L;P|=l,J.set(N,L);var Y=i(V(N),V(L),P,U,H,J);return J.delete(N),Y;case A:if(R)return R.call(N)==R.call(L)}return!1}return h2=D,h2}var d2,BU;function Z6(){if(BU)return d2;BU=1;function n(e,t){for(var i=-1,r=t.length,a=e.length;++i<r;)e[a+i]=t[i];return e}return d2=n,d2}var p2,DU;function Mie(){if(DU)return p2;DU=1;var n=Z6(),e=ns();function t(i,r,a){var s=r(i);return e(i)?s:n(s,a(i))}return p2=t,p2}var m2,NU;function Eie(){if(NU)return m2;NU=1;function n(e,t){for(var i=-1,r=e==null?0:e.length,a=0,s=[];++i<r;){var l=e[i];t(l,i,e)&&(s[a++]=l)}return s}return m2=n,m2}var v2,PU;function Tie(){if(PU)return v2;PU=1;function n(){return[]}return v2=n,v2}var g2,LU;function wie(){if(LU)return g2;LU=1;var n=Eie(),e=Tie(),t=Object.prototype,i=t.propertyIsEnumerable,r=Object.getOwnPropertySymbols,a=r?function(s){return s==null?[]:(s=Object(s),n(r(s),function(l){return i.call(s,l)}))}:e;return g2=a,g2}var y2,UU;function Cie(){if(UU)return y2;UU=1;function n(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}return y2=n,y2}var b2,IU;function Rie(){if(IU)return b2;IU=1;var n=mc(),e=vc(),t="[object Arguments]";function i(r){return e(r)&&n(r)==t}return b2=i,b2}var x2,FU;function WB(){if(FU)return x2;FU=1;var n=Rie(),e=vc(),t=Object.prototype,i=t.hasOwnProperty,r=t.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(s){return e(s)&&i.call(s,"callee")&&!r.call(s,"callee")};return x2=a,x2}var Jg={exports:{}},_2,zU;function Oie(){if(zU)return _2;zU=1;function n(){return!1}return _2=n,_2}Jg.exports;var HU;function Q6(){return HU||(HU=1,function(n,e){var t=su(),i=Oie(),r=e&&!e.nodeType&&e,a=r&&!0&&n&&!n.nodeType&&n,s=a&&a.exports===r,l=s?t.Buffer:void 0,u=l?l.isBuffer:void 0,f=u||i;n.exports=f}(Jg,Jg.exports)),Jg.exports}var A2,GU;function YB(){if(GU)return A2;GU=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(i,r){var a=typeof i;return r=r??n,!!r&&(a=="number"||a!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<r}return A2=t,A2}var S2,kU;function KB(){if(kU)return S2;kU=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return S2=e,S2}var M2,VU;function Bie(){if(VU)return M2;VU=1;var n=mc(),e=KB(),t=vc(),i="[object Arguments]",r="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",u="[object Function]",f="[object Map]",p="[object Number]",v="[object Object]",g="[object RegExp]",b="[object Set]",_="[object String]",M="[object WeakMap]",A="[object ArrayBuffer]",S="[object DataView]",w="[object Float32Array]",C="[object Float64Array]",R="[object Int8Array]",D="[object Int16Array]",N="[object Int32Array]",L="[object Uint8Array]",z="[object Uint8ClampedArray]",P="[object Uint16Array]",U="[object Uint32Array]",H={};H[w]=H[C]=H[R]=H[D]=H[N]=H[L]=H[z]=H[P]=H[U]=!0,H[i]=H[r]=H[A]=H[a]=H[S]=H[s]=H[l]=H[u]=H[f]=H[p]=H[v]=H[g]=H[b]=H[_]=H[M]=!1;function J(V){return t(V)&&e(V.length)&&!!H[n(V)]}return M2=J,M2}var E2,jU;function $6(){if(jU)return E2;jU=1;function n(e){return function(t){return e(t)}}return E2=n,E2}var Zg={exports:{}};Zg.exports;var qU;function Die(){return qU||(qU=1,function(n,e){var t=b6(),i=e&&!e.nodeType&&e,r=i&&!0&&n&&!n.nodeType&&n,a=r&&r.exports===i,s=a&&t.process,l=function(){try{var u=r&&r.require&&r.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();n.exports=l}(Zg,Zg.exports)),Zg.exports}var T2,XU;function e8(){if(XU)return T2;XU=1;var n=Bie(),e=$6(),t=Die(),i=t&&t.isTypedArray,r=i?e(i):n;return T2=r,T2}var w2,WU;function Nie(){if(WU)return w2;WU=1;var n=Cie(),e=WB(),t=ns(),i=Q6(),r=YB(),a=e8(),s=Object.prototype,l=s.hasOwnProperty;function u(f,p){var v=t(f),g=!v&&e(f),b=!v&&!g&&i(f),_=!v&&!g&&!b&&a(f),M=v||g||b||_,A=M?n(f.length,String):[],S=A.length;for(var w in f)(p||l.call(f,w))&&!(M&&(w=="length"||b&&(w=="offset"||w=="parent")||_&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||r(w,S)))&&A.push(w);return A}return w2=u,w2}var C2,YU;function Pie(){if(YU)return C2;YU=1;var n=Object.prototype;function e(t){var i=t&&t.constructor,r=typeof i=="function"&&i.prototype||n;return t===r}return C2=e,C2}var R2,KU;function t8(){if(KU)return R2;KU=1;function n(e,t){return function(i){return e(t(i))}}return R2=n,R2}var O2,JU;function Lie(){if(JU)return O2;JU=1;var n=t8(),e=n(Object.keys,Object);return O2=e,O2}var B2,ZU;function Uie(){if(ZU)return B2;ZU=1;var n=Pie(),e=Lie(),t=Object.prototype,i=t.hasOwnProperty;function r(a){if(!n(a))return e(a);var s=[];for(var l in Object(a))i.call(a,l)&&l!="constructor"&&s.push(l);return s}return B2=r,B2}var D2,QU;function C0(){if(QU)return D2;QU=1;var n=NB(),e=KB();function t(i){return i!=null&&e(i.length)&&!n(i)}return D2=t,D2}var N2,$U;function p1(){if($U)return N2;$U=1;var n=Nie(),e=Uie(),t=C0();function i(r){return t(r)?n(r):e(r)}return N2=i,N2}var P2,eI;function Iie(){if(eI)return P2;eI=1;var n=Mie(),e=wie(),t=p1();function i(r){return n(r,t,e)}return P2=i,P2}var L2,tI;function Fie(){if(tI)return L2;tI=1;var n=Iie(),e=1,t=Object.prototype,i=t.hasOwnProperty;function r(a,s,l,u,f,p){var v=l&e,g=n(a),b=g.length,_=n(s),M=_.length;if(b!=M&&!v)return!1;for(var A=b;A--;){var S=g[A];if(!(v?S in s:i.call(s,S)))return!1}var w=p.get(a),C=p.get(s);if(w&&C)return w==s&&C==a;var R=!0;p.set(a,s),p.set(s,a);for(var D=v;++A<b;){S=g[A];var N=a[S],L=s[S];if(u)var z=v?u(L,N,S,s,a,p):u(N,L,S,a,s,p);if(!(z===void 0?N===L||f(N,L,l,u,p):z)){R=!1;break}D||(D=S=="constructor")}if(R&&!D){var P=a.constructor,U=s.constructor;P!=U&&"constructor"in a&&"constructor"in s&&!(typeof P=="function"&&P instanceof P&&typeof U=="function"&&U instanceof U)&&(R=!1)}return p.delete(a),p.delete(s),R}return L2=r,L2}var U2,nI;function zie(){if(nI)return U2;nI=1;var n=Od(),e=su(),t=n(e,"DataView");return U2=t,U2}var I2,iI;function Hie(){if(iI)return I2;iI=1;var n=Od(),e=su(),t=n(e,"Promise");return I2=t,I2}var F2,rI;function n8(){if(rI)return F2;rI=1;var n=Od(),e=su(),t=n(e,"Set");return F2=t,F2}var z2,aI;function Gie(){if(aI)return z2;aI=1;var n=Od(),e=su(),t=n(e,"WeakMap");return z2=t,z2}var H2,sI;function kie(){if(sI)return H2;sI=1;var n=zie(),e=LB(),t=Hie(),i=n8(),r=Gie(),a=mc(),s=x6(),l="[object Map]",u="[object Object]",f="[object Promise]",p="[object Set]",v="[object WeakMap]",g="[object DataView]",b=s(n),_=s(e),M=s(t),A=s(i),S=s(r),w=a;return(n&&w(new n(new ArrayBuffer(1)))!=g||e&&w(new e)!=l||t&&w(t.resolve())!=f||i&&w(new i)!=p||r&&w(new r)!=v)&&(w=function(C){var R=a(C),D=R==u?C.constructor:void 0,N=D?s(D):"";if(N)switch(N){case b:return g;case _:return l;case M:return f;case A:return p;case S:return v}return R}),H2=w,H2}var G2,oI;function Vie(){if(oI)return G2;oI=1;var n=X6(),e=J6(),t=Sie(),i=Fie(),r=kie(),a=ns(),s=Q6(),l=e8(),u=1,f="[object Arguments]",p="[object Array]",v="[object Object]",g=Object.prototype,b=g.hasOwnProperty;function _(M,A,S,w,C,R){var D=a(M),N=a(A),L=D?p:r(M),z=N?p:r(A);L=L==f?v:L,z=z==f?v:z;var P=L==v,U=z==v,H=L==z;if(H&&s(M)){if(!s(A))return!1;D=!0,P=!1}if(H&&!P)return R||(R=new n),D||l(M)?e(M,A,S,w,C,R):t(M,A,L,S,w,C,R);if(!(S&u)){var J=P&&b.call(M,"__wrapped__"),V=U&&b.call(A,"__wrapped__");if(J||V){var ne=J?M.value():M,ee=V?A.value():A;return R||(R=new n),C(ne,ee,S,w,R)}}return H?(R||(R=new n),i(M,A,S,w,C,R)):!1}return G2=_,G2}var k2,lI;function JB(){if(lI)return k2;lI=1;var n=Vie(),e=vc();function t(i,r,a,s,l){return i===r?!0:i==null||r==null||!e(i)&&!e(r)?i!==i&&r!==r:n(i,r,a,s,t,l)}return k2=t,k2}var V2,uI;function jie(){if(uI)return V2;uI=1;var n=X6(),e=JB(),t=1,i=2;function r(a,s,l,u){var f=l.length,p=f,v=!u;if(a==null)return!p;for(a=Object(a);f--;){var g=l[f];if(v&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++f<p;){g=l[f];var b=g[0],_=a[b],M=g[1];if(v&&g[2]){if(_===void 0&&!(b in a))return!1}else{var A=new n;if(u)var S=u(_,M,b,a,s,A);if(!(S===void 0?e(M,_,t|i,u,A):S))return!1}}return!0}return V2=r,V2}var j2,cI;function i8(){if(cI)return j2;cI=1;var n=Rf();function e(t){return t===t&&!n(t)}return j2=e,j2}var q2,fI;function qie(){if(fI)return q2;fI=1;var n=i8(),e=p1();function t(i){for(var r=e(i),a=r.length;a--;){var s=r[a],l=i[s];r[a]=[s,l,n(l)]}return r}return q2=t,q2}var X2,hI;function r8(){if(hI)return X2;hI=1;function n(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}return X2=n,X2}var W2,dI;function Xie(){if(dI)return W2;dI=1;var n=jie(),e=qie(),t=r8();function i(r){var a=e(r);return a.length==1&&a[0][2]?t(a[0][0],a[0][1]):function(s){return s===r||n(s,r,a)}}return W2=i,W2}var Y2,pI;function Wie(){if(pI)return Y2;pI=1;function n(e,t){return e!=null&&t in Object(e)}return Y2=n,Y2}var K2,mI;function Yie(){if(mI)return K2;mI=1;var n=S6(),e=WB(),t=ns(),i=YB(),r=KB(),a=u1();function s(l,u,f){u=n(u,l);for(var p=-1,v=u.length,g=!1;++p<v;){var b=a(u[p]);if(!(g=l!=null&&f(l,b)))break;l=l[b]}return g||++p!=v?g:(v=l==null?0:l.length,!!v&&r(v)&&i(b,v)&&(t(l)||e(l)))}return K2=s,K2}var J2,vI;function Kie(){if(vI)return J2;vI=1;var n=Wie(),e=Yie();function t(i,r){return i!=null&&e(i,r,n)}return J2=t,J2}var Z2,gI;function Jie(){if(gI)return Z2;gI=1;var n=JB(),e=M6(),t=Kie(),i=DB(),r=i8(),a=r8(),s=u1(),l=1,u=2;function f(p,v){return i(p)&&r(v)?a(s(p),v):function(g){var b=e(g,p);return b===void 0&&b===v?t(g,p):n(v,b,l|u)}}return Z2=f,Z2}var Q2,yI;function av(){if(yI)return Q2;yI=1;function n(e){return e}return Q2=n,Q2}var $2,bI;function Zie(){if(bI)return $2;bI=1;function n(e){return function(t){return t==null?void 0:t[e]}}return $2=n,$2}var ew,xI;function Qie(){if(xI)return ew;xI=1;var n=FB();function e(t){return function(i){return n(i,t)}}return ew=e,ew}var tw,_I;function $ie(){if(_I)return tw;_I=1;var n=Zie(),e=Qie(),t=DB(),i=u1();function r(a){return t(a)?n(i(a)):e(a)}return tw=r,tw}var nw,AI;function Of(){if(AI)return nw;AI=1;var n=Xie(),e=Jie(),t=av(),i=ns(),r=$ie();function a(s){return typeof s=="function"?s:s==null?t:typeof s=="object"?i(s)?e(s[0],s[1]):n(s):r(s)}return nw=a,nw}var iw,SI;function a8(){if(SI)return iw;SI=1;function n(e,t,i,r){for(var a=e.length,s=i+(r?1:-1);r?s--:++s<a;)if(t(e[s],s,e))return s;return-1}return iw=n,iw}var rw,MI;function ere(){if(MI)return rw;MI=1;function n(e){return e!==e}return rw=n,rw}var aw,EI;function tre(){if(EI)return aw;EI=1;function n(e,t,i){for(var r=i-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}return aw=n,aw}var sw,TI;function nre(){if(TI)return sw;TI=1;var n=a8(),e=ere(),t=tre();function i(r,a,s){return a===a?t(r,a,s):n(r,e,s)}return sw=i,sw}var ow,wI;function ire(){if(wI)return ow;wI=1;var n=nre();function e(t,i){var r=t==null?0:t.length;return!!r&&n(t,i,0)>-1}return ow=e,ow}var lw,CI;function rre(){if(CI)return lw;CI=1;function n(e,t,i){for(var r=-1,a=e==null?0:e.length;++r<a;)if(i(t,e[r]))return!0;return!1}return lw=n,lw}var uw,RI;function are(){if(RI)return uw;RI=1;function n(){}return uw=n,uw}var cw,OI;function sre(){if(OI)return cw;OI=1;var n=n8(),e=are(),t=XB(),i=1/0,r=n&&1/t(new n([,-0]))[1]==i?function(a){return new n(a)}:e;return cw=r,cw}var fw,BI;function ore(){if(BI)return fw;BI=1;var n=W6(),e=ire(),t=rre(),i=K6(),r=sre(),a=XB(),s=200;function l(u,f,p){var v=-1,g=e,b=u.length,_=!0,M=[],A=M;if(p)_=!1,g=t;else if(b>=s){var S=f?null:r(u);if(S)return a(S);_=!1,g=i,A=new n}else A=f?[]:M;e:for(;++v<b;){var w=u[v],C=f?f(w):w;if(w=p||w!==0?w:0,_&&C===C){for(var R=A.length;R--;)if(A[R]===C)continue e;f&&A.push(C),M.push(w)}else g(A,C,p)||(A!==M&&A.push(C),M.push(w))}return M}return fw=l,fw}var hw,DI;function lre(){if(DI)return hw;DI=1;var n=Of(),e=ore();function t(i,r){return i&&i.length?e(i,n(r,2)):[]}return hw=t,hw}var ure=lre();const NI=Jn(ure);function s8(n,e,t){return e===!0?NI(n,t):dn(e)?NI(n,e):n}function Em(n){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(n)}var cre=["ref"];function PI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Vu(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(t),!0).forEach(function(i){m1(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PI(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function fre(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function LI(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,l8(i.key),i)}}function hre(n,e,t){return e&&LI(n.prototype,e),t&&LI(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function dre(n,e,t){return e=UA(e),pre(n,o8()?Reflect.construct(e,t||[],UA(n).constructor):e.apply(n,t))}function pre(n,e){if(e&&(Em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mre(n)}function mre(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function o8(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o8=function(){return!!n})()}function UA(n){return UA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},UA(n)}function vre(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&bR(n,e)}function bR(n,e){return bR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},bR(n,e)}function m1(n,e,t){return e=l8(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function l8(n){var e=gre(n,"string");return Em(e)=="symbol"?e:e+""}function gre(n,e){if(Em(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Em(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function yre(n,e){if(n==null)return{};var t=bre(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function bre(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function xre(n){return n.value}function _re(n,e){if(ut.isValidElement(n))return ut.cloneElement(n,e);if(typeof n=="function")return ut.createElement(n,e);e.ref;var t=yre(e,cre);return F(qB,{...t})}var UI=1,od=function(n){function e(){var t;fre(this,e);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=dre(this,e,[].concat(r)),m1(t,"lastBoundingBox",{width:-1,height:-1}),t}return vre(e,n),hre(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();return i.height=this.wrapperNode.offsetHeight,i.width=this.wrapperNode.offsetWidth,i}return null}},{key:"updateBBox",value:function(){var i=this.props.onBBoxUpdate,r=this.getBBox();r?(Math.abs(r.width-this.lastBoundingBox.width)>UI||Math.abs(r.height-this.lastBoundingBox.height)>UI)&&(this.lastBoundingBox.width=r.width,this.lastBoundingBox.height=r.height,i&&i(r)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,i&&i(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(i){var r=this.props,a=r.layout,s=r.align,l=r.verticalAlign,u=r.margin,f=r.chartWidth,p=r.chartHeight,v,g;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(s==="center"&&a==="vertical"){var b=this.getBBoxSnapshot();v={left:((f||0)-b.width)/2}}else v=s==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(l==="middle"){var _=this.getBBoxSnapshot();g={top:((p||0)-_.height)/2}}else g=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Vu(Vu({},v),g)}},{key:"render",value:function(){var i=this,r=this.props,a=r.content,s=r.width,l=r.height,u=r.wrapperStyle,f=r.payloadUniqBy,p=r.payload,v=Vu(Vu({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return F("div",{className:"recharts-legend-wrapper",style:v,ref:function(b){i.wrapperNode=b},children:_re(a,Vu(Vu({},this.props),{},{payload:s8(p,f,xre)}))})}}],[{key:"getWithHeight",value:function(i,r){var a=Vu(Vu({},this.defaultProps),i.props),s=a.layout;return s==="vertical"&&mt(i.props.height)?{height:i.props.height}:s==="horizontal"?{width:i.props.width||r}:null}}])}(Z.PureComponent);m1(od,"displayName","Legend");m1(od,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var dw,II;function Are(){if(II)return dw;II=1;var n=M0(),e=WB(),t=ns(),i=n?n.isConcatSpreadable:void 0;function r(a){return t(a)||e(a)||!!(i&&a&&a[i])}return dw=r,dw}var pw,FI;function u8(){if(FI)return pw;FI=1;var n=Z6(),e=Are();function t(i,r,a,s,l){var u=-1,f=i.length;for(a||(a=e),l||(l=[]);++u<f;){var p=i[u];r>0&&a(p)?r>1?t(p,r-1,a,s,l):n(l,p):s||(l[l.length]=p)}return l}return pw=t,pw}var mw,zI;function Sre(){if(zI)return mw;zI=1;function n(e){return function(t,i,r){for(var a=-1,s=Object(t),l=r(t),u=l.length;u--;){var f=l[e?u:++a];if(i(s[f],f,s)===!1)break}return t}}return mw=n,mw}var vw,HI;function Mre(){if(HI)return vw;HI=1;var n=Sre(),e=n();return vw=e,vw}var gw,GI;function c8(){if(GI)return gw;GI=1;var n=Mre(),e=p1();function t(i,r){return i&&n(i,r,e)}return gw=t,gw}var yw,kI;function Ere(){if(kI)return yw;kI=1;var n=C0();function e(t,i){return function(r,a){if(r==null)return r;if(!n(r))return t(r,a);for(var s=r.length,l=i?s:-1,u=Object(r);(i?l--:++l<s)&&a(u[l],l,u)!==!1;);return r}}return yw=e,yw}var bw,VI;function ZB(){if(VI)return bw;VI=1;var n=c8(),e=Ere(),t=e(n);return bw=t,bw}var xw,jI;function f8(){if(jI)return xw;jI=1;var n=ZB(),e=C0();function t(i,r){var a=-1,s=e(i)?Array(i.length):[];return n(i,function(l,u,f){s[++a]=r(l,u,f)}),s}return xw=t,xw}var _w,qI;function Tre(){if(qI)return _w;qI=1;function n(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}return _w=n,_w}var Aw,XI;function wre(){if(XI)return Aw;XI=1;var n=iv();function e(t,i){if(t!==i){var r=t!==void 0,a=t===null,s=t===t,l=n(t),u=i!==void 0,f=i===null,p=i===i,v=n(i);if(!f&&!v&&!l&&t>i||l&&u&&p&&!f&&!v||a&&u&&p||!r&&p||!s)return 1;if(!a&&!l&&!v&&t<i||v&&r&&s&&!a&&!l||f&&r&&s||!u&&s||!p)return-1}return 0}return Aw=e,Aw}var Sw,WI;function Cre(){if(WI)return Sw;WI=1;var n=wre();function e(t,i,r){for(var a=-1,s=t.criteria,l=i.criteria,u=s.length,f=r.length;++a<u;){var p=n(s[a],l[a]);if(p){if(a>=f)return p;var v=r[a];return p*(v=="desc"?-1:1)}}return t.index-i.index}return Sw=e,Sw}var Mw,YI;function Rre(){if(YI)return Mw;YI=1;var n=IB(),e=FB(),t=Of(),i=f8(),r=Tre(),a=$6(),s=Cre(),l=av(),u=ns();function f(p,v,g){v.length?v=n(v,function(M){return u(M)?function(A){return e(A,M.length===1?M[0]:M)}:M}):v=[l];var b=-1;v=n(v,a(t));var _=i(p,function(M,A,S){var w=n(v,function(C){return C(M)});return{criteria:w,index:++b,value:M}});return r(_,function(M,A){return s(M,A,g)})}return Mw=f,Mw}var Ew,KI;function Ore(){if(KI)return Ew;KI=1;function n(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}return Ew=n,Ew}var Tw,JI;function Bre(){if(JI)return Tw;JI=1;var n=Ore(),e=Math.max;function t(i,r,a){return r=e(r===void 0?i.length-1:r,0),function(){for(var s=arguments,l=-1,u=e(s.length-r,0),f=Array(u);++l<u;)f[l]=s[r+l];l=-1;for(var p=Array(r+1);++l<r;)p[l]=s[l];return p[r]=a(f),n(i,this,p)}}return Tw=t,Tw}var ww,ZI;function Dre(){if(ZI)return ww;ZI=1;function n(e){return function(){return e}}return ww=n,ww}var Cw,QI;function h8(){if(QI)return Cw;QI=1;var n=Od(),e=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}}();return Cw=e,Cw}var Rw,$I;function Nre(){if($I)return Rw;$I=1;var n=Dre(),e=h8(),t=av(),i=e?function(r,a){return e(r,"toString",{configurable:!0,enumerable:!1,value:n(a),writable:!0})}:t;return Rw=i,Rw}var Ow,eF;function Pre(){if(eF)return Ow;eF=1;var n=800,e=16,t=Date.now;function i(r){var a=0,s=0;return function(){var l=t(),u=e-(l-s);if(s=l,u>0){if(++a>=n)return arguments[0]}else a=0;return r.apply(void 0,arguments)}}return Ow=i,Ow}var Bw,tF;function Lre(){if(tF)return Bw;tF=1;var n=Nre(),e=Pre(),t=e(n);return Bw=t,Bw}var Dw,nF;function Ure(){if(nF)return Dw;nF=1;var n=av(),e=Bre(),t=Lre();function i(r,a){return t(e(r,a,n),r+"")}return Dw=i,Dw}var Nw,iF;function v1(){if(iF)return Nw;iF=1;var n=PB(),e=C0(),t=YB(),i=Rf();function r(a,s,l){if(!i(l))return!1;var u=typeof s;return(u=="number"?e(l)&&t(s,l.length):u=="string"&&s in l)?n(l[s],a):!1}return Nw=r,Nw}var Pw,rF;function Ire(){if(rF)return Pw;rF=1;var n=u8(),e=Rre(),t=Ure(),i=v1(),r=t(function(a,s){if(a==null)return[];var l=s.length;return l>1&&i(a,s[0],s[1])?s=[]:l>2&&i(s[0],s[1],s[2])&&(s=[s[0]]),e(a,n(s,1),[])});return Pw=r,Pw}var Fre=Ire();const QB=Jn(Fre);function Ry(n){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(n)}function xR(){return xR=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xR.apply(this,arguments)}function zre(n,e){return Vre(n)||kre(n,e)||Gre(n,e)||Hre()}function Hre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gre(n,e){if(n){if(typeof n=="string")return aF(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return aF(n,e)}}function aF(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function kre(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,a,s,l=[],u=!0,f=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(i=a.call(t)).done)&&(l.push(i.value),l.length!==e);u=!0);}catch(p){f=!0,r=p}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw r}}return l}}function Vre(n){if(Array.isArray(n))return n}function sF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Lw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sF(Object(t),!0).forEach(function(i){jre(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function jre(n,e,t){return e=qre(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qre(n){var e=Xre(n,"string");return Ry(e)=="symbol"?e:e+""}function Xre(n,e){if(Ry(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Ry(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Wre(n){return Array.isArray(n)&&fr(n[0])&&fr(n[1])?n.join(" ~ "):n}var Yre=function(e){var t=e.separator,i=t===void 0?" : ":t,r=e.contentStyle,a=r===void 0?{}:r,s=e.itemStyle,l=s===void 0?{}:s,u=e.labelStyle,f=u===void 0?{}:u,p=e.payload,v=e.formatter,g=e.itemSorter,b=e.wrapperClassName,_=e.labelClassName,M=e.label,A=e.labelFormatter,S=e.accessibilityLayer,w=S===void 0?!1:S,C=function(){if(p&&p.length){var J={padding:0,margin:0},V=(g?QB(p,g):p).map(function(ne,ee){if(ne.type==="none")return null;var Y=Lw({display:"block",paddingTop:4,paddingBottom:4,color:ne.color||"#000"},l),re=ne.formatter||v||Wre,ie=ne.value,he=ne.name,q=ie,se=he;if(re&&q!=null&&se!=null){var pe=re(ie,he,ne,ee,p);if(Array.isArray(pe)){var Se=zre(pe,2);q=Se[0],se=Se[1]}else q=pe}return ut.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:Y},fr(se)?ut.createElement("span",{className:"recharts-tooltip-item-name"},se):null,fr(se)?ut.createElement("span",{className:"recharts-tooltip-item-separator"},i):null,ut.createElement("span",{className:"recharts-tooltip-item-value"},q),ut.createElement("span",{className:"recharts-tooltip-item-unit"},ne.unit||""))});return ut.createElement("ul",{className:"recharts-tooltip-item-list",style:J},V)}return null},R=Lw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),D=Lw({margin:0},f),N=!An(M),L=N?M:"",z=Ln("recharts-default-tooltip",b),P=Ln("recharts-tooltip-label",_);N&&A&&p!==void 0&&p!==null&&(L=A(M,p));var U=w?{role:"status","aria-live":"assertive"}:{};return ut.createElement("div",xR({className:z,style:R},U),ut.createElement("p",{className:P,style:D},ut.isValidElement(L)?L:"".concat(L)),C())};function Oy(n){"@babel/helpers - typeof";return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(n)}function h_(n,e,t){return e=Kre(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Kre(n){var e=Jre(n,"string");return Oy(e)=="symbol"?e:e+""}function Jre(n,e){if(Oy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Oy(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var zg="recharts-tooltip-wrapper",Zre={visibility:"hidden"};function Qre(n){var e=n.coordinate,t=n.translateX,i=n.translateY;return Ln(zg,h_(h_(h_(h_({},"".concat(zg,"-right"),mt(t)&&e&&mt(e.x)&&t>=e.x),"".concat(zg,"-left"),mt(t)&&e&&mt(e.x)&&t<e.x),"".concat(zg,"-bottom"),mt(i)&&e&&mt(e.y)&&i>=e.y),"".concat(zg,"-top"),mt(i)&&e&&mt(e.y)&&i<e.y))}function oF(n){var e=n.allowEscapeViewBox,t=n.coordinate,i=n.key,r=n.offsetTopLeft,a=n.position,s=n.reverseDirection,l=n.tooltipDimension,u=n.viewBox,f=n.viewBoxDimension;if(a&&mt(a[i]))return a[i];var p=t[i]-l-r,v=t[i]+r;if(e[i])return s[i]?p:v;if(s[i]){var g=p,b=u[i];return g<b?Math.max(v,u[i]):Math.max(p,u[i])}var _=v+l,M=u[i]+f;return _>M?Math.max(p,u[i]):Math.max(v,u[i])}function $re(n){var e=n.translateX,t=n.translateY,i=n.useTranslate3d;return{transform:i?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function eae(n){var e=n.allowEscapeViewBox,t=n.coordinate,i=n.offsetTopLeft,r=n.position,a=n.reverseDirection,s=n.tooltipBox,l=n.useTranslate3d,u=n.viewBox,f,p,v;return s.height>0&&s.width>0&&t?(p=oF({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:i,position:r,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),v=oF({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:i,position:r,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),f=$re({translateX:p,translateY:v,useTranslate3d:l})):f=Zre,{cssProperties:f,cssClasses:Qre({translateX:p,translateY:v,coordinate:t})}}function Tm(n){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(n)}function lF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function uF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lF(Object(t),!0).forEach(function(i){AR(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function tae(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function nae(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,p8(i.key),i)}}function iae(n,e,t){return e&&nae(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function rae(n,e,t){return e=IA(e),aae(n,d8()?Reflect.construct(e,t||[],IA(n).constructor):e.apply(n,t))}function aae(n,e){if(e&&(Tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sae(n)}function sae(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function d8(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d8=function(){return!!n})()}function IA(n){return IA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},IA(n)}function oae(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_R(n,e)}function _R(n,e){return _R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},_R(n,e)}function AR(n,e,t){return e=p8(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function p8(n){var e=lae(n,"string");return Tm(e)=="symbol"?e:e+""}function lae(n,e){if(Tm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Tm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var cF=1,uae=function(n){function e(){var t;tae(this,e);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=rae(this,e,[].concat(r)),AR(t,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),AR(t,"handleKeyDown",function(s){if(s.key==="Escape"){var l,u,f,p;t.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=t.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(f=(p=t.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),t}return oae(e,n),iae(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.state.lastBoundingBox.width)>cF||Math.abs(i.height-this.state.lastBoundingBox.height)>cF)&&this.setState({lastBoundingBox:{width:i.width,height:i.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var i,r;this.props.active&&this.updateBBox(),this.state.dismissed&&(((i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var i=this,r=this.props,a=r.active,s=r.allowEscapeViewBox,l=r.animationDuration,u=r.animationEasing,f=r.children,p=r.coordinate,v=r.hasPayload,g=r.isAnimationActive,b=r.offset,_=r.position,M=r.reverseDirection,A=r.useTranslate3d,S=r.viewBox,w=r.wrapperStyle,C=eae({allowEscapeViewBox:s,coordinate:p,offsetTopLeft:b,position:_,reverseDirection:M,tooltipBox:this.state.lastBoundingBox,useTranslate3d:A,viewBox:S}),R=C.cssClasses,D=C.cssProperties,N=uF(uF({transition:g&&a?"transform ".concat(l,"ms ").concat(u):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&v?"visible":"hidden",position:"absolute",top:0,left:0},w);return F("div",{tabIndex:-1,className:R,style:N,ref:function(z){i.wrapperNode=z},children:f})}}])}(Z.PureComponent),cae=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},sv={isSsr:cae()};function wm(n){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(n)}function fF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function hF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(t),!0).forEach(function(i){$B(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function fae(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function hae(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,v8(i.key),i)}}function dae(n,e,t){return e&&hae(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function pae(n,e,t){return e=FA(e),mae(n,m8()?Reflect.construct(e,t||[],FA(n).constructor):e.apply(n,t))}function mae(n,e){if(e&&(wm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vae(n)}function vae(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function m8(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m8=function(){return!!n})()}function FA(n){return FA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},FA(n)}function gae(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&SR(n,e)}function SR(n,e){return SR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},SR(n,e)}function $B(n,e,t){return e=v8(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function v8(n){var e=yae(n,"string");return wm(e)=="symbol"?e:e+""}function yae(n,e){if(wm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(wm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function bae(n){return n.dataKey}function xae(n,e){return ut.isValidElement(n)?ut.cloneElement(n,e):typeof n=="function"?ut.createElement(n,e):F(Yre,{...e})}var Xl=function(n){function e(){return fae(this,e),pae(this,e,arguments)}return gae(e,n),dae(e,[{key:"render",value:function(){var i=this,r=this.props,a=r.active,s=r.allowEscapeViewBox,l=r.animationDuration,u=r.animationEasing,f=r.content,p=r.coordinate,v=r.filterNull,g=r.isAnimationActive,b=r.offset,_=r.payload,M=r.payloadUniqBy,A=r.position,S=r.reverseDirection,w=r.useTranslate3d,C=r.viewBox,R=r.wrapperStyle,D=_??[];v&&D.length&&(D=s8(_.filter(function(L){return L.value!=null&&(L.hide!==!0||i.props.includeHidden)}),M,bae));var N=D.length>0;return F(uae,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:g,active:a,coordinate:p,hasPayload:N,offset:b,position:A,reverseDirection:S,useTranslate3d:w,viewBox:C,wrapperStyle:R,children:xae(f,hF(hF({},this.props),{},{payload:D}))})}}])}(Z.PureComponent);$B(Xl,"displayName","Tooltip");$B(Xl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!sv.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Uw,dF;function _ae(){if(dF)return Uw;dF=1;var n=su(),e=function(){return n.Date.now()};return Uw=e,Uw}var Iw,pF;function Aae(){if(pF)return Iw;pF=1;var n=/\s/;function e(t){for(var i=t.length;i--&&n.test(t.charAt(i)););return i}return Iw=e,Iw}var Fw,mF;function Sae(){if(mF)return Fw;mF=1;var n=Aae(),e=/^\s+/;function t(i){return i&&i.slice(0,n(i)+1).replace(e,"")}return Fw=t,Fw}var zw,vF;function g8(){if(vF)return zw;vF=1;var n=Sae(),e=Rf(),t=iv(),i=NaN,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function u(f){if(typeof f=="number")return f;if(t(f))return i;if(e(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=e(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=n(f);var v=a.test(f);return v||s.test(f)?l(f.slice(2),v?2:8):r.test(f)?i:+f}return zw=u,zw}var Hw,gF;function Mae(){if(gF)return Hw;gF=1;var n=Rf(),e=_ae(),t=g8(),i="Expected a function",r=Math.max,a=Math.min;function s(l,u,f){var p,v,g,b,_,M,A=0,S=!1,w=!1,C=!0;if(typeof l!="function")throw new TypeError(i);u=t(u)||0,n(f)&&(S=!!f.leading,w="maxWait"in f,g=w?r(t(f.maxWait)||0,u):g,C="trailing"in f?!!f.trailing:C);function R(V){var ne=p,ee=v;return p=v=void 0,A=V,b=l.apply(ee,ne),b}function D(V){return A=V,_=setTimeout(z,u),S?R(V):b}function N(V){var ne=V-M,ee=V-A,Y=u-ne;return w?a(Y,g-ee):Y}function L(V){var ne=V-M,ee=V-A;return M===void 0||ne>=u||ne<0||w&&ee>=g}function z(){var V=e();if(L(V))return P(V);_=setTimeout(z,N(V))}function P(V){return _=void 0,C&&p?R(V):(p=v=void 0,b)}function U(){_!==void 0&&clearTimeout(_),A=0,p=M=v=_=void 0}function H(){return _===void 0?b:P(e())}function J(){var V=e(),ne=L(V);if(p=arguments,v=this,M=V,ne){if(_===void 0)return D(M);if(w)return clearTimeout(_),_=setTimeout(z,u),R(M)}return _===void 0&&(_=setTimeout(z,u)),b}return J.cancel=U,J.flush=H,J}return Hw=s,Hw}var Gw,yF;function Eae(){if(yF)return Gw;yF=1;var n=Mae(),e=Rf(),t="Expected a function";function i(r,a,s){var l=!0,u=!0;if(typeof r!="function")throw new TypeError(t);return e(s)&&(l="leading"in s?!!s.leading:l,u="trailing"in s?!!s.trailing:u),n(r,a,{leading:l,maxWait:a,trailing:u})}return Gw=i,Gw}var Tae=Eae();const y8=Jn(Tae);function By(n){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(n)}function bF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function d_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bF(Object(t),!0).forEach(function(i){wae(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function wae(n,e,t){return e=Cae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Cae(n){var e=Rae(n,"string");return By(e)=="symbol"?e:e+""}function Rae(n,e){if(By(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(By(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Oae(n,e){return Pae(n)||Nae(n,e)||Dae(n,e)||Bae()}function Bae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dae(n,e){if(n){if(typeof n=="string")return xF(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xF(n,e)}}function xF(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Nae(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,a,s,l=[],u=!0,f=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(i=a.call(t)).done)&&(l.push(i.value),l.length!==e);u=!0);}catch(p){f=!0,r=p}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw r}}return l}}function Pae(n){if(Array.isArray(n))return n}var Lae=Z.forwardRef(function(n,e){var t=n.aspect,i=n.initialDimension,r=i===void 0?{width:-1,height:-1}:i,a=n.width,s=a===void 0?"100%":a,l=n.height,u=l===void 0?"100%":l,f=n.minWidth,p=f===void 0?0:f,v=n.minHeight,g=n.maxHeight,b=n.children,_=n.debounce,M=_===void 0?0:_,A=n.id,S=n.className,w=n.onResize,C=n.style,R=C===void 0?{}:C,D=Z.useRef(null),N=Z.useRef();N.current=w,Z.useImperativeHandle(e,function(){return Object.defineProperty(D.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),D.current},configurable:!0})});var L=Z.useState({containerWidth:r.width,containerHeight:r.height}),z=Oae(L,2),P=z[0],U=z[1],H=Z.useCallback(function(V,ne){U(function(ee){var Y=Math.round(V),re=Math.round(ne);return ee.containerWidth===Y&&ee.containerHeight===re?ee:{containerWidth:Y,containerHeight:re}})},[]);Z.useEffect(function(){var V=function(he){var q,se=he[0].contentRect,pe=se.width,Se=se.height;H(pe,Se),(q=N.current)===null||q===void 0||q.call(N,pe,Se)};M>0&&(V=y8(V,M,{trailing:!0,leading:!1}));var ne=new ResizeObserver(V),ee=D.current.getBoundingClientRect(),Y=ee.width,re=ee.height;return H(Y,re),ne.observe(D.current),function(){ne.disconnect()}},[H,M]);var J=Z.useMemo(function(){var V=P.containerWidth,ne=P.containerHeight;if(V<0||ne<0)return null;rc(Qh(s)||Qh(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,u),rc(!t||t>0,"The aspect(%s) must be greater than zero.",t);var ee=Qh(s)?V:s,Y=Qh(u)?ne:u;t&&t>0&&(ee?Y=ee/t:Y&&(ee=Y*t),g&&Y>g&&(Y=g)),rc(ee>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,Y,s,u,p,v,t);var re=!Array.isArray(b)&&ic(b.type).endsWith("Chart");return ut.Children.map(b,function(ie){return ut.isValidElement(ie)?Z.cloneElement(ie,d_({width:ee,height:Y},re?{style:d_({height:"100%",width:"100%",maxHeight:Y,maxWidth:ee},ie.props.style)}:{})):ie})},[t,b,u,g,v,p,P,s]);return F("div",{id:A?"".concat(A):void 0,className:Ln("recharts-responsive-container",S),style:d_(d_({},R),{},{width:s,height:u,minWidth:p,minHeight:v,maxHeight:g}),ref:D,children:J})}),b8=function(e){return null};b8.displayName="Cell";function Dy(n){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(n)}function _F(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function MR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_F(Object(t),!0).forEach(function(i){Uae(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_F(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Uae(n,e,t){return e=Iae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Iae(n){var e=Fae(n,"string");return Dy(e)=="symbol"?e:e+""}function Fae(n,e){if(Dy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Dy(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Qp={widthCache:{},cacheCount:0},zae=2e3,Hae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AF="recharts_measurement_span";function Gae(n){var e=MR({},n);return Object.keys(e).forEach(function(t){e[t]||delete e[t]}),e}var uy=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||sv.isSsr)return{width:0,height:0};var i=Gae(t),r=JSON.stringify({text:e,copyStyle:i});if(Qp.widthCache[r])return Qp.widthCache[r];try{var a=document.getElementById(AF);a||(a=document.createElement("span"),a.setAttribute("id",AF),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=MR(MR({},Hae),i);Object.assign(a.style,s),a.textContent="".concat(e);var l=a.getBoundingClientRect(),u={width:l.width,height:l.height};return Qp.widthCache[r]=u,++Qp.cacheCount>zae&&(Qp.cacheCount=0,Qp.widthCache={}),u}catch{return{width:0,height:0}}},kae=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ny(n){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(n)}function zA(n,e){return Xae(n)||qae(n,e)||jae(n,e)||Vae()}function Vae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jae(n,e){if(n){if(typeof n=="string")return SF(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return SF(n,e)}}function SF(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function qae(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,a,s,l=[],u=!0,f=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(i=a.call(t)).done)&&(l.push(i.value),l.length!==e);u=!0);}catch(p){f=!0,r=p}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw r}}return l}}function Xae(n){if(Array.isArray(n))return n}function Wae(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function MF(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Kae(i.key),i)}}function Yae(n,e,t){return e&&MF(n.prototype,e),t&&MF(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Kae(n){var e=Jae(n,"string");return Ny(e)=="symbol"?e:e+""}function Jae(n,e){if(Ny(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Ny(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var EF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,x8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$ae=Object.keys(x8),am="NaN";function ese(n,e){return n*x8[e]}var p_=function(){function n(e,t){Wae(this,n),this.num=e,this.unit=t,this.num=e,this.unit=t,Number.isNaN(e)&&(this.unit=""),t!==""&&!Zae.test(t)&&(this.num=NaN,this.unit=""),$ae.includes(t)&&(this.num=ese(e,t),this.unit="px")}return Yae(n,[{key:"add",value:function(t){return this.unit!==t.unit?new n(NaN,""):new n(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new n(NaN,""):new n(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new n(NaN,""):new n(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new n(NaN,""):new n(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var i,r=(i=Qae.exec(t))!==null&&i!==void 0?i:[],a=zA(r,3),s=a[1],l=a[2];return new n(parseFloat(s),l??"")}}])}();function _8(n){if(n.includes(am))return am;for(var e=n;e.includes("*")||e.includes("/");){var t,i=(t=EF.exec(e))!==null&&t!==void 0?t:[],r=zA(i,4),a=r[1],s=r[2],l=r[3],u=p_.parse(a??""),f=p_.parse(l??""),p=s==="*"?u.multiply(f):u.divide(f);if(p.isNaN())return am;e=e.replace(EF,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var v,g=(v=TF.exec(e))!==null&&v!==void 0?v:[],b=zA(g,4),_=b[1],M=b[2],A=b[3],S=p_.parse(_??""),w=p_.parse(A??""),C=M==="+"?S.add(w):S.subtract(w);if(C.isNaN())return am;e=e.replace(TF,C.toString())}return e}var wF=/\(([^()]*)\)/;function tse(n){for(var e=n;e.includes("(");){var t=wF.exec(e),i=zA(t,2),r=i[1];e=e.replace(wF,_8(r))}return e}function nse(n){var e=n.replace(/\s+/g,"");return e=tse(e),e=_8(e),e}function ise(n){try{return nse(n)}catch{return am}}function kw(n){var e=ise(n.slice(5,-1));return e===am?"":e}var rse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ase=["dx","dy","angle","className","breakAll"];function CF(n,e){if(n==null)return{};var t=sse(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function sse(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function RF(n,e){return cse(n)||use(n,e)||lse(n,e)||ose()}function ose(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lse(n,e){if(n){if(typeof n=="string")return OF(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return OF(n,e)}}function OF(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function use(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,a,s,l=[],u=!0,f=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(i=a.call(t)).done)&&(l.push(i.value),l.length!==e);u=!0);}catch(p){f=!0,r=p}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw r}}return l}}function cse(n){if(Array.isArray(n))return n}var A8=/[ \f\n\r\t\v\u2028\u2029]+/,S8=function(e){var t=e.children,i=e.breakAll,r=e.style;try{var a=[];An(t)||(i?a=t.toString().split(""):a=t.toString().split(A8));var s=a.map(function(u){return{word:u,width:uy(u,r).width}}),l=i?0:uy("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},fse=function(e,t,i,r,a){var s=e.maxLines,l=e.children,u=e.style,f=e.breakAll,p=mt(s),v=l,g=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(Y,re){var ie=re.word,he=re.width,q=Y[Y.length-1];if(q&&(r==null||a||q.width+he+i<Number(r)))q.words.push(ie),q.width+=he+i;else{var se={words:[ie],width:he};Y.push(se)}return Y},[])},b=g(t),_=function(ee){return ee.reduce(function(Y,re){return Y.width>re.width?Y:re})};if(!p)return b;for(var M="",A=function(ee){var Y=v.slice(0,ee),re=S8({breakAll:f,style:u,children:Y+M}).wordsWithComputedWidth,ie=g(re),he=ie.length>s||_(ie).width>Number(r);return[he,ie]},S=0,w=v.length-1,C=0,R;S<=w&&C<=v.length-1;){var D=Math.floor((S+w)/2),N=D-1,L=A(N),z=RF(L,2),P=z[0],U=z[1],H=A(D),J=RF(H,1),V=J[0];if(!P&&!V&&(S=D+1),P&&V&&(w=D-1),!P&&V){R=U;break}C++}return R||b},BF=function(e){var t=An(e)?[]:e.toString().split(A8);return[{words:t}]},hse=function(e){var t=e.width,i=e.scaleToFit,r=e.children,a=e.style,s=e.breakAll,l=e.maxLines;if((t||i)&&!sv.isSsr){var u,f,p=S8({breakAll:s,children:r,style:a});if(p){var v=p.wordsWithComputedWidth,g=p.spaceWidth;u=v,f=g}else return BF(r);return fse({breakAll:s,children:r,maxLines:l,style:a},u,f,t,i)}return BF(r)},DF="#808080",HA=function(e){var t=e.x,i=t===void 0?0:t,r=e.y,a=r===void 0?0:r,s=e.lineHeight,l=s===void 0?"1em":s,u=e.capHeight,f=u===void 0?"0.71em":u,p=e.scaleToFit,v=p===void 0?!1:p,g=e.textAnchor,b=g===void 0?"start":g,_=e.verticalAnchor,M=_===void 0?"end":_,A=e.fill,S=A===void 0?DF:A,w=CF(e,rse),C=Z.useMemo(function(){return hse({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:v,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,v,w.style,w.width]),R=w.dx,D=w.dy,N=w.angle,L=w.className,z=w.breakAll,P=CF(w,ase);if(!fr(i)||!fr(a))return null;var U=i+(mt(R)?R:0),H=a+(mt(D)?D:0),J;switch(M){case"start":J=kw("calc(".concat(f,")"));break;case"middle":J=kw("calc(".concat((C.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:J=kw("calc(".concat(C.length-1," * -").concat(l,")"));break}var V=[];if(v){var ne=C[0].width,ee=w.width;V.push("scale(".concat((mt(ee)?ee/ne:1)/ne,")"))}return N&&V.push("rotate(".concat(N,", ").concat(U,", ").concat(H,")")),V.length&&(P.transform=V.join(" ")),F("text",{...wn(P,!0),x:U,y:H,className:Ln("recharts-text",L),textAnchor:b,fill:S.includes("url")?DF:S,children:C.map(function(Y,re){var ie=Y.words.join(z?"":" ");return F("tspan",{x:U,dy:re===0?J:l,children:ie},"".concat(ie,"-").concat(re))})})};function _f(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function dse(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function eD(n){let e,t,i;n.length!==2?(e=_f,t=(l,u)=>_f(n(l),u),i=(l,u)=>n(l)-u):(e=n===_f||n===dse?n:pse,t=n,i=n);function r(l,u,f=0,p=l.length){if(f<p){if(e(u,u)!==0)return p;do{const v=f+p>>>1;t(l[v],u)<0?f=v+1:p=v}while(f<p)}return f}function a(l,u,f=0,p=l.length){if(f<p){if(e(u,u)!==0)return p;do{const v=f+p>>>1;t(l[v],u)<=0?f=v+1:p=v}while(f<p)}return f}function s(l,u,f=0,p=l.length){const v=r(l,u,f,p-1);return v>f&&i(l[v-1],u)>-i(l[v],u)?v-1:v}return{left:r,center:s,right:a}}function pse(){return 0}function M8(n){return n===null?NaN:+n}function*mse(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const vse=eD(_f),R0=vse.right;eD(M8).center;class NF extends Map{constructor(e,t=bse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(PF(this,e))}has(e){return super.has(PF(this,e))}set(e,t){return super.set(gse(this,e),t)}delete(e){return super.delete(yse(this,e))}}function PF({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function gse({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function yse({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function bse(n){return n!==null&&typeof n=="object"?n.valueOf():n}function xse(n=_f){if(n===_f)return E8;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const i=n(e,t);return i||i===0?i:(n(t,t)===0)-(n(e,e)===0)}}function E8(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const _se=Math.sqrt(50),Ase=Math.sqrt(10),Sse=Math.sqrt(2);function GA(n,e,t){const i=(e-n)/Math.max(0,t),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),s=a>=_se?10:a>=Ase?5:a>=Sse?2:1;let l,u,f;return r<0?(f=Math.pow(10,-r)/s,l=Math.round(n*f),u=Math.round(e*f),l/f<n&&++l,u/f>e&&--u,f=-f):(f=Math.pow(10,r)*s,l=Math.round(n/f),u=Math.round(e/f),l*f<n&&++l,u*f>e&&--u),u<l&&.5<=t&&t<2?GA(n,e,t*2):[l,u,f]}function ER(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const i=e<n,[r,a,s]=i?GA(e,n,t):GA(n,e,t);if(!(a>=r))return[];const l=a-r+1,u=new Array(l);if(i)if(s<0)for(let f=0;f<l;++f)u[f]=(a-f)/-s;else for(let f=0;f<l;++f)u[f]=(a-f)*s;else if(s<0)for(let f=0;f<l;++f)u[f]=(r+f)/-s;else for(let f=0;f<l;++f)u[f]=(r+f)*s;return u}function TR(n,e,t){return e=+e,n=+n,t=+t,GA(n,e,t)[2]}function wR(n,e,t){e=+e,n=+n,t=+t;const i=e<n,r=i?TR(e,n,t):TR(n,e,t);return(i?-1:1)*(r<0?1/-r:r)}function LF(n,e){let t;for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);return t}function UF(n,e){let t;for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);return t}function T8(n,e,t=0,i=1/0,r){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),i=Math.floor(Math.min(n.length-1,i)),!(t<=e&&e<=i))return n;for(r=r===void 0?E8:xse(r);i>t;){if(i-t>600){const u=i-t+1,f=e-t+1,p=Math.log(u),v=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*v*(u-v)/u)*(f-u/2<0?-1:1),b=Math.max(t,Math.floor(e-f*v/u+g)),_=Math.min(i,Math.floor(e+(u-f)*v/u+g));T8(n,e,b,_,r)}const a=n[e];let s=t,l=i;for(Hg(n,t,e),r(n[i],a)>0&&Hg(n,t,i);s<l;){for(Hg(n,s,l),++s,--l;r(n[s],a)<0;)++s;for(;r(n[l],a)>0;)--l}r(n[t],a)===0?Hg(n,t,l):(++l,Hg(n,l,i)),l<=e&&(t=l+1),e<=l&&(i=l-1)}return n}function Hg(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function Mse(n,e,t){if(n=Float64Array.from(mse(n)),!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return UF(n);if(e>=1)return LF(n);var i,r=(i-1)*e,a=Math.floor(r),s=LF(T8(n,a).subarray(0,a+1)),l=UF(n.subarray(a+1));return s+(l-s)*(r-a)}}function Ese(n,e,t=M8){if(!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return+t(n[0],0,n);if(e>=1)return+t(n[i-1],i-1,n);var i,r=(i-1)*e,a=Math.floor(r),s=+t(n[a],a,n),l=+t(n[a+1],a+1,n);return s+(l-s)*(r-a)}}function Tse(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,a=new Array(r);++i<r;)a[i]=n+i*t;return a}function ao(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function gc(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const CR=Symbol("implicit");function tD(){var n=new NF,e=[],t=[],i=CR;function r(a){let s=n.get(a);if(s===void 0){if(i!==CR)return i;n.set(a,s=e.push(a)-1)}return t[s%t.length]}return r.domain=function(a){if(!arguments.length)return e.slice();e=[],n=new NF;for(const s of a)n.has(s)||n.set(s,e.push(s)-1);return r},r.range=function(a){return arguments.length?(t=Array.from(a),r):t.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return tD(e,t).unknown(i)},ao.apply(r,arguments),r}function Py(){var n=tD().unknown(void 0),e=n.domain,t=n.range,i=0,r=1,a,s,l=!1,u=0,f=0,p=.5;delete n.unknown;function v(){var g=e().length,b=r<i,_=b?r:i,M=b?i:r;a=(M-_)/Math.max(1,g-u+f*2),l&&(a=Math.floor(a)),_+=(M-_-a*(g-u))*p,s=a*(1-u),l&&(_=Math.round(_),s=Math.round(s));var A=Tse(g).map(function(S){return _+a*S});return t(b?A.reverse():A)}return n.domain=function(g){return arguments.length?(e(g),v()):e()},n.range=function(g){return arguments.length?([i,r]=g,i=+i,r=+r,v()):[i,r]},n.rangeRound=function(g){return[i,r]=g,i=+i,r=+r,l=!0,v()},n.bandwidth=function(){return s},n.step=function(){return a},n.round=function(g){return arguments.length?(l=!!g,v()):l},n.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),v()):u},n.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),v()):u},n.paddingOuter=function(g){return arguments.length?(f=+g,v()):f},n.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),v()):p},n.copy=function(){return Py(e(),[i,r]).round(l).paddingInner(u).paddingOuter(f).align(p)},ao.apply(v(),arguments)}function w8(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return w8(e())},n}function cy(){return w8(Py.apply(null,arguments).paddingInner(1))}function nD(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function C8(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function O0(){}var Ly=.7,kA=1/Ly,fm="\\s*([+-]?\\d+)\\s*",Uy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ql="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wse=/^#([0-9a-f]{3,8})$/,Cse=new RegExp(`^rgb\\(${fm},${fm},${fm}\\)$`),Rse=new RegExp(`^rgb\\(${Ql},${Ql},${Ql}\\)$`),Ose=new RegExp(`^rgba\\(${fm},${fm},${fm},${Uy}\\)$`),Bse=new RegExp(`^rgba\\(${Ql},${Ql},${Ql},${Uy}\\)$`),Dse=new RegExp(`^hsl\\(${Uy},${Ql},${Ql}\\)$`),Nse=new RegExp(`^hsla\\(${Uy},${Ql},${Ql},${Uy}\\)$`),IF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nD(O0,Iy,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:FF,formatHex:FF,formatHex8:Pse,formatHsl:Lse,formatRgb:zF,toString:zF});function FF(){return this.rgb().formatHex()}function Pse(){return this.rgb().formatHex8()}function Lse(){return R8(this).formatHsl()}function zF(){return this.rgb().formatRgb()}function Iy(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=wse.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?HF(e):t===3?new es(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?m_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?m_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Cse.exec(n))?new es(e[1],e[2],e[3],1):(e=Rse.exec(n))?new es(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ose.exec(n))?m_(e[1],e[2],e[3],e[4]):(e=Bse.exec(n))?m_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Dse.exec(n))?VF(e[1],e[2]/100,e[3]/100,1):(e=Nse.exec(n))?VF(e[1],e[2]/100,e[3]/100,e[4]):IF.hasOwnProperty(n)?HF(IF[n]):n==="transparent"?new es(NaN,NaN,NaN,0):null}function HF(n){return new es(n>>16&255,n>>8&255,n&255,1)}function m_(n,e,t,i){return i<=0&&(n=e=t=NaN),new es(n,e,t,i)}function Use(n){return n instanceof O0||(n=Iy(n)),n?(n=n.rgb(),new es(n.r,n.g,n.b,n.opacity)):new es}function RR(n,e,t,i){return arguments.length===1?Use(n):new es(n,e,t,i??1)}function es(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}nD(es,RR,C8(O0,{brighter(n){return n=n==null?kA:Math.pow(kA,n),new es(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Ly:Math.pow(Ly,n),new es(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new es(ld(this.r),ld(this.g),ld(this.b),VA(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GF,formatHex:GF,formatHex8:Ise,formatRgb:kF,toString:kF}));function GF(){return`#${$h(this.r)}${$h(this.g)}${$h(this.b)}`}function Ise(){return`#${$h(this.r)}${$h(this.g)}${$h(this.b)}${$h((isNaN(this.opacity)?1:this.opacity)*255)}`}function kF(){const n=VA(this.opacity);return`${n===1?"rgb(":"rgba("}${ld(this.r)}, ${ld(this.g)}, ${ld(this.b)}${n===1?")":`, ${n})`}`}function VA(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function ld(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function $h(n){return n=ld(n),(n<16?"0":"")+n.toString(16)}function VF(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Zo(n,e,t,i)}function R8(n){if(n instanceof Zo)return new Zo(n.h,n.s,n.l,n.opacity);if(n instanceof O0||(n=Iy(n)),!n)return new Zo;if(n instanceof Zo)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),a=Math.max(e,t,i),s=NaN,l=a-r,u=(a+r)/2;return l?(e===a?s=(t-i)/l+(t<i)*6:t===a?s=(i-e)/l+2:s=(e-t)/l+4,l/=u<.5?a+r:2-a-r,s*=60):l=u>0&&u<1?0:s,new Zo(s,l,u,n.opacity)}function Fse(n,e,t,i){return arguments.length===1?R8(n):new Zo(n,e,t,i??1)}function Zo(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}nD(Zo,Fse,C8(O0,{brighter(n){return n=n==null?kA:Math.pow(kA,n),new Zo(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Ly:Math.pow(Ly,n),new Zo(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new es(Vw(n>=240?n-240:n+120,r,i),Vw(n,r,i),Vw(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Zo(jF(this.h),v_(this.s),v_(this.l),VA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=VA(this.opacity);return`${n===1?"hsl(":"hsla("}${jF(this.h)}, ${v_(this.s)*100}%, ${v_(this.l)*100}%${n===1?")":`, ${n})`}`}}));function jF(n){return n=(n||0)%360,n<0?n+360:n}function v_(n){return Math.max(0,Math.min(1,n||0))}function Vw(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const iD=n=>()=>n;function zse(n,e){return function(t){return n+t*e}}function Hse(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function Gse(n){return(n=+n)==1?O8:function(e,t){return t-e?Hse(e,t,n):iD(isNaN(e)?t:e)}}function O8(n,e){var t=e-n;return t?zse(n,t):iD(isNaN(n)?e:n)}const qF=function n(e){var t=Gse(e);function i(r,a){var s=t((r=RR(r)).r,(a=RR(a)).r),l=t(r.g,a.g),u=t(r.b,a.b),f=O8(r.opacity,a.opacity);return function(p){return r.r=s(p),r.g=l(p),r.b=u(p),r.opacity=f(p),r+""}}return i.gamma=n,i}(1);function kse(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(a){for(r=0;r<t;++r)i[r]=n[r]*(1-a)+e[r]*a;return i}}function Vse(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function jse(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),a=new Array(t),s;for(s=0;s<i;++s)r[s]=ov(n[s],e[s]);for(;s<t;++s)a[s]=e[s];return function(l){for(s=0;s<i;++s)a[s]=r[s](l);return a}}function qse(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function jA(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function Xse(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=ov(n[r],e[r]):i[r]=e[r];return function(a){for(r in t)i[r]=t[r](a);return i}}var OR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jw=new RegExp(OR.source,"g");function Wse(n){return function(){return n}}function Yse(n){return function(e){return n(e)+""}}function Kse(n,e){var t=OR.lastIndex=jw.lastIndex=0,i,r,a,s=-1,l=[],u=[];for(n=n+"",e=e+"";(i=OR.exec(n))&&(r=jw.exec(e));)(a=r.index)>t&&(a=e.slice(t,a),l[s]?l[s]+=a:l[++s]=a),(i=i[0])===(r=r[0])?l[s]?l[s]+=r:l[++s]=r:(l[++s]=null,u.push({i:s,x:jA(i,r)})),t=jw.lastIndex;return t<e.length&&(a=e.slice(t),l[s]?l[s]+=a:l[++s]=a),l.length<2?u[0]?Yse(u[0].x):Wse(e):(e=u.length,function(f){for(var p=0,v;p<e;++p)l[(v=u[p]).i]=v.x(f);return l.join("")})}function ov(n,e){var t=typeof e,i;return e==null||t==="boolean"?iD(e):(t==="number"?jA:t==="string"?(i=Iy(e))?(e=i,qF):Kse:e instanceof Iy?qF:e instanceof Date?qse:Vse(e)?kse:Array.isArray(e)?jse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Xse:jA)(n,e)}function rD(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function Jse(n,e){e===void 0&&(e=n,n=ov);for(var t=0,i=e.length-1,r=e[0],a=new Array(i<0?0:i);t<i;)a[t]=n(r,r=e[++t]);return function(s){var l=Math.max(0,Math.min(i-1,Math.floor(s*=i)));return a[l](s-l)}}function Zse(n){return function(){return n}}function qA(n){return+n}var XF=[0,1];function Da(n){return n}function BR(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:Zse(isNaN(e)?NaN:.5)}function Qse(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function $se(n,e,t){var i=n[0],r=n[1],a=e[0],s=e[1];return r<i?(i=BR(r,i),a=t(s,a)):(i=BR(i,r),a=t(a,s)),function(l){return a(i(l))}}function eoe(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),a=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=BR(n[s],n[s+1]),a[s]=t(e[s],e[s+1]);return function(l){var u=R0(n,l,1,i)-1;return a[u](r[u](l))}}function B0(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function g1(){var n=XF,e=XF,t=ov,i,r,a,s=Da,l,u,f;function p(){var g=Math.min(n.length,e.length);return s!==Da&&(s=Qse(n[0],n[g-1])),l=g>2?eoe:$se,u=f=null,v}function v(g){return g==null||isNaN(g=+g)?a:(u||(u=l(n.map(i),e,t)))(i(s(g)))}return v.invert=function(g){return s(r((f||(f=l(e,n.map(i),jA)))(g)))},v.domain=function(g){return arguments.length?(n=Array.from(g,qA),p()):n.slice()},v.range=function(g){return arguments.length?(e=Array.from(g),p()):e.slice()},v.rangeRound=function(g){return e=Array.from(g),t=rD,p()},v.clamp=function(g){return arguments.length?(s=g?!0:Da,p()):s!==Da},v.interpolate=function(g){return arguments.length?(t=g,p()):t},v.unknown=function(g){return arguments.length?(a=g,v):a},function(g,b){return i=g,r=b,p()}}function aD(){return g1()(Da,Da)}function toe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function XA(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function Cm(n){return n=XA(Math.abs(n)),n?n[1]:NaN}function noe(n,e){return function(t,i){for(var r=t.length,a=[],s=0,l=n[0],u=0;r>0&&l>0&&(u+l+1>i&&(l=Math.max(1,i-u)),a.push(t.substring(r-=l,r+l)),!((u+=l+1)>i));)l=n[s=(s+1)%n.length];return a.reverse().join(e)}}function ioe(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var roe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fy(n){if(!(e=roe.exec(n)))throw new Error("invalid format: "+n);var e;return new sD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fy.prototype=sD.prototype;function sD(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}sD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aoe(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var B8;function soe(n,e){var t=XA(n,e);if(!t)return n+"";var i=t[0],r=t[1],a=r-(B8=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+XA(n,Math.max(0,e+a-1))[0]}function WF(n,e){var t=XA(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const YF={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:toe,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>WF(n*100,e),r:WF,s:soe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function KF(n){return n}var JF=Array.prototype.map,ZF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ooe(n){var e=n.grouping===void 0||n.thousands===void 0?KF:noe(JF.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?KF:ioe(JF.call(n.numerals,String)),s=n.percent===void 0?"%":n.percent+"",l=n.minus===void 0?"":n.minus+"",u=n.nan===void 0?"NaN":n.nan+"";function f(v){v=Fy(v);var g=v.fill,b=v.align,_=v.sign,M=v.symbol,A=v.zero,S=v.width,w=v.comma,C=v.precision,R=v.trim,D=v.type;D==="n"?(w=!0,D="g"):YF[D]||(C===void 0&&(C=12),R=!0,D="g"),(A||g==="0"&&b==="=")&&(A=!0,g="0",b="=");var N=M==="$"?t:M==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",L=M==="$"?i:/[%p]/.test(D)?s:"",z=YF[D],P=/[defgprs%]/.test(D);C=C===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function U(H){var J=N,V=L,ne,ee,Y;if(D==="c")V=z(H)+V,H="";else{H=+H;var re=H<0||1/H<0;if(H=isNaN(H)?u:z(Math.abs(H),C),R&&(H=aoe(H)),re&&+H==0&&_!=="+"&&(re=!1),J=(re?_==="("?_:l:_==="-"||_==="("?"":_)+J,V=(D==="s"?ZF[8+B8/3]:"")+V+(re&&_==="("?")":""),P){for(ne=-1,ee=H.length;++ne<ee;)if(Y=H.charCodeAt(ne),48>Y||Y>57){V=(Y===46?r+H.slice(ne+1):H.slice(ne))+V,H=H.slice(0,ne);break}}}w&&!A&&(H=e(H,1/0));var ie=J.length+H.length+V.length,he=ie<S?new Array(S-ie+1).join(g):"";switch(w&&A&&(H=e(he+H,he.length?S-V.length:1/0),he=""),b){case"<":H=J+H+V+he;break;case"=":H=J+he+H+V;break;case"^":H=he.slice(0,ie=he.length>>1)+J+H+V+he.slice(ie);break;default:H=he+J+H+V;break}return a(H)}return U.toString=function(){return v+""},U}function p(v,g){var b=f((v=Fy(v),v.type="f",v)),_=Math.max(-8,Math.min(8,Math.floor(Cm(g)/3)))*3,M=Math.pow(10,-_),A=ZF[8+_/3];return function(S){return b(M*S)+A}}return{format:f,formatPrefix:p}}var g_,oD,D8;loe({thousands:",",grouping:[3],currency:["$",""]});function loe(n){return g_=ooe(n),oD=g_.format,D8=g_.formatPrefix,g_}function uoe(n){return Math.max(0,-Cm(Math.abs(n)))}function coe(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cm(e)/3)))*3-Cm(Math.abs(n)))}function foe(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Cm(e)-Cm(n))+1}function N8(n,e,t,i){var r=wR(n,e,t),a;switch(i=Fy(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(a=coe(r,s))&&(i.precision=a),D8(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=foe(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=uoe(r))&&(i.precision=a-(i.type==="%")*2);break}}return oD(i)}function Bf(n){var e=n.domain;return n.ticks=function(t){var i=e();return ER(i[0],i[i.length-1],t??10)},n.tickFormat=function(t,i){var r=e();return N8(r[0],r[r.length-1],t??10,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,a=i.length-1,s=i[r],l=i[a],u,f,p=10;for(l<s&&(f=s,s=l,l=f,f=r,r=a,a=f);p-- >0;){if(f=TR(s,l,t),f===u)return i[r]=s,i[a]=l,e(i);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;u=f}return n},n}function WA(){var n=aD();return n.copy=function(){return B0(n,WA())},ao.apply(n,arguments),Bf(n)}function P8(n){var e;function t(i){return i==null||isNaN(i=+i)?e:i}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(n=Array.from(i,qA),t):n.slice()},t.unknown=function(i){return arguments.length?(e=i,t):e},t.copy=function(){return P8(n).unknown(e)},n=arguments.length?Array.from(n,qA):[0,1],Bf(t)}function L8(n,e){n=n.slice();var t=0,i=n.length-1,r=n[t],a=n[i],s;return a<r&&(s=t,t=i,i=s,s=r,r=a,a=s),n[t]=e.floor(r),n[i]=e.ceil(a),n}function QF(n){return Math.log(n)}function $F(n){return Math.exp(n)}function hoe(n){return-Math.log(-n)}function doe(n){return-Math.exp(-n)}function poe(n){return isFinite(n)?+("1e"+n):n<0?0:n}function moe(n){return n===10?poe:n===Math.E?Math.exp:e=>Math.pow(n,e)}function voe(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function e4(n){return(e,t)=>-n(-e,t)}function lD(n){const e=n(QF,$F),t=e.domain;let i=10,r,a;function s(){return r=voe(i),a=moe(i),t()[0]<0?(r=e4(r),a=e4(a),n(hoe,doe)):n(QF,$F),e}return e.base=function(l){return arguments.length?(i=+l,s()):i},e.domain=function(l){return arguments.length?(t(l),s()):t()},e.ticks=l=>{const u=t();let f=u[0],p=u[u.length-1];const v=p<f;v&&([f,p]=[p,f]);let g=r(f),b=r(p),_,M;const A=l==null?10:+l;let S=[];if(!(i%1)&&b-g<A){if(g=Math.floor(g),b=Math.ceil(b),f>0){for(;g<=b;++g)for(_=1;_<i;++_)if(M=g<0?_/a(-g):_*a(g),!(M<f)){if(M>p)break;S.push(M)}}else for(;g<=b;++g)for(_=i-1;_>=1;--_)if(M=g>0?_/a(-g):_*a(g),!(M<f)){if(M>p)break;S.push(M)}S.length*2<A&&(S=ER(f,p,A))}else S=ER(g,b,Math.min(b-g,A)).map(a);return v?S.reverse():S},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=i===10?"s":","),typeof u!="function"&&(!(i%1)&&(u=Fy(u)).precision==null&&(u.trim=!0),u=oD(u)),l===1/0)return u;const f=Math.max(1,i*l/e.ticks().length);return p=>{let v=p/a(Math.round(r(p)));return v*i<i-.5&&(v*=i),v<=f?u(p):""}},e.nice=()=>t(L8(t(),{floor:l=>a(Math.floor(r(l))),ceil:l=>a(Math.ceil(r(l)))})),e}function U8(){const n=lD(g1()).domain([1,10]);return n.copy=()=>B0(n,U8()).base(n.base()),ao.apply(n,arguments),n}function t4(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function n4(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function uD(n){var e=1,t=n(t4(e),n4(e));return t.constant=function(i){return arguments.length?n(t4(e=+i),n4(e)):e},Bf(t)}function I8(){var n=uD(g1());return n.copy=function(){return B0(n,I8()).constant(n.constant())},ao.apply(n,arguments)}function i4(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function goe(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function yoe(n){return n<0?-n*n:n*n}function cD(n){var e=n(Da,Da),t=1;function i(){return t===1?n(Da,Da):t===.5?n(goe,yoe):n(i4(t),i4(1/t))}return e.exponent=function(r){return arguments.length?(t=+r,i()):t},Bf(e)}function fD(){var n=cD(g1());return n.copy=function(){return B0(n,fD()).exponent(n.exponent())},ao.apply(n,arguments),n}function boe(){return fD.apply(null,arguments).exponent(.5)}function r4(n){return Math.sign(n)*n*n}function xoe(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function F8(){var n=aD(),e=[0,1],t=!1,i;function r(a){var s=xoe(n(a));return isNaN(s)?i:t?Math.round(s):s}return r.invert=function(a){return n.invert(r4(a))},r.domain=function(a){return arguments.length?(n.domain(a),r):n.domain()},r.range=function(a){return arguments.length?(n.range((e=Array.from(a,qA)).map(r4)),r):e.slice()},r.rangeRound=function(a){return r.range(a).round(!0)},r.round=function(a){return arguments.length?(t=!!a,r):t},r.clamp=function(a){return arguments.length?(n.clamp(a),r):n.clamp()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return F8(n.domain(),e).round(t).clamp(n.clamp()).unknown(i)},ao.apply(r,arguments),Bf(r)}function z8(){var n=[],e=[],t=[],i;function r(){var s=0,l=Math.max(1,e.length);for(t=new Array(l-1);++s<l;)t[s-1]=Ese(n,s/l);return a}function a(s){return s==null||isNaN(s=+s)?i:e[R0(t,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?t[l-1]:n[0],l<t.length?t[l]:n[n.length-1]]},a.domain=function(s){if(!arguments.length)return n.slice();n=[];for(let l of s)l!=null&&!isNaN(l=+l)&&n.push(l);return n.sort(_f),r()},a.range=function(s){return arguments.length?(e=Array.from(s),r()):e.slice()},a.unknown=function(s){return arguments.length?(i=s,a):i},a.quantiles=function(){return t.slice()},a.copy=function(){return z8().domain(n).range(e).unknown(i)},ao.apply(a,arguments)}function H8(){var n=0,e=1,t=1,i=[.5],r=[0,1],a;function s(u){return u!=null&&u<=u?r[R0(i,u,0,t)]:a}function l(){var u=-1;for(i=new Array(t);++u<t;)i[u]=((u+1)*e-(u-t)*n)/(t+1);return s}return s.domain=function(u){return arguments.length?([n,e]=u,n=+n,e=+e,l()):[n,e]},s.range=function(u){return arguments.length?(t=(r=Array.from(u)).length-1,l()):r.slice()},s.invertExtent=function(u){var f=r.indexOf(u);return f<0?[NaN,NaN]:f<1?[n,i[0]]:f>=t?[i[t-1],e]:[i[f-1],i[f]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return i.slice()},s.copy=function(){return H8().domain([n,e]).range(r).unknown(a)},ao.apply(Bf(s),arguments)}function G8(){var n=[.5],e=[0,1],t,i=1;function r(a){return a!=null&&a<=a?e[R0(n,a,0,i)]:t}return r.domain=function(a){return arguments.length?(n=Array.from(a),i=Math.min(n.length,e.length-1),r):n.slice()},r.range=function(a){return arguments.length?(e=Array.from(a),i=Math.min(n.length,e.length-1),r):e.slice()},r.invertExtent=function(a){var s=e.indexOf(a);return[n[s-1],n[s]]},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return G8().domain(n).range(e).unknown(t)},ao.apply(r,arguments)}const qw=new Date,Xw=new Date;function yr(n,e,t,i){function r(a){return n(a=arguments.length===0?new Date:new Date(+a)),a}return r.floor=a=>(n(a=new Date(+a)),a),r.ceil=a=>(n(a=new Date(a-1)),e(a,1),n(a),a),r.round=a=>{const s=r(a),l=r.ceil(a);return a-s<l-a?s:l},r.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),r.range=(a,s,l)=>{const u=[];if(a=r.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return u;let f;do u.push(f=new Date(+a)),e(a,l),n(a);while(f<a&&a<s);return u},r.filter=a=>yr(s=>{if(s>=s)for(;n(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),t&&(r.count=(a,s)=>(qw.setTime(+a),Xw.setTime(+s),n(qw),n(Xw),Math.floor(t(qw,Xw))),r.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?r.filter(i?s=>i(s)%a===0:s=>r.count(0,s)%a===0):r)),r}const YA=yr(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);YA.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?yr(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):YA);YA.range;const Ju=1e3,eo=Ju*60,Zu=eo*60,cc=Zu*24,hD=cc*7,a4=cc*30,Ww=cc*365,ed=yr(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*Ju)},(n,e)=>(e-n)/Ju,n=>n.getUTCSeconds());ed.range;const dD=yr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Ju)},(n,e)=>{n.setTime(+n+e*eo)},(n,e)=>(e-n)/eo,n=>n.getMinutes());dD.range;const pD=yr(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*eo)},(n,e)=>(e-n)/eo,n=>n.getUTCMinutes());pD.range;const mD=yr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Ju-n.getMinutes()*eo)},(n,e)=>{n.setTime(+n+e*Zu)},(n,e)=>(e-n)/Zu,n=>n.getHours());mD.range;const vD=yr(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*Zu)},(n,e)=>(e-n)/Zu,n=>n.getUTCHours());vD.range;const D0=yr(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*eo)/cc,n=>n.getDate()-1);D0.range;const y1=yr(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/cc,n=>n.getUTCDate()-1);y1.range;const k8=yr(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/cc,n=>Math.floor(n/cc));k8.range;function Bd(n){return yr(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*eo)/hD)}const b1=Bd(0),KA=Bd(1),_oe=Bd(2),Aoe=Bd(3),Rm=Bd(4),Soe=Bd(5),Moe=Bd(6);b1.range;KA.range;_oe.range;Aoe.range;Rm.range;Soe.range;Moe.range;function Dd(n){return yr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/hD)}const x1=Dd(0),JA=Dd(1),Eoe=Dd(2),Toe=Dd(3),Om=Dd(4),woe=Dd(5),Coe=Dd(6);x1.range;JA.range;Eoe.range;Toe.range;Om.range;woe.range;Coe.range;const gD=yr(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());gD.range;const yD=yr(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());yD.range;const fc=yr(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());fc.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:yr(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});fc.range;const hc=yr(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());hc.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:yr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});hc.range;function V8(n,e,t,i,r,a){const s=[[ed,1,Ju],[ed,5,5*Ju],[ed,15,15*Ju],[ed,30,30*Ju],[a,1,eo],[a,5,5*eo],[a,15,15*eo],[a,30,30*eo],[r,1,Zu],[r,3,3*Zu],[r,6,6*Zu],[r,12,12*Zu],[i,1,cc],[i,2,2*cc],[t,1,hD],[e,1,a4],[e,3,3*a4],[n,1,Ww]];function l(f,p,v){const g=p<f;g&&([f,p]=[p,f]);const b=v&&typeof v.range=="function"?v:u(f,p,v),_=b?b.range(f,+p+1):[];return g?_.reverse():_}function u(f,p,v){const g=Math.abs(p-f)/v,b=eD(([,,A])=>A).right(s,g);if(b===s.length)return n.every(wR(f/Ww,p/Ww,v));if(b===0)return YA.every(Math.max(wR(f,p,v),1));const[_,M]=s[g/s[b-1][2]<s[b][2]/g?b-1:b];return _.every(M)}return[l,u]}const[Roe,Ooe]=V8(hc,yD,x1,k8,vD,pD),[Boe,Doe]=V8(fc,gD,b1,D0,mD,dD);function Yw(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Kw(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Gg(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function Noe(n){var e=n.dateTime,t=n.date,i=n.time,r=n.periods,a=n.days,s=n.shortDays,l=n.months,u=n.shortMonths,f=kg(r),p=Vg(r),v=kg(a),g=Vg(a),b=kg(s),_=Vg(s),M=kg(l),A=Vg(l),S=kg(u),w=Vg(u),C={a:re,A:ie,b:he,B:q,c:null,d:f4,e:f4,f:nle,g:hle,G:ple,H:$oe,I:ele,j:tle,L:j8,m:ile,M:rle,p:se,q:pe,Q:p4,s:m4,S:ale,u:sle,U:ole,V:lle,w:ule,W:cle,x:null,X:null,y:fle,Y:dle,Z:mle,"%":d4},R={a:Se,A:oe,b:Te,B:Ue,c:null,d:h4,e:h4,f:ble,g:Rle,G:Ble,H:vle,I:gle,j:yle,L:X8,m:xle,M:_le,p:We,q:qe,Q:p4,s:m4,S:Ale,u:Sle,U:Mle,V:Ele,w:Tle,W:wle,x:null,X:null,y:Cle,Y:Ole,Z:Dle,"%":d4},D={a:U,A:H,b:J,B:V,c:ne,d:u4,e:u4,f:Koe,g:l4,G:o4,H:c4,I:c4,j:qoe,L:Yoe,m:joe,M:Xoe,p:P,q:Voe,Q:Zoe,s:Qoe,S:Woe,u:Foe,U:zoe,V:Hoe,w:Ioe,W:Goe,x:ee,X:Y,y:l4,Y:o4,Z:koe,"%":Joe};C.x=N(t,C),C.X=N(i,C),C.c=N(e,C),R.x=N(t,R),R.X=N(i,R),R.c=N(e,R);function N(Le,De){return function(Xe){var fe=[],Ce=-1,K=0,st=Le.length,Ie,Ze,Je;for(Xe instanceof Date||(Xe=new Date(+Xe));++Ce<st;)Le.charCodeAt(Ce)===37&&(fe.push(Le.slice(K,Ce)),(Ze=s4[Ie=Le.charAt(++Ce)])!=null?Ie=Le.charAt(++Ce):Ze=Ie==="e"?" ":"0",(Je=De[Ie])&&(Ie=Je(Xe,Ze)),fe.push(Ie),K=Ce+1);return fe.push(Le.slice(K,Ce)),fe.join("")}}function L(Le,De){return function(Xe){var fe=Gg(1900,void 0,1),Ce=z(fe,Le,Xe+="",0),K,st;if(Ce!=Xe.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(De&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(K=Kw(Gg(fe.y,0,1)),st=K.getUTCDay(),K=st>4||st===0?JA.ceil(K):JA(K),K=y1.offset(K,(fe.V-1)*7),fe.y=K.getUTCFullYear(),fe.m=K.getUTCMonth(),fe.d=K.getUTCDate()+(fe.w+6)%7):(K=Yw(Gg(fe.y,0,1)),st=K.getDay(),K=st>4||st===0?KA.ceil(K):KA(K),K=D0.offset(K,(fe.V-1)*7),fe.y=K.getFullYear(),fe.m=K.getMonth(),fe.d=K.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),st="Z"in fe?Kw(Gg(fe.y,0,1)).getUTCDay():Yw(Gg(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(st+5)%7:fe.w+fe.U*7-(st+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,Kw(fe)):Yw(fe)}}function z(Le,De,Xe,fe){for(var Ce=0,K=De.length,st=Xe.length,Ie,Ze;Ce<K;){if(fe>=st)return-1;if(Ie=De.charCodeAt(Ce++),Ie===37){if(Ie=De.charAt(Ce++),Ze=D[Ie in s4?De.charAt(Ce++):Ie],!Ze||(fe=Ze(Le,Xe,fe))<0)return-1}else if(Ie!=Xe.charCodeAt(fe++))return-1}return fe}function P(Le,De,Xe){var fe=f.exec(De.slice(Xe));return fe?(Le.p=p.get(fe[0].toLowerCase()),Xe+fe[0].length):-1}function U(Le,De,Xe){var fe=b.exec(De.slice(Xe));return fe?(Le.w=_.get(fe[0].toLowerCase()),Xe+fe[0].length):-1}function H(Le,De,Xe){var fe=v.exec(De.slice(Xe));return fe?(Le.w=g.get(fe[0].toLowerCase()),Xe+fe[0].length):-1}function J(Le,De,Xe){var fe=S.exec(De.slice(Xe));return fe?(Le.m=w.get(fe[0].toLowerCase()),Xe+fe[0].length):-1}function V(Le,De,Xe){var fe=M.exec(De.slice(Xe));return fe?(Le.m=A.get(fe[0].toLowerCase()),Xe+fe[0].length):-1}function ne(Le,De,Xe){return z(Le,e,De,Xe)}function ee(Le,De,Xe){return z(Le,t,De,Xe)}function Y(Le,De,Xe){return z(Le,i,De,Xe)}function re(Le){return s[Le.getDay()]}function ie(Le){return a[Le.getDay()]}function he(Le){return u[Le.getMonth()]}function q(Le){return l[Le.getMonth()]}function se(Le){return r[+(Le.getHours()>=12)]}function pe(Le){return 1+~~(Le.getMonth()/3)}function Se(Le){return s[Le.getUTCDay()]}function oe(Le){return a[Le.getUTCDay()]}function Te(Le){return u[Le.getUTCMonth()]}function Ue(Le){return l[Le.getUTCMonth()]}function We(Le){return r[+(Le.getUTCHours()>=12)]}function qe(Le){return 1+~~(Le.getUTCMonth()/3)}return{format:function(Le){var De=N(Le+="",C);return De.toString=function(){return Le},De},parse:function(Le){var De=L(Le+="",!1);return De.toString=function(){return Le},De},utcFormat:function(Le){var De=N(Le+="",R);return De.toString=function(){return Le},De},utcParse:function(Le){var De=L(Le+="",!0);return De.toString=function(){return Le},De}}}var s4={"-":"",_:" ",0:"0"},Nr=/^\s*\d+/,Poe=/^%/,Loe=/[\\^$*+?|[\]().{}]/g;function Un(n,e,t){var i=n<0?"-":"",r=(i?-n:n)+"",a=r.length;return i+(a<t?new Array(t-a+1).join(e)+r:r)}function Uoe(n){return n.replace(Loe,"\\$&")}function kg(n){return new RegExp("^(?:"+n.map(Uoe).join("|")+")","i")}function Vg(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function Ioe(n,e,t){var i=Nr.exec(e.slice(t,t+1));return i?(n.w=+i[0],t+i[0].length):-1}function Foe(n,e,t){var i=Nr.exec(e.slice(t,t+1));return i?(n.u=+i[0],t+i[0].length):-1}function zoe(n,e,t){var i=Nr.exec(e.slice(t,t+2));return i?(n.U=+i[0],t+i[0].length):-1}function Hoe(n,e,t){var i=Nr.exec(e.slice(t,t+2));return i?(n.V=+i[0],t+i[0].length):-1}function Goe(n,e,t){var i=Nr.exec(e.slice(t,t+2));return i?(n.W=+i[0],t+i[0].length):-1}function o4(n,e,t){var i=Nr.exec(e.slice(t,t+4));return i?(n.y=+i[0],t+i[0].length):-1}function l4(n,e,t){var i=Nr.exec(e.slice(t,t+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function koe(n,e,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function Voe(n,e,t){var i=Nr.exec(e.slice(t,t+1));return i?(n.q=i[0]*3-3,t+i[0].length):-1}function joe(n,e,t){var i=Nr.exec(e.slice(t,t+2));return i?(n.m=i[0]-1,t+i[0].length):-1}function u4(n,e,t){var i=Nr.exec(e.slice(t,t+2));return i?(n.d=+i[0],t+i[0].length):-1}function qoe(n,e,t){var i=Nr.exec(e.slice(t,t+3));return i?(n.m=0,n.d=+i[0],t+i[0].length):-1}function c4(n,e,t){var i=Nr.exec(e.slice(t,t+2));return i?(n.H=+i[0],t+i[0].length):-1}function Xoe(n,e,t){var i=Nr.exec(e.slice(t,t+2));return i?(n.M=+i[0],t+i[0].length):-1}function Woe(n,e,t){var i=Nr.exec(e.slice(t,t+2));return i?(n.S=+i[0],t+i[0].length):-1}function Yoe(n,e,t){var i=Nr.exec(e.slice(t,t+3));return i?(n.L=+i[0],t+i[0].length):-1}function Koe(n,e,t){var i=Nr.exec(e.slice(t,t+6));return i?(n.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function Joe(n,e,t){var i=Poe.exec(e.slice(t,t+1));return i?t+i[0].length:-1}function Zoe(n,e,t){var i=Nr.exec(e.slice(t));return i?(n.Q=+i[0],t+i[0].length):-1}function Qoe(n,e,t){var i=Nr.exec(e.slice(t));return i?(n.s=+i[0],t+i[0].length):-1}function f4(n,e){return Un(n.getDate(),e,2)}function $oe(n,e){return Un(n.getHours(),e,2)}function ele(n,e){return Un(n.getHours()%12||12,e,2)}function tle(n,e){return Un(1+D0.count(fc(n),n),e,3)}function j8(n,e){return Un(n.getMilliseconds(),e,3)}function nle(n,e){return j8(n,e)+"000"}function ile(n,e){return Un(n.getMonth()+1,e,2)}function rle(n,e){return Un(n.getMinutes(),e,2)}function ale(n,e){return Un(n.getSeconds(),e,2)}function sle(n){var e=n.getDay();return e===0?7:e}function ole(n,e){return Un(b1.count(fc(n)-1,n),e,2)}function q8(n){var e=n.getDay();return e>=4||e===0?Rm(n):Rm.ceil(n)}function lle(n,e){return n=q8(n),Un(Rm.count(fc(n),n)+(fc(n).getDay()===4),e,2)}function ule(n){return n.getDay()}function cle(n,e){return Un(KA.count(fc(n)-1,n),e,2)}function fle(n,e){return Un(n.getFullYear()%100,e,2)}function hle(n,e){return n=q8(n),Un(n.getFullYear()%100,e,2)}function dle(n,e){return Un(n.getFullYear()%1e4,e,4)}function ple(n,e){var t=n.getDay();return n=t>=4||t===0?Rm(n):Rm.ceil(n),Un(n.getFullYear()%1e4,e,4)}function mle(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Un(e/60|0,"0",2)+Un(e%60,"0",2)}function h4(n,e){return Un(n.getUTCDate(),e,2)}function vle(n,e){return Un(n.getUTCHours(),e,2)}function gle(n,e){return Un(n.getUTCHours()%12||12,e,2)}function yle(n,e){return Un(1+y1.count(hc(n),n),e,3)}function X8(n,e){return Un(n.getUTCMilliseconds(),e,3)}function ble(n,e){return X8(n,e)+"000"}function xle(n,e){return Un(n.getUTCMonth()+1,e,2)}function _le(n,e){return Un(n.getUTCMinutes(),e,2)}function Ale(n,e){return Un(n.getUTCSeconds(),e,2)}function Sle(n){var e=n.getUTCDay();return e===0?7:e}function Mle(n,e){return Un(x1.count(hc(n)-1,n),e,2)}function W8(n){var e=n.getUTCDay();return e>=4||e===0?Om(n):Om.ceil(n)}function Ele(n,e){return n=W8(n),Un(Om.count(hc(n),n)+(hc(n).getUTCDay()===4),e,2)}function Tle(n){return n.getUTCDay()}function wle(n,e){return Un(JA.count(hc(n)-1,n),e,2)}function Cle(n,e){return Un(n.getUTCFullYear()%100,e,2)}function Rle(n,e){return n=W8(n),Un(n.getUTCFullYear()%100,e,2)}function Ole(n,e){return Un(n.getUTCFullYear()%1e4,e,4)}function Ble(n,e){var t=n.getUTCDay();return n=t>=4||t===0?Om(n):Om.ceil(n),Un(n.getUTCFullYear()%1e4,e,4)}function Dle(){return"+0000"}function d4(){return"%"}function p4(n){return+n}function m4(n){return Math.floor(+n/1e3)}var $p,Y8,K8;Nle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Nle(n){return $p=Noe(n),Y8=$p.format,$p.parse,K8=$p.utcFormat,$p.utcParse,$p}function Ple(n){return new Date(n)}function Lle(n){return n instanceof Date?+n:+new Date(+n)}function bD(n,e,t,i,r,a,s,l,u,f){var p=aD(),v=p.invert,g=p.domain,b=f(".%L"),_=f(":%S"),M=f("%I:%M"),A=f("%I %p"),S=f("%a %d"),w=f("%b %d"),C=f("%B"),R=f("%Y");function D(N){return(u(N)<N?b:l(N)<N?_:s(N)<N?M:a(N)<N?A:i(N)<N?r(N)<N?S:w:t(N)<N?C:R)(N)}return p.invert=function(N){return new Date(v(N))},p.domain=function(N){return arguments.length?g(Array.from(N,Lle)):g().map(Ple)},p.ticks=function(N){var L=g();return n(L[0],L[L.length-1],N??10)},p.tickFormat=function(N,L){return L==null?D:f(L)},p.nice=function(N){var L=g();return(!N||typeof N.range!="function")&&(N=e(L[0],L[L.length-1],N??10)),N?g(L8(L,N)):p},p.copy=function(){return B0(p,bD(n,e,t,i,r,a,s,l,u,f))},p}function Ule(){return ao.apply(bD(Boe,Doe,fc,gD,b1,D0,mD,dD,ed,Y8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ile(){return ao.apply(bD(Roe,Ooe,hc,yD,x1,y1,vD,pD,ed,K8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _1(){var n=0,e=1,t,i,r,a,s=Da,l=!1,u;function f(v){return v==null||isNaN(v=+v)?u:s(r===0?.5:(v=(a(v)-t)*r,l?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([n,e]=v,t=a(n=+n),i=a(e=+e),r=t===i?0:1/(i-t),f):[n,e]},f.clamp=function(v){return arguments.length?(l=!!v,f):l},f.interpolator=function(v){return arguments.length?(s=v,f):s};function p(v){return function(g){var b,_;return arguments.length?([b,_]=g,s=v(b,_),f):[s(0),s(1)]}}return f.range=p(ov),f.rangeRound=p(rD),f.unknown=function(v){return arguments.length?(u=v,f):u},function(v){return a=v,t=v(n),i=v(e),r=t===i?0:1/(i-t),f}}function Df(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function J8(){var n=Bf(_1()(Da));return n.copy=function(){return Df(n,J8())},gc.apply(n,arguments)}function Z8(){var n=lD(_1()).domain([1,10]);return n.copy=function(){return Df(n,Z8()).base(n.base())},gc.apply(n,arguments)}function Q8(){var n=uD(_1());return n.copy=function(){return Df(n,Q8()).constant(n.constant())},gc.apply(n,arguments)}function xD(){var n=cD(_1());return n.copy=function(){return Df(n,xD()).exponent(n.exponent())},gc.apply(n,arguments)}function Fle(){return xD.apply(null,arguments).exponent(.5)}function $8(){var n=[],e=Da;function t(i){if(i!=null&&!isNaN(i=+i))return e((R0(n,i,1)-1)/(n.length-1))}return t.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(_f),t},t.interpolator=function(i){return arguments.length?(e=i,t):e},t.range=function(){return n.map((i,r)=>e(r/(n.length-1)))},t.quantiles=function(i){return Array.from({length:i+1},(r,a)=>Mse(n,a/i))},t.copy=function(){return $8(e).domain(n)},gc.apply(t,arguments)}function A1(){var n=0,e=.5,t=1,i=1,r,a,s,l,u,f=Da,p,v=!1,g;function b(M){return isNaN(M=+M)?g:(M=.5+((M=+p(M))-a)*(i*M<i*a?l:u),f(v?Math.max(0,Math.min(1,M)):M))}b.domain=function(M){return arguments.length?([n,e,t]=M,r=p(n=+n),a=p(e=+e),s=p(t=+t),l=r===a?0:.5/(a-r),u=a===s?0:.5/(s-a),i=a<r?-1:1,b):[n,e,t]},b.clamp=function(M){return arguments.length?(v=!!M,b):v},b.interpolator=function(M){return arguments.length?(f=M,b):f};function _(M){return function(A){var S,w,C;return arguments.length?([S,w,C]=A,f=Jse(M,[S,w,C]),b):[f(0),f(.5),f(1)]}}return b.range=_(ov),b.rangeRound=_(rD),b.unknown=function(M){return arguments.length?(g=M,b):g},function(M){return p=M,r=M(n),a=M(e),s=M(t),l=r===a?0:.5/(a-r),u=a===s?0:.5/(s-a),i=a<r?-1:1,b}}function e9(){var n=Bf(A1()(Da));return n.copy=function(){return Df(n,e9())},gc.apply(n,arguments)}function t9(){var n=lD(A1()).domain([.1,1,10]);return n.copy=function(){return Df(n,t9()).base(n.base())},gc.apply(n,arguments)}function n9(){var n=uD(A1());return n.copy=function(){return Df(n,n9()).constant(n.constant())},gc.apply(n,arguments)}function _D(){var n=cD(A1());return n.copy=function(){return Df(n,_D()).exponent(n.exponent())},gc.apply(n,arguments)}function zle(){return _D.apply(null,arguments).exponent(.5)}const v4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Py,scaleDiverging:e9,scaleDivergingLog:t9,scaleDivergingPow:_D,scaleDivergingSqrt:zle,scaleDivergingSymlog:n9,scaleIdentity:P8,scaleImplicit:CR,scaleLinear:WA,scaleLog:U8,scaleOrdinal:tD,scalePoint:cy,scalePow:fD,scaleQuantile:z8,scaleQuantize:H8,scaleRadial:F8,scaleSequential:J8,scaleSequentialLog:Z8,scaleSequentialPow:xD,scaleSequentialQuantile:$8,scaleSequentialSqrt:Fle,scaleSequentialSymlog:Q8,scaleSqrt:boe,scaleSymlog:I8,scaleThreshold:G8,scaleTime:Ule,scaleUtc:Ile,tickFormat:N8},Symbol.toStringTag,{value:"Module"}));var Jw,g4;function i9(){if(g4)return Jw;g4=1;var n=iv();function e(t,i,r){for(var a=-1,s=t.length;++a<s;){var l=t[a],u=i(l);if(u!=null&&(f===void 0?u===u&&!n(u):r(u,f)))var f=u,p=l}return p}return Jw=e,Jw}var Zw,y4;function Hle(){if(y4)return Zw;y4=1;function n(e,t){return e>t}return Zw=n,Zw}var Qw,b4;function Gle(){if(b4)return Qw;b4=1;var n=i9(),e=Hle(),t=av();function i(r){return r&&r.length?n(r,t,e):void 0}return Qw=i,Qw}var kle=Gle();const S1=Jn(kle);var $w,x4;function Vle(){if(x4)return $w;x4=1;function n(e,t){return e<t}return $w=n,$w}var eC,_4;function jle(){if(_4)return eC;_4=1;var n=i9(),e=Vle(),t=av();function i(r){return r&&r.length?n(r,t,e):void 0}return eC=i,eC}var qle=jle();const M1=Jn(qle);var tC,A4;function Xle(){if(A4)return tC;A4=1;var n=IB(),e=Of(),t=f8(),i=ns();function r(a,s){var l=i(a)?n:t;return l(a,e(s,3))}return tC=r,tC}var nC,S4;function Wle(){if(S4)return nC;S4=1;var n=u8(),e=Xle();function t(i,r){return n(e(i,r),1)}return nC=t,nC}var Yle=Wle();const Kle=Jn(Yle);var iC,M4;function Jle(){if(M4)return iC;M4=1;var n=JB();function e(t,i){return n(t,i)}return iC=e,iC}var Zle=Jle();const E1=Jn(Zle);var lv=1e9,Qle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},SD,xi=!0,io="[DecimalError] ",ud=io+"Invalid argument: ",AD=io+"Exponent out of range: ",uv=Math.floor,jh=Math.pow,$le=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ss,Br=1e7,hi=7,r9=9007199254740991,ZA=uv(r9/hi),Et={};Et.absoluteValue=Et.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};Et.comparedTo=Et.cmp=function(n){var e,t,i,r,a=this;if(n=new a.constructor(n),a.s!==n.s)return a.s||-n.s;if(a.e!==n.e)return a.e>n.e^a.s<0?1:-1;for(i=a.d.length,r=n.d.length,e=0,t=i<r?i:r;e<t;++e)if(a.d[e]!==n.d[e])return a.d[e]>n.d[e]^a.s<0?1:-1;return i===r?0:i>r^a.s<0?1:-1};Et.decimalPlaces=Et.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*hi;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};Et.dividedBy=Et.div=function(n){return ac(this,new this.constructor(n))};Et.dividedToIntegerBy=Et.idiv=function(n){var e=this,t=e.constructor;return ai(ac(e,new t(n),0,1),t.precision)};Et.equals=Et.eq=function(n){return!this.cmp(n)};Et.exponent=function(){return rr(this)};Et.greaterThan=Et.gt=function(n){return this.cmp(n)>0};Et.greaterThanOrEqualTo=Et.gte=function(n){return this.cmp(n)>=0};Et.isInteger=Et.isint=function(){return this.e>this.d.length-2};Et.isNegative=Et.isneg=function(){return this.s<0};Et.isPositive=Et.ispos=function(){return this.s>0};Et.isZero=function(){return this.s===0};Et.lessThan=Et.lt=function(n){return this.cmp(n)<0};Et.lessThanOrEqualTo=Et.lte=function(n){return this.cmp(n)<1};Et.logarithm=Et.log=function(n){var e,t=this,i=t.constructor,r=i.precision,a=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(Ss))throw Error(io+"NaN");if(t.s<1)throw Error(io+(t.s?"NaN":"-Infinity"));return t.eq(Ss)?new i(0):(xi=!1,e=ac(zy(t,a),zy(n,a),a),xi=!0,ai(e,r))};Et.minus=Et.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?o9(e,n):a9(e,(n.s=-n.s,n))};Et.modulo=Et.mod=function(n){var e,t=this,i=t.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(io+"NaN");return t.s?(xi=!1,e=ac(t,n,0,1).times(n),xi=!0,t.minus(e)):ai(new i(t),r)};Et.naturalExponential=Et.exp=function(){return s9(this)};Et.naturalLogarithm=Et.ln=function(){return zy(this)};Et.negated=Et.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};Et.plus=Et.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?a9(e,n):o9(e,(n.s=-n.s,n))};Et.precision=Et.sd=function(n){var e,t,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(ud+n);if(e=rr(r)+1,i=r.d.length-1,t=i*hi+1,i=r.d[i],i){for(;i%10==0;i/=10)t--;for(i=r.d[0];i>=10;i/=10)t++}return n&&e>t?e:t};Et.squareRoot=Et.sqrt=function(){var n,e,t,i,r,a,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(io+"NaN")}for(n=rr(l),xi=!1,r=Math.sqrt(+l),r==0||r==1/0?(e=Yl(l.d),(e.length+n)%2==0&&(e+="0"),r=Math.sqrt(e),n=uv((n+1)/2)-(n<0||n%2),r==1/0?e="5e"+n:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),i=new u(e)):i=new u(r.toString()),t=u.precision,r=s=t+3;;)if(a=i,i=a.plus(ac(l,a,s+2)).times(.5),Yl(a.d).slice(0,s)===(e=Yl(i.d)).slice(0,s)){if(e=e.slice(s-3,s+1),r==s&&e=="4999"){if(ai(a,t+1,0),a.times(a).eq(l)){i=a;break}}else if(e!="9999")break;s+=4}return xi=!0,ai(i,t)};Et.times=Et.mul=function(n){var e,t,i,r,a,s,l,u,f,p=this,v=p.constructor,g=p.d,b=(n=new v(n)).d;if(!p.s||!n.s)return new v(0);for(n.s*=p.s,t=p.e+n.e,u=g.length,f=b.length,u<f&&(a=g,g=b,b=a,s=u,u=f,f=s),a=[],s=u+f,i=s;i--;)a.push(0);for(i=f;--i>=0;){for(e=0,r=u+i;r>i;)l=a[r]+b[i]*g[r-i-1]+e,a[r--]=l%Br|0,e=l/Br|0;a[r]=(a[r]+e)%Br|0}for(;!a[--s];)a.pop();return e?++t:a.shift(),n.d=a,n.e=t,xi?ai(n,v.precision):n};Et.toDecimalPlaces=Et.todp=function(n,e){var t=this,i=t.constructor;return t=new i(t),n===void 0?t:(iu(n,0,lv),e===void 0?e=i.rounding:iu(e,0,8),ai(t,n+rr(t)+1,e))};Et.toExponential=function(n,e){var t,i=this,r=i.constructor;return n===void 0?t=xd(i,!0):(iu(n,0,lv),e===void 0?e=r.rounding:iu(e,0,8),i=ai(new r(i),n+1,e),t=xd(i,!0,n+1)),t};Et.toFixed=function(n,e){var t,i,r=this,a=r.constructor;return n===void 0?xd(r):(iu(n,0,lv),e===void 0?e=a.rounding:iu(e,0,8),i=ai(new a(r),n+rr(r)+1,e),t=xd(i.abs(),!1,n+rr(i)+1),r.isneg()&&!r.isZero()?"-"+t:t)};Et.toInteger=Et.toint=function(){var n=this,e=n.constructor;return ai(new e(n),rr(n)+1,e.rounding)};Et.toNumber=function(){return+this};Et.toPower=Et.pow=function(n){var e,t,i,r,a,s,l=this,u=l.constructor,f=12,p=+(n=new u(n));if(!n.s)return new u(Ss);if(l=new u(l),!l.s){if(n.s<1)throw Error(io+"Infinity");return l}if(l.eq(Ss))return l;if(i=u.precision,n.eq(Ss))return ai(l,i);if(e=n.e,t=n.d.length-1,s=e>=t,a=l.s,s){if((t=p<0?-p:p)<=r9){for(r=new u(Ss),e=Math.ceil(i/hi+4),xi=!1;t%2&&(r=r.times(l),T4(r.d,e)),t=uv(t/2),t!==0;)l=l.times(l),T4(l.d,e);return xi=!0,n.s<0?new u(Ss).div(r):ai(r,i)}}else if(a<0)throw Error(io+"NaN");return a=a<0&&n.d[Math.max(e,t)]&1?-1:1,l.s=1,xi=!1,r=n.times(zy(l,i+f)),xi=!0,r=s9(r),r.s=a,r};Et.toPrecision=function(n,e){var t,i,r=this,a=r.constructor;return n===void 0?(t=rr(r),i=xd(r,t<=a.toExpNeg||t>=a.toExpPos)):(iu(n,1,lv),e===void 0?e=a.rounding:iu(e,0,8),r=ai(new a(r),n,e),t=rr(r),i=xd(r,n<=t||t<=a.toExpNeg,n)),i};Et.toSignificantDigits=Et.tosd=function(n,e){var t=this,i=t.constructor;return n===void 0?(n=i.precision,e=i.rounding):(iu(n,1,lv),e===void 0?e=i.rounding:iu(e,0,8)),ai(new i(t),n,e)};Et.toString=Et.valueOf=Et.val=Et.toJSON=Et[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=rr(n),t=n.constructor;return xd(n,e<=t.toExpNeg||e>=t.toExpPos)};function a9(n,e){var t,i,r,a,s,l,u,f,p=n.constructor,v=p.precision;if(!n.s||!e.s)return e.s||(e=new p(n)),xi?ai(e,v):e;if(u=n.d,f=e.d,s=n.e,r=e.e,u=u.slice(),a=s-r,a){for(a<0?(i=u,a=-a,l=f.length):(i=f,r=s,l=u.length),s=Math.ceil(v/hi),l=s>l?s+1:l+1,a>l&&(a=l,i.length=1),i.reverse();a--;)i.push(0);i.reverse()}for(l=u.length,a=f.length,l-a<0&&(a=l,i=f,f=u,u=i),t=0;a;)t=(u[--a]=u[a]+f[a]+t)/Br|0,u[a]%=Br;for(t&&(u.unshift(t),++r),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=r,xi?ai(e,v):e}function iu(n,e,t){if(n!==~~n||n<e||n>t)throw Error(ud+n)}function Yl(n){var e,t,i,r=n.length-1,a="",s=n[0];if(r>0){for(a+=s,e=1;e<r;e++)i=n[e]+"",t=hi-i.length,t&&(a+=pf(t)),a+=i;s=n[e],i=s+"",t=hi-i.length,t&&(a+=pf(t))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ac=function(){function n(i,r){var a,s=0,l=i.length;for(i=i.slice();l--;)a=i[l]*r+s,i[l]=a%Br|0,s=a/Br|0;return s&&i.unshift(s),i}function e(i,r,a,s){var l,u;if(a!=s)u=a>s?1:-1;else for(l=u=0;l<a;l++)if(i[l]!=r[l]){u=i[l]>r[l]?1:-1;break}return u}function t(i,r,a){for(var s=0;a--;)i[a]-=s,s=i[a]<r[a]?1:0,i[a]=s*Br+i[a]-r[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,a,s){var l,u,f,p,v,g,b,_,M,A,S,w,C,R,D,N,L,z,P=i.constructor,U=i.s==r.s?1:-1,H=i.d,J=r.d;if(!i.s)return new P(i);if(!r.s)throw Error(io+"Division by zero");for(u=i.e-r.e,L=J.length,D=H.length,b=new P(U),_=b.d=[],f=0;J[f]==(H[f]||0);)++f;if(J[f]>(H[f]||0)&&--u,a==null?w=a=P.precision:s?w=a+(rr(i)-rr(r))+1:w=a,w<0)return new P(0);if(w=w/hi+2|0,f=0,L==1)for(p=0,J=J[0],w++;(f<D||p)&&w--;f++)C=p*Br+(H[f]||0),_[f]=C/J|0,p=C%J|0;else{for(p=Br/(J[0]+1)|0,p>1&&(J=n(J,p),H=n(H,p),L=J.length,D=H.length),R=L,M=H.slice(0,L),A=M.length;A<L;)M[A++]=0;z=J.slice(),z.unshift(0),N=J[0],J[1]>=Br/2&&++N;do p=0,l=e(J,M,L,A),l<0?(S=M[0],L!=A&&(S=S*Br+(M[1]||0)),p=S/N|0,p>1?(p>=Br&&(p=Br-1),v=n(J,p),g=v.length,A=M.length,l=e(v,M,g,A),l==1&&(p--,t(v,L<g?z:J,g))):(p==0&&(l=p=1),v=J.slice()),g=v.length,g<A&&v.unshift(0),t(M,v,A),l==-1&&(A=M.length,l=e(J,M,L,A),l<1&&(p++,t(M,L<A?z:J,A))),A=M.length):l===0&&(p++,M=[0]),_[f++]=p,l&&M[0]?M[A++]=H[R]||0:(M=[H[R]],A=1);while((R++<D||M[0]!==void 0)&&w--)}return _[0]||_.shift(),b.e=u,ai(b,s?a+rr(b)+1:a)}}();function s9(n,e){var t,i,r,a,s,l,u=0,f=0,p=n.constructor,v=p.precision;if(rr(n)>16)throw Error(AD+rr(n));if(!n.s)return new p(Ss);for(xi=!1,l=v,s=new p(.03125);n.abs().gte(.1);)n=n.times(s),f+=5;for(i=Math.log(jh(2,f))/Math.LN10*2+5|0,l+=i,t=r=a=new p(Ss),p.precision=l;;){if(r=ai(r.times(n),l),t=t.times(++u),s=a.plus(ac(r,t,l)),Yl(s.d).slice(0,l)===Yl(a.d).slice(0,l)){for(;f--;)a=ai(a.times(a),l);return p.precision=v,e==null?(xi=!0,ai(a,v)):a}a=s}}function rr(n){for(var e=n.e*hi,t=n.d[0];t>=10;t/=10)e++;return e}function rC(n,e,t){if(e>n.LN10.sd())throw xi=!0,t&&(n.precision=t),Error(io+"LN10 precision limit exceeded");return ai(new n(n.LN10),e)}function pf(n){for(var e="";n--;)e+="0";return e}function zy(n,e){var t,i,r,a,s,l,u,f,p,v=1,g=10,b=n,_=b.d,M=b.constructor,A=M.precision;if(b.s<1)throw Error(io+(b.s?"NaN":"-Infinity"));if(b.eq(Ss))return new M(0);if(e==null?(xi=!1,f=A):f=e,b.eq(10))return e==null&&(xi=!0),rC(M,f);if(f+=g,M.precision=f,t=Yl(_),i=t.charAt(0),a=rr(b),Math.abs(a)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)b=b.times(n),t=Yl(b.d),i=t.charAt(0),v++;a=rr(b),i>1?(b=new M("0."+t),a++):b=new M(i+"."+t.slice(1))}else return u=rC(M,f+2,A).times(a+""),b=zy(new M(i+"."+t.slice(1)),f-g).plus(u),M.precision=A,e==null?(xi=!0,ai(b,A)):b;for(l=s=b=ac(b.minus(Ss),b.plus(Ss),f),p=ai(b.times(b),f),r=3;;){if(s=ai(s.times(p),f),u=l.plus(ac(s,new M(r),f)),Yl(u.d).slice(0,f)===Yl(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(rC(M,f+2,A).times(a+""))),l=ac(l,new M(v),f),M.precision=A,e==null?(xi=!0,ai(l,A)):l;l=u,r+=2}}function E4(n,e){var t,i,r;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,t=t-i-1,n.e=uv(t/hi),n.d=[],i=(t+1)%hi,t<0&&(i+=hi),i<r){for(i&&n.d.push(+e.slice(0,i)),r-=hi;i<r;)n.d.push(+e.slice(i,i+=hi));e=e.slice(i),i=hi-e.length}else i-=r;for(;i--;)e+="0";if(n.d.push(+e),xi&&(n.e>ZA||n.e<-ZA))throw Error(AD+t)}else n.s=0,n.e=0,n.d=[0];return n}function ai(n,e,t){var i,r,a,s,l,u,f,p,v=n.d;for(s=1,a=v[0];a>=10;a/=10)s++;if(i=e-s,i<0)i+=hi,r=e,f=v[p=0];else{if(p=Math.ceil((i+1)/hi),a=v.length,p>=a)return n;for(f=a=v[p],s=1;a>=10;a/=10)s++;i%=hi,r=i-hi+s}if(t!==void 0&&(a=jh(10,s-r-1),l=f/a%10|0,u=e<0||v[p+1]!==void 0||f%a,u=t<4?(l||u)&&(t==0||t==(n.s<0?3:2)):l>5||l==5&&(t==4||u||t==6&&(i>0?r>0?f/jh(10,s-r):0:v[p-1])%10&1||t==(n.s<0?8:7))),e<1||!v[0])return u?(a=rr(n),v.length=1,e=e-a-1,v[0]=jh(10,(hi-e%hi)%hi),n.e=uv(-e/hi)||0):(v.length=1,v[0]=n.e=n.s=0),n;if(i==0?(v.length=p,a=1,p--):(v.length=p+1,a=jh(10,hi-i),v[p]=r>0?(f/jh(10,s-r)%jh(10,r)|0)*a:0),u)for(;;)if(p==0){(v[0]+=a)==Br&&(v[0]=1,++n.e);break}else{if(v[p]+=a,v[p]!=Br)break;v[p--]=0,a=1}for(i=v.length;v[--i]===0;)v.pop();if(xi&&(n.e>ZA||n.e<-ZA))throw Error(AD+rr(n));return n}function o9(n,e){var t,i,r,a,s,l,u,f,p,v,g=n.constructor,b=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),xi?ai(e,b):e;if(u=n.d,v=e.d,i=e.e,f=n.e,u=u.slice(),s=f-i,s){for(p=s<0,p?(t=u,s=-s,l=v.length):(t=v,i=f,l=u.length),r=Math.max(Math.ceil(b/hi),l)+2,s>r&&(s=r,t.length=1),t.reverse(),r=s;r--;)t.push(0);t.reverse()}else{for(r=u.length,l=v.length,p=r<l,p&&(l=r),r=0;r<l;r++)if(u[r]!=v[r]){p=u[r]<v[r];break}s=0}for(p&&(t=u,u=v,v=t,e.s=-e.s),l=u.length,r=v.length-l;r>0;--r)u[l++]=0;for(r=v.length;r>s;){if(u[--r]<v[r]){for(a=r;a&&u[--a]===0;)u[a]=Br-1;--u[a],u[r]+=Br}u[r]-=v[r]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--i;return u[0]?(e.d=u,e.e=i,xi?ai(e,b):e):new g(0)}function xd(n,e,t){var i,r=rr(n),a=Yl(n.d),s=a.length;return e?(t&&(i=t-s)>0?a=a.charAt(0)+"."+a.slice(1)+pf(i):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r<0?"e":"e+")+r):r<0?(a="0."+pf(-r-1)+a,t&&(i=t-s)>0&&(a+=pf(i))):r>=s?(a+=pf(r+1-s),t&&(i=t-r-1)>0&&(a=a+"."+pf(i))):((i=r+1)<s&&(a=a.slice(0,i)+"."+a.slice(i)),t&&(i=t-s)>0&&(r+1===s&&(a+="."),a+=pf(i))),n.s<0?"-"+a:a}function T4(n,e){if(n.length>e)return n.length=e,!0}function l9(n){var e,t,i;function r(a){var s=this;if(!(s instanceof r))return new r(a);if(s.constructor=r,a instanceof r){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ud+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return E4(s,a.toString())}else if(typeof a!="string")throw Error(ud+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,$le.test(a))E4(s,a);else throw Error(ud+a)}if(r.prototype=Et,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=l9,r.config=r.set=eue,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return r.config(n),r}function eue(n){if(!n||typeof n!="object")throw Error(io+"Object expected");var e,t,i,r=["precision",1,lv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=n[t=r[e]])!==void 0)if(uv(i)===i&&i>=r[e+1]&&i<=r[e+2])this[t]=i;else throw Error(ud+t+": "+i);if((i=n[t="LN10"])!==void 0)if(i==Math.LN10)this[t]=new this(i);else throw Error(ud+t+": "+i);return this}var SD=l9(Qle);Ss=new SD(1);const ti=SD;function tue(n){return aue(n)||rue(n)||iue(n)||nue()}function nue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iue(n,e){if(n){if(typeof n=="string")return DR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return DR(n,e)}}function rue(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function aue(n){if(Array.isArray(n))return DR(n)}function DR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var sue=function(e){return e},u9={},c9=function(e){return e===u9},w4=function(e){return function t(){return arguments.length===0||arguments.length===1&&c9(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},oue=function n(e,t){return e===1?t:w4(function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var s=r.filter(function(l){return l!==u9}).length;return s>=e?t.apply(void 0,r):n(e-s,w4(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var p=r.map(function(v){return c9(v)?u.shift():v});return t.apply(void 0,tue(p).concat(u))}))})},T1=function(e){return oue(e.length,e)},NR=function(e,t){for(var i=[],r=e;r<t;++r)i[r-e]=r;return i},lue=T1(function(n,e){return Array.isArray(e)?e.map(n):Object.keys(e).map(function(t){return e[t]}).map(n)}),uue=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t.length)return sue;var r=t.reverse(),a=r[0],s=r.slice(1);return function(){return s.reduce(function(l,u){return u(l)},a.apply(void 0,arguments))}},PR=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},f9=function(e){var t=null,i=null;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t&&a.every(function(l,u){return l===t[u]})||(t=a,i=e.apply(void 0,a)),i}};function cue(n){var e;return n===0?e=1:e=Math.floor(new ti(n).abs().log(10).toNumber())+1,e}function fue(n,e,t){for(var i=new ti(n),r=0,a=[];i.lt(e)&&r<1e5;)a.push(i.toNumber()),i=i.add(t),r++;return a}var hue=T1(function(n,e,t){var i=+n,r=+e;return i+t*(r-i)}),due=T1(function(n,e,t){var i=e-+n;return i=i||1/0,(t-n)/i}),pue=T1(function(n,e,t){var i=e-+n;return i=i||1/0,Math.max(0,Math.min(1,(t-n)/i))});const w1={rangeStep:fue,getDigitCount:cue,interpolateNumber:hue,uninterpolateNumber:due,uninterpolateTruncation:pue};function LR(n){return gue(n)||vue(n)||h9(n)||mue()}function mue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vue(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function gue(n){if(Array.isArray(n))return UR(n)}function Hy(n,e){return xue(n)||bue(n,e)||h9(n,e)||yue()}function yue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h9(n,e){if(n){if(typeof n=="string")return UR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return UR(n,e)}}function UR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function bue(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],i=!0,r=!1,a=void 0;try{for(var s=n[Symbol.iterator](),l;!(i=(l=s.next()).done)&&(t.push(l.value),!(e&&t.length===e));i=!0);}catch(u){r=!0,a=u}finally{try{!i&&s.return!=null&&s.return()}finally{if(r)throw a}}return t}}function xue(n){if(Array.isArray(n))return n}function d9(n){var e=Hy(n,2),t=e[0],i=e[1],r=t,a=i;return t>i&&(r=i,a=t),[r,a]}function p9(n,e,t){if(n.lte(0))return new ti(0);var i=w1.getDigitCount(n.toNumber()),r=new ti(10).pow(i),a=n.div(r),s=i!==1?.05:.1,l=new ti(Math.ceil(a.div(s).toNumber())).add(t).mul(s),u=l.mul(r);return e?u:new ti(Math.ceil(u))}function _ue(n,e,t){var i=1,r=new ti(n);if(!r.isint()&&t){var a=Math.abs(n);a<1?(i=new ti(10).pow(w1.getDigitCount(n)-1),r=new ti(Math.floor(r.div(i).toNumber())).mul(i)):a>1&&(r=new ti(Math.floor(n)))}else n===0?r=new ti(Math.floor((e-1)/2)):t||(r=new ti(Math.floor(n)));var s=Math.floor((e-1)/2),l=uue(lue(function(u){return r.add(new ti(u-s).mul(i)).toNumber()}),NR);return l(0,e)}function m9(n,e,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-n)/(t-1)))return{step:new ti(0),tickMin:new ti(0),tickMax:new ti(0)};var a=p9(new ti(e).sub(n).div(t-1),i,r),s;n<=0&&e>=0?s=new ti(0):(s=new ti(n).add(e).div(2),s=s.sub(new ti(s).mod(a)));var l=Math.ceil(s.sub(n).div(a).toNumber()),u=Math.ceil(new ti(e).sub(s).div(a).toNumber()),f=l+u+1;return f>t?m9(n,e,t,i,r+1):(f<t&&(u=e>0?u+(t-f):u,l=e>0?l:l+(t-f)),{step:a,tickMin:s.sub(new ti(l).mul(a)),tickMax:s.add(new ti(u).mul(a))})}function Aue(n){var e=Hy(n,2),t=e[0],i=e[1],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),l=d9([t,i]),u=Hy(l,2),f=u[0],p=u[1];if(f===-1/0||p===1/0){var v=p===1/0?[f].concat(LR(NR(0,r-1).map(function(){return 1/0}))):[].concat(LR(NR(0,r-1).map(function(){return-1/0})),[p]);return t>i?PR(v):v}if(f===p)return _ue(f,r,a);var g=m9(f,p,s,a),b=g.step,_=g.tickMin,M=g.tickMax,A=w1.rangeStep(_,M.add(new ti(.1).mul(b)),b);return t>i?PR(A):A}function Sue(n,e){var t=Hy(n,2),i=t[0],r=t[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=d9([i,r]),l=Hy(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0)return[i,r];if(u===f)return[u];var p=Math.max(e,2),v=p9(new ti(f).sub(u).div(p-1),a,0),g=[].concat(LR(w1.rangeStep(new ti(u),new ti(f).sub(new ti(.99).mul(v)),v)),[f]);return i>r?PR(g):g}var Mue=f9(Aue),Eue=f9(Sue),Tue="Invariant failed";function _d(n,e){throw new Error(Tue)}var wue=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Bm(n){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(n)}function QA(){return QA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},QA.apply(this,arguments)}function Cue(n,e){return Due(n)||Bue(n,e)||Oue(n,e)||Rue()}function Rue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oue(n,e){if(n){if(typeof n=="string")return C4(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C4(n,e)}}function C4(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Bue(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,a,s,l=[],u=!0,f=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(i=a.call(t)).done)&&(l.push(i.value),l.length!==e);u=!0);}catch(p){f=!0,r=p}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw r}}return l}}function Due(n){if(Array.isArray(n))return n}function Nue(n,e){if(n==null)return{};var t=Pue(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Pue(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Lue(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Uue(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,y9(i.key),i)}}function Iue(n,e,t){return e&&Uue(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Fue(n,e,t){return e=$A(e),zue(n,v9()?Reflect.construct(e,t||[],$A(n).constructor):e.apply(n,t))}function zue(n,e){if(e&&(Bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hue(n)}function Hue(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function v9(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v9=function(){return!!n})()}function $A(n){return $A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$A(n)}function Gue(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&IR(n,e)}function IR(n,e){return IR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},IR(n,e)}function g9(n,e,t){return e=y9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function y9(n){var e=kue(n,"string");return Bm(e)=="symbol"?e:e+""}function kue(n,e){if(Bm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Bm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var N0=function(n){function e(){return Lue(this,e),Fue(this,e,arguments)}return Gue(e,n),Iue(e,[{key:"render",value:function(){var i=this.props,r=i.offset,a=i.layout,s=i.width,l=i.dataKey,u=i.data,f=i.dataPointFormatter,p=i.xAxis,v=i.yAxis,g=Nue(i,wue),b=wn(g,!1);this.props.direction==="x"&&p.type!=="number"&&_d();var _=u.map(function(M){var A=f(M,l),S=A.x,w=A.y,C=A.value,R=A.errorVal;if(!R)return null;var D=[],N,L;if(Array.isArray(R)){var z=Cue(R,2);N=z[0],L=z[1]}else N=L=R;if(a==="vertical"){var P=p.scale,U=w+r,H=U+s,J=U-s,V=P(C-N),ne=P(C+L);D.push({x1:ne,y1:H,x2:ne,y2:J}),D.push({x1:V,y1:U,x2:ne,y2:U}),D.push({x1:V,y1:H,x2:V,y2:J})}else if(a==="horizontal"){var ee=v.scale,Y=S+r,re=Y-s,ie=Y+s,he=ee(C-N),q=ee(C+L);D.push({x1:re,y1:q,x2:ie,y2:q}),D.push({x1:Y,y1:he,x2:Y,y2:q}),D.push({x1:re,y1:he,x2:ie,y2:he})}return ut.createElement(Ji,QA({className:"recharts-errorBar",key:"bar-".concat(D.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},b),D.map(function(se){return ut.createElement("line",QA({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return ut.createElement(Ji,{className:"recharts-errorBars"},_)}}])}(ut.Component);g9(N0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});g9(N0,"displayName","ErrorBar");function Gy(n){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(n)}function R4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ih(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(t),!0).forEach(function(i){Vue(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):R4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Vue(n,e,t){return e=jue(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jue(n){var e=que(n,"string");return Gy(e)=="symbol"?e:e+""}function que(n,e){if(Gy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Gy(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var b9=function(e){var t=e.children,i=e.formattedGraphicalItems,r=e.legendWidth,a=e.legendContent,s=As(t,od);if(!s)return null;var l=od.defaultProps,u=l!==void 0?Ih(Ih({},l),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(i||[]).reduce(function(p,v){var g=v.item,b=v.props,_=b.sectors||b.data||[];return p.concat(_.map(function(M){return{type:s.props.iconType||g.props.legendType,value:M.name,color:M.fill,payload:M}}))},[]):f=(i||[]).map(function(p){var v=p.item,g=v.type.defaultProps,b=g!==void 0?Ih(Ih({},g),v.props):{},_=b.dataKey,M=b.name,A=b.legendType,S=b.hide;return{inactive:S,dataKey:_,type:u.iconType||A||"square",color:MD(v),value:M||_,payload:b}}),Ih(Ih(Ih({},u),od.getWithHeight(s,r)),{},{payload:f,item:s})};function ky(n){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(n)}function O4(n){return Kue(n)||Yue(n)||Wue(n)||Xue()}function Xue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wue(n,e){if(n){if(typeof n=="string")return FR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return FR(n,e)}}function Yue(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Kue(n){if(Array.isArray(n))return FR(n)}function FR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function B4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ji(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(t),!0).forEach(function(i){hm(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):B4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function hm(n,e,t){return e=Jue(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Jue(n){var e=Zue(n,"string");return ky(e)=="symbol"?e:e+""}function Zue(n,e){if(ky(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(ky(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Rs(n,e,t){return An(n)||An(e)?t:fr(e)?to(n,e,t):dn(e)?e(n):t}function fy(n,e,t,i){var r=Kle(n,function(l){return Rs(l,e)});if(t==="number"){var a=r.filter(function(l){return mt(l)||parseFloat(l)});return a.length?[M1(a),S1(a)]:[1/0,-1/0]}var s=i?r.filter(function(l){return!An(l)}):r;return s.map(function(l){return fr(l)||l instanceof Date?l:""})}var Que=function(e){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(t=i==null?void 0:i.length)!==null&&t!==void 0?t:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var u=a.range,f=0;f<l;f++){var p=f>0?r[f-1].coordinate:r[l-1].coordinate,v=r[f].coordinate,g=f>=l-1?r[0].coordinate:r[f+1].coordinate,b=void 0;if($o(v-p)!==$o(g-v)){var _=[];if($o(g-v)===$o(u[1]-u[0])){b=g;var M=v+u[1]-u[0];_[0]=Math.min(M,(M+p)/2),_[1]=Math.max(M,(M+p)/2)}else{b=p;var A=g+u[1]-u[0];_[0]=Math.min(v,(A+v)/2),_[1]=Math.max(v,(A+v)/2)}var S=[Math.min(v,(b+v)/2),Math.max(v,(b+v)/2)];if(e>S[0]&&e<=S[1]||e>=_[0]&&e<=_[1]){s=r[f].index;break}}else{var w=Math.min(p,g),C=Math.max(p,g);if(e>(w+v)/2&&e<=(C+v)/2){s=r[f].index;break}}}else for(var R=0;R<l;R++)if(R===0&&e<=(i[R].coordinate+i[R+1].coordinate)/2||R>0&&R<l-1&&e>(i[R].coordinate+i[R-1].coordinate)/2&&e<=(i[R].coordinate+i[R+1].coordinate)/2||R===l-1&&e>(i[R].coordinate+i[R-1].coordinate)/2){s=i[R].index;break}return s},MD=function(e){var t,i=e,r=i.type.displayName,a=(t=e.type)!==null&&t!==void 0&&t.defaultProps?ji(ji({},e.type.defaultProps),e.props):e.props,s=a.stroke,l=a.fill,u;switch(r){case"Line":u=s;break;case"Area":case"Radar":u=s&&s!=="none"?s:l;break;default:u=l;break}return u},$ue=function(e){var t=e.barSize,i=e.totalSize,r=e.stackGroups,a=r===void 0?{}:r;if(!a)return{};for(var s={},l=Object.keys(a),u=0,f=l.length;u<f;u++)for(var p=a[l[u]].stackGroups,v=Object.keys(p),g=0,b=v.length;g<b;g++){var _=p[v[g]],M=_.items,A=_.cateAxisId,S=M.filter(function(L){return ic(L.type).indexOf("Bar")>=0});if(S&&S.length){var w=S[0].type.defaultProps,C=w!==void 0?ji(ji({},w),S[0].props):S[0].props,R=C.barSize,D=C[A];s[D]||(s[D]=[]);var N=An(R)?t:R;s[D].push({item:S[0],stackList:S.slice(1),barSize:An(N)?void 0:bd(N,i,0)})}}return s},ece=function(e){var t=e.barGap,i=e.barCategoryGap,r=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,l=e.maxBarSize,u=s.length;if(u<1)return null;var f=bd(t,r,0,!0),p,v=[];if(s[0].barSize===+s[0].barSize){var g=!1,b=r/u,_=s.reduce(function(R,D){return R+D.barSize||0},0);_+=(u-1)*f,_>=r&&(_-=(u-1)*f,f=0),_>=r&&b>0&&(g=!0,b*=.9,_=u*b);var M=(r-_)/2>>0,A={offset:M-f,size:0};p=s.reduce(function(R,D){var N={item:D.item,position:{offset:A.offset+A.size+f,size:g?b:D.barSize}},L=[].concat(O4(R),[N]);return A=L[L.length-1].position,D.stackList&&D.stackList.length&&D.stackList.forEach(function(z){L.push({item:z,position:A})}),L},v)}else{var S=bd(i,r,0,!0);r-2*S-(u-1)*f<=0&&(f=0);var w=(r-2*S-(u-1)*f)/u;w>1&&(w>>=0);var C=l===+l?Math.min(w,l):w;p=s.reduce(function(R,D,N){var L=[].concat(O4(R),[{item:D.item,position:{offset:S+(w+f)*N+(w-C)/2,size:C}}]);return D.stackList&&D.stackList.length&&D.stackList.forEach(function(z){L.push({item:z,position:L[L.length-1].position})}),L},v)}return p},tce=function(e,t,i,r){var a=i.children,s=i.width,l=i.margin,u=s-(l.left||0)-(l.right||0),f=b9({children:a,legendWidth:u});if(f){var p=r||{},v=p.width,g=p.height,b=f.align,_=f.verticalAlign,M=f.layout;if((M==="vertical"||M==="horizontal"&&_==="middle")&&b!=="center"&&mt(e[b]))return ji(ji({},e),{},hm({},b,e[b]+(v||0)));if((M==="horizontal"||M==="vertical"&&b==="center")&&_!=="middle"&&mt(e[_]))return ji(ji({},e),{},hm({},_,e[_]+(g||0)))}return e},nce=function(e,t,i){return An(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||i==="x"?t==="xAxis":i==="y"?t==="yAxis":!0},x9=function(e,t,i,r,a){var s=t.props.children,l=no(s,N0).filter(function(f){return nce(r,a,f.props.direction)});if(l&&l.length){var u=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,p){var v=Rs(p,i);if(An(v))return f;var g=Array.isArray(v)?[M1(v),S1(v)]:[v,v],b=u.reduce(function(_,M){var A=Rs(p,M,0),S=g[0]-Math.abs(Array.isArray(A)?A[0]:A),w=g[1]+Math.abs(Array.isArray(A)?A[1]:A);return[Math.min(S,_[0]),Math.max(w,_[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},ice=function(e,t,i,r,a){var s=t.map(function(l){return x9(e,l,i,a,r)}).filter(function(l){return!An(l)});return s&&s.length?s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},_9=function(e,t,i,r,a){var s=t.map(function(u){var f=u.props.dataKey;return i==="number"&&f&&x9(e,u,f,r)||fy(e,f,i,a)});if(i==="number")return s.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(u,f){for(var p=0,v=f.length;p<v;p++)l[f[p]]||(l[f[p]]=!0,u.push(f[p]));return u},[])},A9=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},S9=function(e,t,i,r){if(r)return e.map(function(u){return u.coordinate});var a,s,l=e.map(function(u){return u.coordinate===t&&(a=!0),u.coordinate===i&&(s=!0),u.coordinate});return a||l.push(t),s||l.push(i),l},Qu=function(e,t,i){if(!e)return null;var r=e.scale,a=e.duplicateDomain,s=e.type,l=e.range,u=e.realScaleType==="scaleBand"?r.bandwidth()/2:2,f=(t||i)&&s==="category"&&r.bandwidth?r.bandwidth()/u:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?$o(l[0]-l[1])*2*f:f,t&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(v){var g=a?a.indexOf(v):v;return{coordinate:r(g)+f,value:v,offset:f}});return p.filter(function(v){return!T0(v.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(v,g){return{coordinate:r(v)+f,value:v,index:g,offset:f}}):r.ticks&&!i?r.ticks(e.tickCount).map(function(v){return{coordinate:r(v)+f,value:v,offset:f}}):r.domain().map(function(v,g){return{coordinate:r(v)+f,value:a?a[v]:v,index:g,offset:f}})},aC=new WeakMap,y_=function(e,t){if(typeof t!="function")return e;aC.has(e)||aC.set(e,new WeakMap);var i=aC.get(e);if(i.has(t))return i.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return i.set(t,r),r},rce=function(e,t,i){var r=e.scale,a=e.type,s=e.layout,l=e.axisType;if(r==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Py(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:WA(),realScaleType:"linear"}:a==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!i)?{scale:cy(),realScaleType:"point"}:a==="category"?{scale:Py(),realScaleType:"band"}:{scale:WA(),realScaleType:"linear"};if(E0(r)){var u="scale".concat(c1(r));return{scale:(v4[u]||cy)(),realScaleType:v4[u]?u:"point"}}return dn(r)?{scale:r}:{scale:cy(),realScaleType:"point"}},D4=1e-4,ace=function(e){var t=e.domain();if(!(!t||t.length<=2)){var i=t.length,r=e.range(),a=Math.min(r[0],r[1])-D4,s=Math.max(r[0],r[1])+D4,l=e(t[0]),u=e(t[i-1]);(l<a||l>s||u<a||u>s)&&e.domain([t[0],t[i-1]])}},sce=function(e,t){if(!e)return null;for(var i=0,r=e.length;i<r;i++)if(e[i].item===t)return e[i].position;return null},oce=function(e,t){if(!t||t.length!==2||!mt(t[0])||!mt(t[1]))return e;var i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!mt(e[0])||e[0]<i)&&(a[0]=i),(!mt(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<i&&(a[1]=i),a},lce=function(e){var t=e.length;if(!(t<=0))for(var i=0,r=e[0].length;i<r;++i)for(var a=0,s=0,l=0;l<t;++l){var u=T0(e[l][i][1])?e[l][i][0]:e[l][i][1];u>=0?(e[l][i][0]=a,e[l][i][1]=a+u,a=e[l][i][1]):(e[l][i][0]=s,e[l][i][1]=s+u,s=e[l][i][1])}},uce=function(e){var t=e.length;if(!(t<=0))for(var i=0,r=e[0].length;i<r;++i)for(var a=0,s=0;s<t;++s){var l=T0(e[s][i][1])?e[s][i][0]:e[s][i][1];l>=0?(e[s][i][0]=a,e[s][i][1]=a+l,a=e[s][i][1]):(e[s][i][0]=0,e[s][i][1]=0)}},cce={sign:lce,expand:Xne,none:Sm,silhouette:Wne,wiggle:Yne,positive:uce},fce=function(e,t,i){var r=t.map(function(l){return l.props.dataKey}),a=cce[i],s=qne().keys(r).value(function(l,u){return+Rs(l,u,0)}).order(vR).offset(a);return s(e)},hce=function(e,t,i,r,a,s){if(!e)return null;var l=s?t.reverse():t,u={},f=l.reduce(function(v,g){var b,_=(b=g.type)!==null&&b!==void 0&&b.defaultProps?ji(ji({},g.type.defaultProps),g.props):g.props,M=_.stackId,A=_.hide;if(A)return v;var S=_[i],w=v[S]||{hasStack:!1,stackGroups:{}};if(fr(M)){var C=w.stackGroups[M]||{numericAxisId:i,cateAxisId:r,items:[]};C.items.push(g),w.hasStack=!0,w.stackGroups[M]=C}else w.stackGroups[w0("_stackId_")]={numericAxisId:i,cateAxisId:r,items:[g]};return ji(ji({},v),{},hm({},S,w))},u),p={};return Object.keys(f).reduce(function(v,g){var b=f[g];if(b.hasStack){var _={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(M,A){var S=b.stackGroups[A];return ji(ji({},M),{},hm({},A,{numericAxisId:i,cateAxisId:r,items:S.items,stackedData:fce(e,S.items,a)}))},_)}return ji(ji({},v),{},hm({},g,b))},p)},dce=function(e,t){var i=t.realScaleType,r=t.type,a=t.tickCount,s=t.originalDomain,l=t.allowDecimals,u=i||t.scale;if(u!=="auto"&&u!=="linear")return null;if(a&&r==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var p=Mue(f,a,l);return e.domain([M1(p),S1(p)]),{niceTicks:p}}if(a&&r==="number"){var v=e.domain(),g=Eue(v,a,l);return{niceTicks:g}}return null};function N4(n){var e=n.axis,t=n.ticks,i=n.bandSize,r=n.entry,a=n.index,s=n.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!An(r[e.dataKey])){var l=wA(t,"value",r[e.dataKey]);if(l)return l.coordinate+i/2}return t[a]?t[a].coordinate+i/2:null}var u=Rs(r,An(s)?e.dataKey:s);return An(u)?null:e.scale(u)}var P4=function(e){var t=e.axis,i=e.ticks,r=e.offset,a=e.bandSize,s=e.entry,l=e.index;if(t.type==="category")return i[l]?i[l].coordinate+r:null;var u=Rs(s,t.dataKey,t.domain[l]);return An(u)?null:t.scale(u)-a/2+r},pce=function(e){var t=e.numericAxis,i=t.scale.domain();if(t.type==="number"){var r=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);return r<=0&&a>=0?0:a<0?a:r}return i[0]},mce=function(e,t){var i,r=(i=e.type)!==null&&i!==void 0&&i.defaultProps?ji(ji({},e.type.defaultProps),e.props):e.props,a=r.stackId;if(fr(a)){var s=t[a];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},vce=function(e){return e.reduce(function(t,i){return[M1(i.concat([t[0]]).filter(mt)),S1(i.concat([t[1]]).filter(mt))]},[1/0,-1/0])},M9=function(e,t,i){return Object.keys(e).reduce(function(r,a){var s=e[a],l=s.stackedData,u=l.reduce(function(f,p){var v=vce(p.slice(t,i+1));return[Math.min(f[0],v[0]),Math.max(f[1],v[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]).map(function(r){return r===1/0||r===-1/0?0:r})},L4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,U4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zR=function(e,t,i){if(dn(e))return e(t,i);if(!Array.isArray(e))return t;var r=[];if(mt(e[0]))r[0]=i?e[0]:Math.min(e[0],t[0]);else if(L4.test(e[0])){var a=+L4.exec(e[0])[1];r[0]=t[0]-a}else dn(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(mt(e[1]))r[1]=i?e[1]:Math.max(e[1],t[1]);else if(U4.test(e[1])){var s=+U4.exec(e[1])[1];r[1]=t[1]+s}else dn(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},eS=function(e,t,i){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!i||r>0)return r}if(e&&t&&t.length>=2){for(var a=QB(t,function(v){return v.coordinate}),s=1/0,l=1,u=a.length;l<u;l++){var f=a[l],p=a[l-1];s=Math.min((f.coordinate||0)-(p.coordinate||0),s)}return s===1/0?0:s}return i?void 0:0},I4=function(e,t,i){return!e||!e.length||E1(e,to(i,"type.defaultProps.domain"))?t:e},E9=function(e,t){var i=e.type.defaultProps?ji(ji({},e.type.defaultProps),e.props):e.props,r=i.dataKey,a=i.name,s=i.unit,l=i.formatter,u=i.tooltipType,f=i.chartType,p=i.hide;return ji(ji({},wn(e,!1)),{},{dataKey:r,unit:s,formatter:l,name:a||r,color:MD(e),value:Rs(t,r),type:u,payload:t,chartType:f,hide:p})};function Vy(n){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(n)}function F4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function z4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(t),!0).forEach(function(i){gce(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gce(n,e,t){return e=yce(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yce(n){var e=bce(n,"string");return Vy(e)=="symbol"?e:e+""}function bce(n,e){if(Vy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Vy(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var tS=Math.PI/180,xce=function(e){return e*180/Math.PI},Kr=function(e,t,i,r){return{x:e+Math.cos(-tS*r)*i,y:t+Math.sin(-tS*r)*i}},_ce=function(e,t){var i=e.x,r=e.y,a=t.x,s=t.y;return Math.sqrt(Math.pow(i-a,2)+Math.pow(r-s,2))},Ace=function(e,t){var i=e.x,r=e.y,a=t.cx,s=t.cy,l=_ce({x:i,y:r},{x:a,y:s});if(l<=0)return{radius:l};var u=(i-a)/l,f=Math.acos(u);return r>s&&(f=2*Math.PI-f),{radius:l,angle:xce(f),angleInRadian:f}},Sce=function(e){var t=e.startAngle,i=e.endAngle,r=Math.floor(t/360),a=Math.floor(i/360),s=Math.min(r,a);return{startAngle:t-s*360,endAngle:i-s*360}},Mce=function(e,t){var i=t.startAngle,r=t.endAngle,a=Math.floor(i/360),s=Math.floor(r/360),l=Math.min(a,s);return e+l*360},H4=function(e,t){var i=e.x,r=e.y,a=Ace({x:i,y:r},t),s=a.radius,l=a.angle,u=t.innerRadius,f=t.outerRadius;if(s<u||s>f)return!1;if(s===0)return!0;var p=Sce(t),v=p.startAngle,g=p.endAngle,b=l,_;if(v<=g){for(;b>g;)b-=360;for(;b<v;)b+=360;_=b>=v&&b<=g}else{for(;b>v;)b-=360;for(;b<g;)b+=360;_=b>=g&&b<=v}return _?z4(z4({},t),{},{radius:s,angle:Mce(b,t)}):null};function jy(n){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(n)}var Ece=["offset"];function Tce(n){return Oce(n)||Rce(n)||Cce(n)||wce()}function wce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cce(n,e){if(n){if(typeof n=="string")return HR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return HR(n,e)}}function Rce(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Oce(n){if(Array.isArray(n))return HR(n)}function HR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Bce(n,e){if(n==null)return{};var t=Dce(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Dce(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function G4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function cr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(t),!0).forEach(function(i){Nce(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):G4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Nce(n,e,t){return e=Pce(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Pce(n){var e=Lce(n,"string");return jy(e)=="symbol"?e:e+""}function Lce(n,e){if(jy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(jy(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Uce=function(e){var t=e.value,i=e.formatter,r=An(e.children)?t:e.children;return dn(i)?i(r):r},Ice=function(e,t){var i=$o(t-e),r=Math.min(Math.abs(t-e),360);return i*r},Fce=function(e,t,i){var r=e.position,a=e.viewBox,s=e.offset,l=e.className,u=a,f=u.cx,p=u.cy,v=u.innerRadius,g=u.outerRadius,b=u.startAngle,_=u.endAngle,M=u.clockWise,A=(v+g)/2,S=Ice(b,_),w=S>=0?1:-1,C,R;r==="insideStart"?(C=b+w*s,R=M):r==="insideEnd"?(C=_-w*s,R=!M):r==="end"&&(C=_+w*s,R=M),R=S<=0?R:!R;var D=Kr(f,p,A,C),N=Kr(f,p,A,C+(R?1:-1)*359),L="M".concat(D.x,",").concat(D.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(R?0:1,`,
    `).concat(N.x,",").concat(N.y),z=An(e.id)?w0("recharts-radial-line-"):e.id;return te("text",{...i,dominantBaseline:"central",className:Ln("recharts-radial-bar-label",l),children:[F("defs",{children:F("path",{id:z,d:L})}),F("textPath",{xlinkHref:"#".concat(z),children:t})]})},zce=function(e){var t=e.viewBox,i=e.offset,r=e.position,a=t,s=a.cx,l=a.cy,u=a.innerRadius,f=a.outerRadius,p=a.startAngle,v=a.endAngle,g=(p+v)/2;if(r==="outside"){var b=Kr(s,l,f+i,g),_=b.x,M=b.y;return{x:_,y:M,textAnchor:_>=s?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var A=(u+f)/2,S=Kr(s,l,A,g),w=S.x,C=S.y;return{x:w,y:C,textAnchor:"middle",verticalAnchor:"middle"}},Hce=function(e){var t=e.viewBox,i=e.parentViewBox,r=e.offset,a=e.position,s=t,l=s.x,u=s.y,f=s.width,p=s.height,v=p>=0?1:-1,g=v*r,b=v>0?"end":"start",_=v>0?"start":"end",M=f>=0?1:-1,A=M*r,S=M>0?"end":"start",w=M>0?"start":"end";if(a==="top"){var C={x:l+f/2,y:u-v*r,textAnchor:"middle",verticalAnchor:b};return cr(cr({},C),i?{height:Math.max(u-i.y,0),width:f}:{})}if(a==="bottom"){var R={x:l+f/2,y:u+p+g,textAnchor:"middle",verticalAnchor:_};return cr(cr({},R),i?{height:Math.max(i.y+i.height-(u+p),0),width:f}:{})}if(a==="left"){var D={x:l-A,y:u+p/2,textAnchor:S,verticalAnchor:"middle"};return cr(cr({},D),i?{width:Math.max(D.x-i.x,0),height:p}:{})}if(a==="right"){var N={x:l+f+A,y:u+p/2,textAnchor:w,verticalAnchor:"middle"};return cr(cr({},N),i?{width:Math.max(i.x+i.width-N.x,0),height:p}:{})}var L=i?{width:f,height:p}:{};return a==="insideLeft"?cr({x:l+A,y:u+p/2,textAnchor:w,verticalAnchor:"middle"},L):a==="insideRight"?cr({x:l+f-A,y:u+p/2,textAnchor:S,verticalAnchor:"middle"},L):a==="insideTop"?cr({x:l+f/2,y:u+g,textAnchor:"middle",verticalAnchor:_},L):a==="insideBottom"?cr({x:l+f/2,y:u+p-g,textAnchor:"middle",verticalAnchor:b},L):a==="insideTopLeft"?cr({x:l+A,y:u+g,textAnchor:w,verticalAnchor:_},L):a==="insideTopRight"?cr({x:l+f-A,y:u+g,textAnchor:S,verticalAnchor:_},L):a==="insideBottomLeft"?cr({x:l+A,y:u+p-g,textAnchor:w,verticalAnchor:b},L):a==="insideBottomRight"?cr({x:l+f-A,y:u+p-g,textAnchor:S,verticalAnchor:b},L):rv(a)&&(mt(a.x)||Qh(a.x))&&(mt(a.y)||Qh(a.y))?cr({x:l+bd(a.x,f),y:u+bd(a.y,p),textAnchor:"end",verticalAnchor:"end"},L):cr({x:l+f/2,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},L)},Gce=function(e){return"cx"in e&&mt(e.cx)};function ha(n){var e=n.offset,t=e===void 0?5:e,i=Bce(n,Ece),r=cr({offset:t},i),a=r.viewBox,s=r.position,l=r.value,u=r.children,f=r.content,p=r.className,v=p===void 0?"":p,g=r.textBreakAll;if(!a||An(l)&&An(u)&&!Z.isValidElement(f)&&!dn(f))return null;if(Z.isValidElement(f))return Z.cloneElement(f,r);var b;if(dn(f)){if(b=Z.createElement(f,r),Z.isValidElement(b))return b}else b=Uce(r);var _=Gce(a),M=wn(r,!0);if(_&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Fce(r,b,M);var A=_?zce(r):Hce(r);return F(HA,{className:Ln("recharts-label",v),...M,...A,breakAll:g,children:b})}ha.displayName="Label";var T9=function(e){var t=e.cx,i=e.cy,r=e.angle,a=e.startAngle,s=e.endAngle,l=e.r,u=e.radius,f=e.innerRadius,p=e.outerRadius,v=e.x,g=e.y,b=e.top,_=e.left,M=e.width,A=e.height,S=e.clockWise,w=e.labelViewBox;if(w)return w;if(mt(M)&&mt(A)){if(mt(v)&&mt(g))return{x:v,y:g,width:M,height:A};if(mt(b)&&mt(_))return{x:b,y:_,width:M,height:A}}return mt(v)&&mt(g)?{x:v,y:g,width:0,height:0}:mt(t)&&mt(i)?{cx:t,cy:i,startAngle:a||r||0,endAngle:s||r||0,innerRadius:f||0,outerRadius:p||u||l||0,clockWise:S}:e.viewBox?e.viewBox:{}},kce=function(e,t){return e?e===!0?F(ha,{viewBox:t},"label-implicit"):fr(e)?F(ha,{viewBox:t,value:e},"label-implicit"):Z.isValidElement(e)?e.type===ha?Z.cloneElement(e,{key:"label-implicit",viewBox:t}):F(ha,{content:e,viewBox:t},"label-implicit"):dn(e)?F(ha,{content:e,viewBox:t},"label-implicit"):rv(e)?Z.createElement(ha,{viewBox:t,...e,key:"label-implicit"}):null:null},Vce=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&i&&!e.label)return null;var r=e.children,a=T9(e),s=no(r,ha).map(function(u,f){return Z.cloneElement(u,{viewBox:t||a,key:"label-".concat(f)})});if(!i)return s;var l=kce(e.label,t||a);return[l].concat(Tce(s))};ha.parseViewBox=T9;ha.renderCallByParent=Vce;var sC,k4;function jce(){if(k4)return sC;k4=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return sC=n,sC}var qce=jce();const Xce=Jn(qce);function qy(n){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(n)}var Wce=["valueAccessor"],Yce=["data","dataKey","clockWise","id","textBreakAll"];function Kce(n){return $ce(n)||Qce(n)||Zce(n)||Jce()}function Jce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zce(n,e){if(n){if(typeof n=="string")return GR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return GR(n,e)}}function Qce(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $ce(n){if(Array.isArray(n))return GR(n)}function GR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function V4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function j4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(t),!0).forEach(function(i){efe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):V4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function efe(n,e,t){return e=tfe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tfe(n){var e=nfe(n,"string");return qy(e)=="symbol"?e:e+""}function nfe(n,e){if(qy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(qy(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function q4(n,e){if(n==null)return{};var t=ife(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function ife(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}var rfe=function(e){return Array.isArray(e.value)?Xce(e.value):e.value};function Af(n){var e=n.valueAccessor,t=e===void 0?rfe:e,i=q4(n,Wce),r=i.data,a=i.dataKey,s=i.clockWise,l=i.id,u=i.textBreakAll,f=q4(i,Yce);return!r||!r.length?null:F(Ji,{className:"recharts-label-list",children:r.map(function(p,v){var g=An(a)?t(p,v):Rs(p&&p.payload,a),b=An(l)?{}:{id:"".concat(l,"-").concat(v)};return Z.createElement(ha,{...wn(p,!0),...f,...b,parentViewBox:p.parentViewBox,value:g,textBreakAll:u,viewBox:ha.parseViewBox(An(s)?p:j4(j4({},p),{},{clockWise:s})),key:"label-".concat(v),index:v})})})}Af.displayName="LabelList";function afe(n,e){return n?n===!0?F(Af,{data:e},"labelList-implicit"):ut.isValidElement(n)||dn(n)?F(Af,{data:e,content:n},"labelList-implicit"):rv(n)?Z.createElement(Af,{data:e,...n,key:"labelList-implicit"}):null:null}function sfe(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!n||!n.children&&t&&!n.label)return null;var i=n.children,r=no(i,Af).map(function(s,l){return Z.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!t)return r;var a=afe(n.label,e);return[a].concat(Kce(r))}Af.renderCallByParent=sfe;function Xy(n){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(n)}function kR(){return kR=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kR.apply(this,arguments)}function X4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function W4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?X4(Object(t),!0).forEach(function(i){ofe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):X4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ofe(n,e,t){return e=lfe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lfe(n){var e=ufe(n,"string");return Xy(e)=="symbol"?e:e+""}function ufe(n,e){if(Xy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Xy(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var cfe=function(e,t){var i=$o(t-e),r=Math.min(Math.abs(t-e),359.999);return i*r},b_=function(e){var t=e.cx,i=e.cy,r=e.radius,a=e.angle,s=e.sign,l=e.isExternal,u=e.cornerRadius,f=e.cornerIsExternal,p=u*(l?1:-1)+r,v=Math.asin(u/p)/tS,g=f?a:a+s*v,b=Kr(t,i,p,g),_=Kr(t,i,r,g),M=f?a-s*v:a,A=Kr(t,i,p*Math.cos(v*tS),M);return{center:b,circleTangency:_,lineTangency:A,theta:v}},w9=function(e){var t=e.cx,i=e.cy,r=e.innerRadius,a=e.outerRadius,s=e.startAngle,l=e.endAngle,u=cfe(s,l),f=s+u,p=Kr(t,i,a,s),v=Kr(t,i,a,f),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>f),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(r>0){var b=Kr(t,i,r,s),_=Kr(t,i,r,f);g+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(t,",").concat(i," Z");return g},ffe=function(e){var t=e.cx,i=e.cy,r=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,u=e.cornerIsExternal,f=e.startAngle,p=e.endAngle,v=$o(p-f),g=b_({cx:t,cy:i,radius:a,angle:f,sign:v,cornerRadius:s,cornerIsExternal:u}),b=g.circleTangency,_=g.lineTangency,M=g.theta,A=b_({cx:t,cy:i,radius:a,angle:p,sign:-v,cornerRadius:s,cornerIsExternal:u}),S=A.circleTangency,w=A.lineTangency,C=A.theta,R=u?Math.abs(f-p):Math.abs(f-p)-M-C;if(R<0)return l?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):w9({cx:t,cy:i,innerRadius:r,outerRadius:a,startAngle:f,endAngle:p});var D="M ".concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(v<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var N=b_({cx:t,cy:i,radius:r,angle:f,sign:v,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),L=N.circleTangency,z=N.lineTangency,P=N.theta,U=b_({cx:t,cy:i,radius:r,angle:p,sign:-v,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),H=U.circleTangency,J=U.lineTangency,V=U.theta,ne=u?Math.abs(f-p):Math.abs(f-p)-P-V;if(ne<0&&s===0)return"".concat(D,"L").concat(t,",").concat(i,"Z");D+="L".concat(J.x,",").concat(J.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(H.x,",").concat(H.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(ne>180),",").concat(+(v>0),",").concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(z.x,",").concat(z.y,"Z")}else D+="L".concat(t,",").concat(i,"Z");return D},hfe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},C9=function(e){var t=W4(W4({},hfe),e),i=t.cx,r=t.cy,a=t.innerRadius,s=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,f=t.cornerIsExternal,p=t.startAngle,v=t.endAngle,g=t.className;if(s<a||p===v)return null;var b=Ln("recharts-sector",g),_=s-a,M=bd(l,_,0,!0),A;return M>0&&Math.abs(p-v)<360?A=ffe({cx:i,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(M,_/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:p,endAngle:v}):A=w9({cx:i,cy:r,innerRadius:a,outerRadius:s,startAngle:p,endAngle:v}),ut.createElement("path",kR({},wn(t,!0),{className:b,d:A,role:"img"}))};function Wy(n){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(n)}function VR(){return VR=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},VR.apply(this,arguments)}function Y4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function K4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(t),!0).forEach(function(i){dfe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Y4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dfe(n,e,t){return e=pfe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pfe(n){var e=mfe(n,"string");return Wy(e)=="symbol"?e:e+""}function mfe(n,e){if(Wy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Wy(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var J4={curveBasisClosed:Pne,curveBasisOpen:Lne,curveBasis:Nne,curveBumpX:bne,curveBumpY:xne,curveLinearClosed:Une,curveLinear:h1,curveMonotoneX:Ine,curveMonotoneY:Fne,curveNatural:zne,curveStep:Hne,curveStepAfter:kne,curveStepBefore:Gne},x_=function(e){return e.x===+e.x&&e.y===+e.y},jg=function(e){return e.x},qg=function(e){return e.y},vfe=function(e,t){if(dn(e))return e;var i="curve".concat(c1(e));return(i==="curveMonotone"||i==="curveBump")&&t?J4["".concat(i).concat(t==="vertical"?"Y":"X")]:J4[i]||h1},gfe=function(e){var t=e.type,i=t===void 0?"linear":t,r=e.points,a=r===void 0?[]:r,s=e.baseLine,l=e.layout,u=e.connectNulls,f=u===void 0?!1:u,p=vfe(i,l),v=f?a.filter(function(M){return x_(M)}):a,g;if(Array.isArray(s)){var b=f?s.filter(function(M){return x_(M)}):s,_=v.map(function(M,A){return K4(K4({},M),{},{base:b[A]})});return l==="vertical"?g=f_().y(qg).x1(jg).x0(function(M){return M.base.x}):g=f_().x(jg).y1(qg).y0(function(M){return M.base.y}),g.defined(x_).curve(p),g(_)}return l==="vertical"&&mt(s)?g=f_().y(qg).x1(jg).x0(s):mt(s)?g=f_().x(jg).y1(qg).y0(s):g=D6().x(jg).y(qg),g.defined(x_).curve(p),g(v)},jR=function(e){var t=e.className,i=e.points,r=e.path,a=e.pathRef;if((!i||!i.length)&&!r)return null;var s=i&&i.length?gfe(e):r;return ut.createElement("path",VR({},wn(e,!1),CA(e),{className:Ln("recharts-curve",t),d:s,ref:a}))},oC={exports:{}},lC,Z4;function yfe(){if(Z4)return lC;Z4=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lC=n,lC}var uC,Q4;function bfe(){if(Q4)return uC;Q4=1;var n=yfe();function e(){}function t(){}return t.resetWarningCache=e,uC=function(){function i(s,l,u,f,p,v){if(v!==n){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},uC}var $4;function xfe(){return $4||($4=1,oC.exports=bfe()()),oC.exports}var _fe=xfe();const Xn=Jn(_fe);var Afe=Object.getOwnPropertyNames,Sfe=Object.getOwnPropertySymbols,Mfe=Object.prototype.hasOwnProperty;function ez(n,e){return function(i,r,a){return n(i,r,a)&&e(i,r,a)}}function __(n){return function(t,i,r){if(!t||!i||typeof t!="object"||typeof i!="object")return n(t,i,r);var a=r.cache,s=a.get(t),l=a.get(i);if(s&&l)return s===i&&l===t;a.set(t,i),a.set(i,t);var u=n(t,i,r);return a.delete(t),a.delete(i),u}}function tz(n){return Afe(n).concat(Sfe(n))}var Efe=Object.hasOwn||function(n,e){return Mfe.call(n,e)};function Nd(n,e){return n===e||!n&&!e&&n!==n&&e!==e}var Tfe="__v",wfe="__o",Cfe="_owner",nz=Object.getOwnPropertyDescriptor,iz=Object.keys;function Rfe(n,e,t){var i=n.length;if(e.length!==i)return!1;for(;i-- >0;)if(!t.equals(n[i],e[i],i,i,n,e,t))return!1;return!0}function Ofe(n,e){return Nd(n.getTime(),e.getTime())}function Bfe(n,e){return n.name===e.name&&n.message===e.message&&n.cause===e.cause&&n.stack===e.stack}function Dfe(n,e){return n===e}function rz(n,e,t){var i=n.size;if(i!==e.size)return!1;if(!i)return!0;for(var r=new Array(i),a=n.entries(),s,l,u=0;(s=a.next())&&!s.done;){for(var f=e.entries(),p=!1,v=0;(l=f.next())&&!l.done;){if(r[v]){v++;continue}var g=s.value,b=l.value;if(t.equals(g[0],b[0],u,v,n,e,t)&&t.equals(g[1],b[1],g[0],b[0],n,e,t)){p=r[v]=!0;break}v++}if(!p)return!1;u++}return!0}var Nfe=Nd;function Pfe(n,e,t){var i=iz(n),r=i.length;if(iz(e).length!==r)return!1;for(;r-- >0;)if(!R9(n,e,t,i[r]))return!1;return!0}function Xg(n,e,t){var i=tz(n),r=i.length;if(tz(e).length!==r)return!1;for(var a,s,l;r-- >0;)if(a=i[r],!R9(n,e,t,a)||(s=nz(n,a),l=nz(e,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Lfe(n,e){return Nd(n.valueOf(),e.valueOf())}function Ufe(n,e){return n.source===e.source&&n.flags===e.flags}function az(n,e,t){var i=n.size;if(i!==e.size)return!1;if(!i)return!0;for(var r=new Array(i),a=n.values(),s,l;(s=a.next())&&!s.done;){for(var u=e.values(),f=!1,p=0;(l=u.next())&&!l.done;){if(!r[p]&&t.equals(s.value,l.value,s.value,l.value,n,e,t)){f=r[p]=!0;break}p++}if(!f)return!1}return!0}function Ife(n,e){var t=n.length;if(e.length!==t)return!1;for(;t-- >0;)if(n[t]!==e[t])return!1;return!0}function Ffe(n,e){return n.hostname===e.hostname&&n.pathname===e.pathname&&n.protocol===e.protocol&&n.port===e.port&&n.hash===e.hash&&n.username===e.username&&n.password===e.password}function R9(n,e,t,i){return(i===Cfe||i===wfe||i===Tfe)&&(n.$$typeof||e.$$typeof)?!0:Efe(e,i)&&t.equals(n[i],e[i],i,i,n,e,t)}var zfe="[object Arguments]",Hfe="[object Boolean]",Gfe="[object Date]",kfe="[object Error]",Vfe="[object Map]",jfe="[object Number]",qfe="[object Object]",Xfe="[object RegExp]",Wfe="[object Set]",Yfe="[object String]",Kfe="[object URL]",Jfe=Array.isArray,sz=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,oz=Object.assign,Zfe=Object.prototype.toString.call.bind(Object.prototype.toString);function Qfe(n){var e=n.areArraysEqual,t=n.areDatesEqual,i=n.areErrorsEqual,r=n.areFunctionsEqual,a=n.areMapsEqual,s=n.areNumbersEqual,l=n.areObjectsEqual,u=n.arePrimitiveWrappersEqual,f=n.areRegExpsEqual,p=n.areSetsEqual,v=n.areTypedArraysEqual,g=n.areUrlsEqual;return function(_,M,A){if(_===M)return!0;if(_==null||M==null)return!1;var S=typeof _;if(S!==typeof M)return!1;if(S!=="object")return S==="number"?s(_,M,A):S==="function"?r(_,M,A):!1;var w=_.constructor;if(w!==M.constructor)return!1;if(w===Object)return l(_,M,A);if(Jfe(_))return e(_,M,A);if(sz!=null&&sz(_))return v(_,M,A);if(w===Date)return t(_,M,A);if(w===RegExp)return f(_,M,A);if(w===Map)return a(_,M,A);if(w===Set)return p(_,M,A);var C=Zfe(_);return C===Gfe?t(_,M,A):C===Xfe?f(_,M,A):C===Vfe?a(_,M,A):C===Wfe?p(_,M,A):C===qfe?typeof _.then!="function"&&typeof M.then!="function"&&l(_,M,A):C===Kfe?g(_,M,A):C===kfe?i(_,M,A):C===zfe?l(_,M,A):C===Hfe||C===jfe||C===Yfe?u(_,M,A):!1}}function $fe(n){var e=n.circular,t=n.createCustomConfig,i=n.strict,r={areArraysEqual:i?Xg:Rfe,areDatesEqual:Ofe,areErrorsEqual:Bfe,areFunctionsEqual:Dfe,areMapsEqual:i?ez(rz,Xg):rz,areNumbersEqual:Nfe,areObjectsEqual:i?Xg:Pfe,arePrimitiveWrappersEqual:Lfe,areRegExpsEqual:Ufe,areSetsEqual:i?ez(az,Xg):az,areTypedArraysEqual:i?Xg:Ife,areUrlsEqual:Ffe};if(t&&(r=oz({},r,t(r))),e){var a=__(r.areArraysEqual),s=__(r.areMapsEqual),l=__(r.areObjectsEqual),u=__(r.areSetsEqual);r=oz({},r,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:u})}return r}function ehe(n){return function(e,t,i,r,a,s,l){return n(e,t,l)}}function the(n){var e=n.circular,t=n.comparator,i=n.createState,r=n.equals,a=n.strict;if(i)return function(u,f){var p=i(),v=p.cache,g=v===void 0?e?new WeakMap:void 0:v,b=p.meta;return t(u,f,{cache:g,equals:r,meta:b,strict:a})};if(e)return function(u,f){return t(u,f,{cache:new WeakMap,equals:r,meta:void 0,strict:a})};var s={cache:void 0,equals:r,meta:void 0,strict:a};return function(u,f){return t(u,f,s)}}var nhe=Nf();Nf({strict:!0});Nf({circular:!0});Nf({circular:!0,strict:!0});Nf({createInternalComparator:function(){return Nd}});Nf({strict:!0,createInternalComparator:function(){return Nd}});Nf({circular:!0,createInternalComparator:function(){return Nd}});Nf({circular:!0,createInternalComparator:function(){return Nd},strict:!0});function Nf(n){n===void 0&&(n={});var e=n.circular,t=e===void 0?!1:e,i=n.createInternalComparator,r=n.createState,a=n.strict,s=a===void 0?!1:a,l=$fe(n),u=Qfe(l),f=i?i(u):ehe(u);return the({circular:t,comparator:u,createState:r,equals:f,strict:s})}function ihe(n){typeof requestAnimationFrame<"u"&&requestAnimationFrame(n)}function lz(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=-1,i=function r(a){t<0&&(t=a),a-t>e?(n(a),t=-1):ihe(r)};requestAnimationFrame(i)}function qR(n){"@babel/helpers - typeof";return qR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qR(n)}function rhe(n){return lhe(n)||ohe(n)||she(n)||ahe()}function ahe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function she(n,e){if(n){if(typeof n=="string")return uz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return uz(n,e)}}function uz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function ohe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function lhe(n){if(Array.isArray(n))return n}function uhe(){var n={},e=function(){return null},t=!1,i=function r(a){if(!t){if(Array.isArray(a)){if(!a.length)return;var s=a,l=rhe(s),u=l[0],f=l.slice(1);if(typeof u=="number"){lz(r.bind(null,f),u);return}r(u),lz(r.bind(null,f));return}qR(a)==="object"&&(n=a,e(n)),typeof a=="function"&&a()}};return{stop:function(){t=!0},start:function(a){t=!1,i(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Yy(n){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(n)}function cz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function fz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cz(Object(t),!0).forEach(function(i){O9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function O9(n,e,t){return e=che(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function che(n){var e=fhe(n,"string");return Yy(e)==="symbol"?e:String(e)}function fhe(n,e){if(Yy(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Yy(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var hhe=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(i,r){return i.filter(function(a){return r.includes(a)})})},dhe=function(e){return e},phe=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},hy=function(e,t){return Object.keys(t).reduce(function(i,r){return fz(fz({},i),{},O9({},r,e(r,t[r])))},{})},hz=function(e,t,i){return e.map(function(r){return"".concat(phe(r)," ").concat(t,"ms ").concat(i)}).join(",")};function mhe(n,e){return yhe(n)||ghe(n,e)||B9(n,e)||vhe()}function vhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ghe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,a,s,l=[],u=!0,f=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(i=a.call(t)).done)&&(l.push(i.value),l.length!==e);u=!0);}catch(p){f=!0,r=p}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw r}}return l}}function yhe(n){if(Array.isArray(n))return n}function bhe(n){return Ahe(n)||_he(n)||B9(n)||xhe()}function xhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B9(n,e){if(n){if(typeof n=="string")return XR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return XR(n,e)}}function _he(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ahe(n){if(Array.isArray(n))return XR(n)}function XR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var nS=1e-4,D9=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},N9=function(e,t){return e.map(function(i,r){return i*Math.pow(t,r)}).reduce(function(i,r){return i+r})},dz=function(e,t){return function(i){var r=D9(e,t);return N9(r,i)}},She=function(e,t){return function(i){var r=D9(e,t),a=[].concat(bhe(r.map(function(s,l){return s*l}).slice(1)),[0]);return N9(a,i)}},pz=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t[0],a=t[1],s=t[2],l=t[3];if(t.length===1)switch(t[0]){case"linear":r=0,a=0,s=1,l=1;break;case"ease":r=.25,a=.1,s=.25,l=1;break;case"ease-in":r=.42,a=0,s=1,l=1;break;case"ease-out":r=.42,a=0,s=.58,l=1;break;case"ease-in-out":r=0,a=0,s=.58,l=1;break;default:{var u=t[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var f=u[1].split(")")[0].split(",").map(function(A){return parseFloat(A)}),p=mhe(f,4);r=p[0],a=p[1],s=p[2],l=p[3]}}}var v=dz(r,s),g=dz(a,l),b=She(r,s),_=function(S){return S>1?1:S<0?0:S},M=function(S){for(var w=S>1?1:S,C=w,R=0;R<8;++R){var D=v(C)-w,N=b(C);if(Math.abs(D-w)<nS||N<nS)return g(C);C=_(C-D/N)}return g(C)};return M.isStepper=!1,M},Mhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,i=t===void 0?100:t,r=e.damping,a=r===void 0?8:r,s=e.dt,l=s===void 0?17:s,u=function(p,v,g){var b=-(p-v)*i,_=g*a,M=g+(b-_)*l/1e3,A=g*l/1e3+p;return Math.abs(A-v)<nS&&Math.abs(M)<nS?[v,0]:[A,M]};return u.isStepper=!0,u.dt=l,u},Ehe=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t[0];if(typeof r=="string")switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pz(r);case"spring":return Mhe();default:if(r.split("(")[0]==="cubic-bezier")return pz(r)}return typeof r=="function"?r:null};function Ky(n){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(n)}function mz(n){return Che(n)||whe(n)||P9(n)||The()}function The(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function whe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Che(n){if(Array.isArray(n))return YR(n)}function vz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Wr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vz(Object(t),!0).forEach(function(i){WR(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function WR(n,e,t){return e=Rhe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rhe(n){var e=Ohe(n,"string");return Ky(e)==="symbol"?e:String(e)}function Ohe(n,e){if(Ky(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Ky(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Bhe(n,e){return Phe(n)||Nhe(n,e)||P9(n,e)||Dhe()}function Dhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P9(n,e){if(n){if(typeof n=="string")return YR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return YR(n,e)}}function YR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Nhe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,a,s,l=[],u=!0,f=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(i=a.call(t)).done)&&(l.push(i.value),l.length!==e);u=!0);}catch(p){f=!0,r=p}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw r}}return l}}function Phe(n){if(Array.isArray(n))return n}var iS=function(e,t,i){return e+(t-e)*i},KR=function(e){var t=e.from,i=e.to;return t!==i},Lhe=function n(e,t,i){var r=hy(function(a,s){if(KR(s)){var l=e(s.from,s.to,s.velocity),u=Bhe(l,2),f=u[0],p=u[1];return Wr(Wr({},s),{},{from:f,velocity:p})}return s},t);return i<1?hy(function(a,s){return KR(s)?Wr(Wr({},s),{},{velocity:iS(s.velocity,r[a].velocity,i),from:iS(s.from,r[a].from,i)}):s},t):n(e,r,i-1)};const Uhe=function(n,e,t,i,r){var a=hhe(n,e),s=a.reduce(function(A,S){return Wr(Wr({},A),{},WR({},S,[n[S],e[S]]))},{}),l=a.reduce(function(A,S){return Wr(Wr({},A),{},WR({},S,{from:n[S],velocity:0,to:e[S]}))},{}),u=-1,f,p,v=function(){return null},g=function(){return hy(function(S,w){return w.from},l)},b=function(){return!Object.values(l).filter(KR).length},_=function(S){f||(f=S);var w=S-f,C=w/t.dt;l=Lhe(t,l,C),r(Wr(Wr(Wr({},n),e),g())),f=S,b()||(u=requestAnimationFrame(v))},M=function(S){p||(p=S);var w=(S-p)/i,C=hy(function(D,N){return iS.apply(void 0,mz(N).concat([t(w)]))},s);if(r(Wr(Wr(Wr({},n),e),C)),w<1)u=requestAnimationFrame(v);else{var R=hy(function(D,N){return iS.apply(void 0,mz(N).concat([t(1)]))},s);r(Wr(Wr(Wr({},n),e),R))}};return v=t.isStepper?_:M,function(){return requestAnimationFrame(v),function(){cancelAnimationFrame(u)}}};function Dm(n){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(n)}var Ihe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Fhe(n,e){if(n==null)return{};var t=zhe(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function zhe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function cC(n){return Vhe(n)||khe(n)||Ghe(n)||Hhe()}function Hhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ghe(n,e){if(n){if(typeof n=="string")return JR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return JR(n,e)}}function khe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Vhe(n){if(Array.isArray(n))return JR(n)}function JR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function gz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gz(Object(t),!0).forEach(function(i){Qg(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Qg(n,e,t){return e=L9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jhe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function qhe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,L9(i.key),i)}}function Xhe(n,e,t){return e&&qhe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function L9(n){var e=Whe(n,"string");return Dm(e)==="symbol"?e:String(e)}function Whe(n,e){if(Dm(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Dm(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Yhe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ZR(n,e)}function ZR(n,e){return ZR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},ZR(n,e)}function Khe(n){var e=Jhe();return function(){var i=rS(n),r;if(e){var a=rS(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return QR(this,r)}}function QR(n,e){if(e&&(Dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $R(n)}function $R(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Jhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rS(n){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rS(n)}var dc=function(n){Yhe(t,n);var e=Khe(t);function t(i,r){var a;jhe(this,t),a=e.call(this,i,r);var s=a.props,l=s.isActive,u=s.attributeName,f=s.from,p=s.to,v=s.steps,g=s.children,b=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind($R(a)),a.changeStyle=a.changeStyle.bind($R(a)),!l||b<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:p}),QR(a);if(v&&v.length)a.state={style:v[0].style};else if(f){if(typeof g=="function")return a.state={style:f},QR(a);a.state={style:u?Qg({},u,f):f}}else a.state={style:{}};return a}return Xhe(t,[{key:"componentDidMount",value:function(){var r=this.props,a=r.isActive,s=r.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(r){var a=this.props,s=a.isActive,l=a.canBegin,u=a.attributeName,f=a.shouldReAnimate,p=a.to,v=a.from,g=this.state.style;if(l){if(!s){var b={style:u?Qg({},u,p):p};this.state&&g&&(u&&g[u]!==p||!u&&g!==p)&&this.setState(b);return}if(!(nhe(r.to,p)&&r.canBegin&&r.isActive)){var _=!r.canBegin||!r.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var M=_||f?v:r.to;if(this.state&&g){var A={style:u?Qg({},u,M):M};(u&&g[u]!==M||!u&&g!==M)&&this.setState(A)}this.runAnimation(jo(jo({},this.props),{},{from:M,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var r=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),r&&r()}},{key:"handleStyleChange",value:function(r){this.changeStyle(r)}},{key:"changeStyle",value:function(r){this.mounted&&this.setState({style:r})}},{key:"runJSAnimation",value:function(r){var a=this,s=r.from,l=r.to,u=r.duration,f=r.easing,p=r.begin,v=r.onAnimationEnd,g=r.onAnimationStart,b=Uhe(s,l,Ehe(f),u,this.changeStyle),_=function(){a.stopJSAnimation=b()};this.manager.start([g,p,_,u,v])}},{key:"runStepAnimation",value:function(r){var a=this,s=r.steps,l=r.begin,u=r.onAnimationStart,f=s[0],p=f.style,v=f.duration,g=v===void 0?0:v,b=function(M,A,S){if(S===0)return M;var w=A.duration,C=A.easing,R=C===void 0?"ease":C,D=A.style,N=A.properties,L=A.onAnimationEnd,z=S>0?s[S-1]:A,P=N||Object.keys(D);if(typeof R=="function"||R==="spring")return[].concat(cC(M),[a.runJSAnimation.bind(a,{from:z.style,to:D,duration:w,easing:R}),w]);var U=hz(P,w,R),H=jo(jo(jo({},z.style),D),{},{transition:U});return[].concat(cC(M),[H,w,L]).filter(dhe)};return this.manager.start([u].concat(cC(s.reduce(b,[p,Math.max(g,l)])),[r.onAnimationEnd]))}},{key:"runAnimation",value:function(r){this.manager||(this.manager=uhe());var a=r.begin,s=r.duration,l=r.attributeName,u=r.to,f=r.easing,p=r.onAnimationStart,v=r.onAnimationEnd,g=r.steps,b=r.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(r);return}if(g.length>1){this.runStepAnimation(r);return}var M=l?Qg({},l,u):u,A=hz(Object.keys(M),s,f);_.start([p,a,jo(jo({},M),{},{transition:A}),s,v])}},{key:"render",value:function(){var r=this.props,a=r.children;r.begin;var s=r.duration;r.attributeName,r.easing;var l=r.isActive;r.steps,r.from,r.to,r.canBegin,r.onAnimationEnd,r.shouldReAnimate,r.onAnimationReStart;var u=Fhe(r,Ihe),f=Z.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!l||f===0||s<=0)return a;var v=function(b){var _=b.props,M=_.style,A=M===void 0?{}:M,S=_.className,w=Z.cloneElement(b,jo(jo({},u),{},{style:jo(jo({},A),p),className:S}));return w};return f===1?v(Z.Children.only(a)):F("div",{children:Z.Children.map(a,function(g){return v(g)})})}}]),t}(Z.PureComponent);dc.displayName="Animate";dc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};dc.propTypes={from:Xn.oneOfType([Xn.object,Xn.string]),to:Xn.oneOfType([Xn.object,Xn.string]),attributeName:Xn.string,duration:Xn.number,begin:Xn.number,easing:Xn.oneOfType([Xn.string,Xn.func]),steps:Xn.arrayOf(Xn.shape({duration:Xn.number.isRequired,style:Xn.object.isRequired,easing:Xn.oneOfType([Xn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xn.func]),properties:Xn.arrayOf("string"),onAnimationEnd:Xn.func})),children:Xn.oneOfType([Xn.node,Xn.func]),isActive:Xn.bool,canBegin:Xn.bool,onAnimationEnd:Xn.func,shouldReAnimate:Xn.bool,onAnimationStart:Xn.func,onAnimationReStart:Xn.func};function Jy(n){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(n)}function Zhe(n,e){return tde(n)||ede(n,e)||$he(n,e)||Qhe()}function Qhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $he(n,e){if(n){if(typeof n=="string")return yz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yz(n,e)}}function yz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function ede(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,a,s,l=[],u=!0,f=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(i=a.call(t)).done)&&(l.push(i.value),l.length!==e);u=!0);}catch(p){f=!0,r=p}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw r}}return l}}function tde(n){if(Array.isArray(n))return n}function bz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function xz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bz(Object(t),!0).forEach(function(i){nde(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function nde(n,e,t){return e=ide(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ide(n){var e=rde(n,"string");return Jy(e)=="symbol"?e:e+""}function rde(n,e){if(Jy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Jy(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var _z=function(e,t,i,r,a){var s=Math.min(Math.abs(i)/2,Math.abs(r)/2),l=r>=0?1:-1,u=i>=0?1:-1,f=r>=0&&i>=0||r<0&&i<0?1:0,p;if(s>0&&a instanceof Array){for(var v=[0,0,0,0],g=0,b=4;g<b;g++)v[g]=a[g]>s?s:a[g];p="M".concat(e,",").concat(t+l*v[0]),v[0]>0&&(p+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(f,",").concat(e+u*v[0],",").concat(t)),p+="L ".concat(e+i-u*v[1],",").concat(t),v[1]>0&&(p+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(f,`,
        `).concat(e+i,",").concat(t+l*v[1])),p+="L ".concat(e+i,",").concat(t+r-l*v[2]),v[2]>0&&(p+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(f,`,
        `).concat(e+i-u*v[2],",").concat(t+r)),p+="L ".concat(e+u*v[3],",").concat(t+r),v[3]>0&&(p+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-l*v[3])),p+="Z"}else if(s>0&&a===+a&&a>0){var _=Math.min(s,a);p="M ".concat(e,",").concat(t+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+u*_,",").concat(t,`
            L `).concat(e+i-u*_,",").concat(t,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+i,",").concat(t+l*_,`
            L `).concat(e+i,",").concat(t+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+i-u*_,",").concat(t+r,`
            L `).concat(e+u*_,",").concat(t+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e,",").concat(t+r-l*_," Z")}else p="M ".concat(e,",").concat(t," h ").concat(i," v ").concat(r," h ").concat(-i," Z");return p},ade=function(e,t){if(!e||!t)return!1;var i=e.x,r=e.y,a=t.x,s=t.y,l=t.width,u=t.height;if(Math.abs(l)>0&&Math.abs(u)>0){var f=Math.min(a,a+l),p=Math.max(a,a+l),v=Math.min(s,s+u),g=Math.max(s,s+u);return i>=f&&i<=p&&r>=v&&r<=g}return!1},sde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ED=function(e){var t=xz(xz({},sde),e),i=Z.useRef(),r=Z.useState(-1),a=Zhe(r,2),s=a[0],l=a[1];Z.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var R=i.current.getTotalLength();R&&l(R)}catch{}},[]);var u=t.x,f=t.y,p=t.width,v=t.height,g=t.radius,b=t.className,_=t.animationEasing,M=t.animationDuration,A=t.animationBegin,S=t.isAnimationActive,w=t.isUpdateAnimationActive;if(u!==+u||f!==+f||p!==+p||v!==+v||p===0||v===0)return null;var C=Ln("recharts-rectangle",b);return w?F(dc,{canBegin:s>0,from:{width:p,height:v,x:u,y:f},to:{width:p,height:v,x:u,y:f},duration:M,animationEasing:_,isActive:w,children:function(R){var D=R.width,N=R.height,L=R.x,z=R.y;return F(dc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:M,isActive:S,easing:_,children:F("path",{...wn(t,!0),className:C,d:_z(L,z,D,N,g),ref:i})})}}):F("path",{...wn(t,!0),className:C,d:_z(u,f,p,v,g)})};function eO(){return eO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},eO.apply(this,arguments)}var TD=function(e){var t=e.cx,i=e.cy,r=e.r,a=e.className,s=Ln("recharts-dot",a);return t===+t&&i===+i&&r===+r?ut.createElement("circle",eO({},wn(e,!1),CA(e),{className:s,cx:t,cy:i,r})):null};function Zy(n){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(n)}var ode=["x","y","top","left","width","height","className"];function tO(){return tO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tO.apply(this,arguments)}function Az(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function lde(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Az(Object(t),!0).forEach(function(i){ude(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Az(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ude(n,e,t){return e=cde(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cde(n){var e=fde(n,"string");return Zy(e)=="symbol"?e:e+""}function fde(n,e){if(Zy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Zy(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hde(n,e){if(n==null)return{};var t=dde(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function dde(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}var pde=function(e,t,i,r,a,s){return"M".concat(e,",").concat(a,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(i)},mde=function(e){var t=e.x,i=t===void 0?0:t,r=e.y,a=r===void 0?0:r,s=e.top,l=s===void 0?0:s,u=e.left,f=u===void 0?0:u,p=e.width,v=p===void 0?0:p,g=e.height,b=g===void 0?0:g,_=e.className,M=hde(e,ode),A=lde({x:i,y:a,top:l,left:f,width:v,height:b},M);return!mt(i)||!mt(a)||!mt(v)||!mt(b)||!mt(l)||!mt(f)?null:ut.createElement("path",tO({},wn(A,!0),{className:Ln("recharts-cross",_),d:pde(i,a,v,b,l,f)}))},fC,Sz;function vde(){if(Sz)return fC;Sz=1;var n=t8(),e=n(Object.getPrototypeOf,Object);return fC=e,fC}var hC,Mz;function gde(){if(Mz)return hC;Mz=1;var n=mc(),e=vde(),t=vc(),i="[object Object]",r=Function.prototype,a=Object.prototype,s=r.toString,l=a.hasOwnProperty,u=s.call(Object);function f(p){if(!t(p)||n(p)!=i)return!1;var v=e(p);if(v===null)return!0;var g=l.call(v,"constructor")&&v.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==u}return hC=f,hC}var yde=gde();const bde=Jn(yde);var dC,Ez;function xde(){if(Ez)return dC;Ez=1;var n=mc(),e=vc(),t="[object Boolean]";function i(r){return r===!0||r===!1||e(r)&&n(r)==t}return dC=i,dC}var _de=xde();const Ade=Jn(_de);function Qy(n){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(n)}function Sde(n,e){return wde(n)||Tde(n,e)||Ede(n,e)||Mde()}function Mde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ede(n,e){if(n){if(typeof n=="string")return Tz(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tz(n,e)}}function Tz(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Tde(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,a,s,l=[],u=!0,f=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(i=a.call(t)).done)&&(l.push(i.value),l.length!==e);u=!0);}catch(p){f=!0,r=p}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw r}}return l}}function wde(n){if(Array.isArray(n))return n}function wz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Cz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wz(Object(t),!0).forEach(function(i){Cde(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Cde(n,e,t){return e=Rde(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rde(n){var e=Ode(n,"string");return Qy(e)=="symbol"?e:e+""}function Ode(n,e){if(Qy(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Qy(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Rz=function(e,t,i,r,a){var s=i-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+i,",").concat(t),l+="L ".concat(e+i-s/2,",").concat(t+a),l+="L ".concat(e+i-s/2-r,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},Bde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dde=function(e){var t=Cz(Cz({},Bde),e),i=Z.useRef(),r=Z.useState(-1),a=Sde(r,2),s=a[0],l=a[1];Z.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var C=i.current.getTotalLength();C&&l(C)}catch{}},[]);var u=t.x,f=t.y,p=t.upperWidth,v=t.lowerWidth,g=t.height,b=t.className,_=t.animationEasing,M=t.animationDuration,A=t.animationBegin,S=t.isUpdateAnimationActive;if(u!==+u||f!==+f||p!==+p||v!==+v||g!==+g||p===0&&v===0||g===0)return null;var w=Ln("recharts-trapezoid",b);return S?F(dc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:g,x:u,y:f},to:{upperWidth:p,lowerWidth:v,height:g,x:u,y:f},duration:M,animationEasing:_,isActive:S,children:function(C){var R=C.upperWidth,D=C.lowerWidth,N=C.height,L=C.x,z=C.y;return F(dc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:M,easing:_,children:F("path",{...wn(t,!0),className:w,d:Rz(L,z,R,D,N),ref:i})})}}):F("g",{children:F("path",{...wn(t,!0),className:w,d:Rz(u,f,p,v,g)})})},Nde=["option","shapeType","propTransformer","activeClassName","isActive"];function $y(n){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(n)}function Pde(n,e){if(n==null)return{};var t=Lde(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Lde(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Oz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function aS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Oz(Object(t),!0).forEach(function(i){Ude(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Oz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Ude(n,e,t){return e=Ide(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ide(n){var e=Fde(n,"string");return $y(e)=="symbol"?e:e+""}function Fde(n,e){if($y(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if($y(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function zde(n,e){return aS(aS({},e),n)}function Hde(n,e){return n==="symbols"}function Bz(n){var e=n.shapeType,t=n.elementProps;switch(e){case"rectangle":return F(ED,{...t});case"trapezoid":return F(Dde,{...t});case"sector":return F(C9,{...t});case"symbols":if(Hde(e))return F(jB,{...t});break;default:return null}}function Gde(n){return Z.isValidElement(n)?n.props:n}function kde(n){var e=n.option,t=n.shapeType,i=n.propTransformer,r=i===void 0?zde:i,a=n.activeClassName,s=a===void 0?"recharts-active-shape":a,l=n.isActive,u=Pde(n,Nde),f;if(Z.isValidElement(e))f=Z.cloneElement(e,aS(aS({},u),Gde(e)));else if(dn(e))f=e(u);else if(bde(e)&&!Ade(e)){var p=r(e,u);f=F(Bz,{shapeType:t,elementProps:p})}else{var v=u;f=F(Bz,{shapeType:t,elementProps:v})}return l?F(Ji,{className:s,children:f}):f}function C1(n,e){return e!=null&&"trapezoids"in n.props}function R1(n,e){return e!=null&&"sectors"in n.props}function e0(n,e){return e!=null&&"points"in n.props}function Vde(n,e){var t,i,r=n.x===(e==null||(t=e.labelViewBox)===null||t===void 0?void 0:t.x)||n.x===e.x,a=n.y===(e==null||(i=e.labelViewBox)===null||i===void 0?void 0:i.y)||n.y===e.y;return r&&a}function jde(n,e){var t=n.endAngle===e.endAngle,i=n.startAngle===e.startAngle;return t&&i}function qde(n,e){var t=n.x===e.x,i=n.y===e.y,r=n.z===e.z;return t&&i&&r}function Xde(n,e){var t;return C1(n,e)?t=Vde:R1(n,e)?t=jde:e0(n,e)&&(t=qde),t}function Wde(n,e){var t;return C1(n,e)?t="trapezoids":R1(n,e)?t="sectors":e0(n,e)&&(t="points"),t}function Yde(n,e){if(C1(n,e)){var t;return(t=e.tooltipPayload)===null||t===void 0||(t=t[0])===null||t===void 0||(t=t.payload)===null||t===void 0?void 0:t.payload}if(R1(n,e)){var i;return(i=e.tooltipPayload)===null||i===void 0||(i=i[0])===null||i===void 0||(i=i.payload)===null||i===void 0?void 0:i.payload}return e0(n,e)?e.payload:{}}function Kde(n){var e=n.activeTooltipItem,t=n.graphicalItem,i=n.itemData,r=Wde(t,e),a=Yde(t,e),s=i.filter(function(u,f){var p=E1(a,u),v=t.props[r].filter(function(_){var M=Xde(t,e);return M(_,e)}),g=t.props[r].indexOf(v[v.length-1]),b=f===g;return p&&b}),l=i.indexOf(s[s.length-1]);return l}var pC,Dz;function Jde(){if(Dz)return pC;Dz=1;var n=Math.ceil,e=Math.max;function t(i,r,a,s){for(var l=-1,u=e(n((r-i)/(a||1)),0),f=Array(u);u--;)f[s?u:++l]=i,i+=a;return f}return pC=t,pC}var mC,Nz;function U9(){if(Nz)return mC;Nz=1;var n=g8(),e=1/0,t=17976931348623157e292;function i(r){if(!r)return r===0?r:0;if(r=n(r),r===e||r===-1/0){var a=r<0?-1:1;return a*t}return r===r?r:0}return mC=i,mC}var vC,Pz;function Zde(){if(Pz)return vC;Pz=1;var n=Jde(),e=v1(),t=U9();function i(r){return function(a,s,l){return l&&typeof l!="number"&&e(a,s,l)&&(s=l=void 0),a=t(a),s===void 0?(s=a,a=0):s=t(s),l=l===void 0?a<s?1:-1:t(l),n(a,s,l,r)}}return vC=i,vC}var gC,Lz;function Qde(){if(Lz)return gC;Lz=1;var n=Zde(),e=n();return gC=e,gC}var $de=Qde();const sS=Jn($de);function t0(n){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t0(n)}function Uz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Iz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Uz(Object(t),!0).forEach(function(i){I9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Uz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function I9(n,e,t){return e=epe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function epe(n){var e=tpe(n,"string");return t0(e)=="symbol"?e:e+""}function tpe(n,e){if(t0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(t0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var npe=["Webkit","Moz","O","ms"],ipe=function(e,t){var i=e.replace(/(\w)/,function(a){return a.toUpperCase()}),r=npe.reduce(function(a,s){return Iz(Iz({},a),{},I9({},s+i,t))},{});return r[e]=t,r};function Nm(n){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(n)}function Fz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function yC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(t),!0).forEach(function(i){_s(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Fz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function rpe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zz(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,z9(i.key),i)}}function ape(n,e,t){return e&&zz(n.prototype,e),t&&zz(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function spe(n,e,t){return e=oS(e),ope(n,F9()?Reflect.construct(e,t||[],oS(n).constructor):e.apply(n,t))}function ope(n,e){if(e&&(Nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lpe(n)}function lpe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function F9(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F9=function(){return!!n})()}function oS(n){return oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oS(n)}function upe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&nO(n,e)}function nO(n,e){return nO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},nO(n,e)}function _s(n,e,t){return e=z9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function z9(n){var e=cpe(n,"string");return Nm(e)=="symbol"?e:e+""}function cpe(n,e){if(Nm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Nm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var fpe=function(e){var t=e.data,i=e.startIndex,r=e.endIndex,a=e.x,s=e.width,l=e.travellerWidth;if(!t||!t.length)return{};var u=t.length,f=cy().domain(sS(0,u)).range([a,a+s-l]),p=f.domain().map(function(v){return f(v)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(i),endX:f(r),scale:f,scaleValues:p}},Hz=function(e){return e.changedTouches&&!!e.changedTouches.length},Pm=function(n){function e(t){var i;return rpe(this,e),i=spe(this,e,[t]),_s(i,"handleDrag",function(r){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(r):i.state.isSlideMoving&&i.handleSlideDrag(r)}),_s(i,"handleTouchMove",function(r){r.changedTouches!=null&&r.changedTouches.length>0&&i.handleDrag(r.changedTouches[0])}),_s(i,"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var r=i.props,a=r.endIndex,s=r.onDragEnd,l=r.startIndex;s==null||s({endIndex:a,startIndex:l})}),i.detachDragEndListener()}),_s(i,"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),_s(i,"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),_s(i,"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),_s(i,"handleSlideDragStart",function(r){var a=Hz(r)?r.changedTouches[0]:r;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(i,"startX"),endX:i.handleTravellerDragStart.bind(i,"endX")},i.state={},i}return upe(e,n),ape(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var r=i.startX,a=i.endX,s=this.state.scaleValues,l=this.props,u=l.gap,f=l.data,p=f.length-1,v=Math.min(r,a),g=Math.max(r,a),b=e.getIndexInRange(s,v),_=e.getIndexInRange(s,g);return{startIndex:b-b%u,endIndex:_===p?p:_-_%u}}},{key:"getTextOfTick",value:function(i){var r=this.props,a=r.data,s=r.tickFormatter,l=r.dataKey,u=Rs(a[i],l,i);return dn(s)?s(u,i):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var r=this.state,a=r.slideMoveStartX,s=r.startX,l=r.endX,u=this.props,f=u.x,p=u.width,v=u.travellerWidth,g=u.startIndex,b=u.endIndex,_=u.onChange,M=i.pageX-a;M>0?M=Math.min(M,f+p-v-l,f+p-v-s):M<0&&(M=Math.max(M,f-s,f-l));var A=this.getIndex({startX:s+M,endX:l+M});(A.startIndex!==g||A.endIndex!==b)&&_&&_(A),this.setState({startX:s+M,endX:l+M,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,r){var a=Hz(r)?r.changedTouches[0]:r;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var r=this.state,a=r.brushMoveStartX,s=r.movingTravellerId,l=r.endX,u=r.startX,f=this.state[s],p=this.props,v=p.x,g=p.width,b=p.travellerWidth,_=p.onChange,M=p.gap,A=p.data,S={startX:this.state.startX,endX:this.state.endX},w=i.pageX-a;w>0?w=Math.min(w,v+g-b-f):w<0&&(w=Math.max(w,v-f)),S[s]=f+w;var C=this.getIndex(S),R=C.startIndex,D=C.endIndex,N=function(){var z=A.length-1;return s==="startX"&&(l>u?R%M===0:D%M===0)||l<u&&D===z||s==="endX"&&(l>u?D%M===0:R%M===0)||l>u&&D===z};this.setState(_s(_s({},s,f+w),"brushMoveStartX",i.pageX),function(){_&&N()&&_(C)})}},{key:"handleTravellerMoveKeyboard",value:function(i,r){var a=this,s=this.state,l=s.scaleValues,u=s.startX,f=s.endX,p=this.state[r],v=l.indexOf(p);if(v!==-1){var g=v+i;if(!(g===-1||g>=l.length)){var b=l[g];r==="startX"&&b>=f||r==="endX"&&b<=u||this.setState(_s({},r,b),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,r=i.x,a=i.y,s=i.width,l=i.height,u=i.fill,f=i.stroke;return F("rect",{stroke:f,fill:u,x:r,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var i=this.props,r=i.x,a=i.y,s=i.width,l=i.height,u=i.data,f=i.children,p=i.padding,v=Z.Children.only(f);return v?ut.cloneElement(v,{x:r,y:a,width:s,height:l,margin:p,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(i,r){var a,s,l=this,u=this.props,f=u.y,p=u.travellerWidth,v=u.height,g=u.traveller,b=u.ariaLabel,_=u.data,M=u.startIndex,A=u.endIndex,S=Math.max(i,this.props.x),w=yC(yC({},wn(this.props,!1)),{},{x:S,y:f,width:p,height:v}),C=b||"Min value: ".concat((a=_[M])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=_[A])===null||s===void 0?void 0:s.name);return F(Ji,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":i,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(D){["ArrowLeft","ArrowRight"].includes(D.key)&&(D.preventDefault(),D.stopPropagation(),l.handleTravellerMoveKeyboard(D.key==="ArrowRight"?1:-1,r))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"},children:e.renderTraveller(g,w)})}},{key:"renderSlide",value:function(i,r){var a=this.props,s=a.y,l=a.height,u=a.stroke,f=a.travellerWidth,p=Math.min(i,r)+f,v=Math.max(Math.abs(r-i)-f,0);return F("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:p,y:s,width:v,height:l})}},{key:"renderText",value:function(){var i=this.props,r=i.startIndex,a=i.endIndex,s=i.y,l=i.height,u=i.travellerWidth,f=i.stroke,p=this.state,v=p.startX,g=p.endX,b=5,_={pointerEvents:"none",fill:f};return te(Ji,{className:"recharts-brush-texts",children:[F(HA,{textAnchor:"end",verticalAnchor:"middle",x:Math.min(v,g)-b,y:s+l/2,..._,children:this.getTextOfTick(r)}),F(HA,{textAnchor:"start",verticalAnchor:"middle",x:Math.max(v,g)+u+b,y:s+l/2,..._,children:this.getTextOfTick(a)})]})}},{key:"render",value:function(){var i=this.props,r=i.data,a=i.className,s=i.children,l=i.x,u=i.y,f=i.width,p=i.height,v=i.alwaysShowText,g=this.state,b=g.startX,_=g.endX,M=g.isTextActive,A=g.isSlideMoving,S=g.isTravellerMoving,w=g.isTravellerFocused;if(!r||!r.length||!mt(l)||!mt(u)||!mt(f)||!mt(p)||f<=0||p<=0)return null;var C=Ln("recharts-brush",a),R=ut.Children.count(s)===1,D=ipe("userSelect","none");return te(Ji,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:D,children:[this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(b,_),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(_,"endX"),(M||A||S||w||v)&&this.renderText()]})}}],[{key:"renderDefaultTraveller",value:function(i){var r=i.x,a=i.y,s=i.width,l=i.height,u=i.stroke,f=Math.floor(a+l/2)-1;return te(Vj,{children:[F("rect",{x:r,y:a,width:s,height:l,fill:u,stroke:"none"}),F("line",{x1:r+1,y1:f,x2:r+s-1,y2:f,fill:"none",stroke:"#fff"}),F("line",{x1:r+1,y1:f+2,x2:r+s-1,y2:f+2,fill:"none",stroke:"#fff"})]})}},{key:"renderTraveller",value:function(i,r){var a;return ut.isValidElement(i)?a=ut.cloneElement(i,r):dn(i)?a=i(r):a=e.renderDefaultTraveller(r),a}},{key:"getDerivedStateFromProps",value:function(i,r){var a=i.data,s=i.width,l=i.x,u=i.travellerWidth,f=i.updateId,p=i.startIndex,v=i.endIndex;if(a!==r.prevData||f!==r.prevUpdateId)return yC({prevData:a,prevTravellerWidth:u,prevUpdateId:f,prevX:l,prevWidth:s},a&&a.length?fpe({data:a,width:s,x:l,travellerWidth:u,startIndex:p,endIndex:v}):{scale:null,scaleValues:null});if(r.scale&&(s!==r.prevWidth||l!==r.prevX||u!==r.prevTravellerWidth)){r.scale.range([l,l+s-u]);var g=r.scale.domain().map(function(b){return r.scale(b)});return{prevData:a,prevTravellerWidth:u,prevUpdateId:f,prevX:l,prevWidth:s,startX:r.scale(i.startIndex),endX:r.scale(i.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(i,r){for(var a=i.length,s=0,l=a-1;l-s>1;){var u=Math.floor((s+l)/2);i[u]>r?l=u:s=u}return r>=i[l]?l:s}}])}(Z.PureComponent);_s(Pm,"displayName","Brush");_s(Pm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var bC,Gz;function hpe(){if(Gz)return bC;Gz=1;var n=ZB();function e(t,i){var r;return n(t,function(a,s,l){return r=i(a,s,l),!r}),!!r}return bC=e,bC}var xC,kz;function dpe(){if(kz)return xC;kz=1;var n=Y6(),e=Of(),t=hpe(),i=ns(),r=v1();function a(s,l,u){var f=i(s)?n:t;return u&&r(s,l,u)&&(l=void 0),f(s,e(l,3))}return xC=a,xC}var ppe=dpe();const mpe=Jn(ppe);var $l=function(e,t){var i=e.alwaysShow,r=e.ifOverflow;return i&&(r="extendDomain"),r===t},_C,Vz;function vpe(){if(Vz)return _C;Vz=1;var n=h8();function e(t,i,r){i=="__proto__"&&n?n(t,i,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[i]=r}return _C=e,_C}var AC,jz;function gpe(){if(jz)return AC;jz=1;var n=vpe(),e=c8(),t=Of();function i(r,a){var s={};return a=t(a,3),e(r,function(l,u,f){n(s,u,a(l,u,f))}),s}return AC=i,AC}var ype=gpe();const bpe=Jn(ype);var SC,qz;function xpe(){if(qz)return SC;qz=1;function n(e,t){for(var i=-1,r=e==null?0:e.length;++i<r;)if(!t(e[i],i,e))return!1;return!0}return SC=n,SC}var MC,Xz;function _pe(){if(Xz)return MC;Xz=1;var n=ZB();function e(t,i){var r=!0;return n(t,function(a,s,l){return r=!!i(a,s,l),r}),r}return MC=e,MC}var EC,Wz;function Ape(){if(Wz)return EC;Wz=1;var n=xpe(),e=_pe(),t=Of(),i=ns(),r=v1();function a(s,l,u){var f=i(s)?n:e;return u&&r(s,l,u)&&(l=void 0),f(s,t(l,3))}return EC=a,EC}var Spe=Ape();const H9=Jn(Spe);var Mpe=["x","y"];function n0(n){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n0(n)}function iO(){return iO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},iO.apply(this,arguments)}function Yz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Wg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yz(Object(t),!0).forEach(function(i){Epe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Yz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Epe(n,e,t){return e=Tpe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Tpe(n){var e=wpe(n,"string");return n0(e)=="symbol"?e:e+""}function wpe(n,e){if(n0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(n0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Cpe(n,e){if(n==null)return{};var t=Rpe(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Rpe(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Ope(n,e){var t=n.x,i=n.y,r=Cpe(n,Mpe),a="".concat(t),s=parseInt(a,10),l="".concat(i),u=parseInt(l,10),f="".concat(e.height||r.height),p=parseInt(f,10),v="".concat(e.width||r.width),g=parseInt(v,10);return Wg(Wg(Wg(Wg(Wg({},e),r),s?{x:s}:{}),u?{y:u}:{}),{},{height:p,width:g,name:e.name,radius:e.radius})}function Kz(n){return ut.createElement(kde,iO({shapeType:"rectangle",propTransformer:Ope,activeClassName:"recharts-active-bar"},n))}var Bpe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(i,r){if(typeof e=="number")return e;var a=typeof i=="number";return a?e(i,r):(a||_d(),t)}},Dpe=["value","background"],G9;function Lm(n){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(n)}function Npe(n,e){if(n==null)return{};var t=Ppe(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Ppe(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Jz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ir(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jz(Object(t),!0).forEach(function(i){bf(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Lpe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Zz(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,V9(i.key),i)}}function Upe(n,e,t){return e&&Zz(n.prototype,e),t&&Zz(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ipe(n,e,t){return e=lS(e),Fpe(n,k9()?Reflect.construct(e,t||[],lS(n).constructor):e.apply(n,t))}function Fpe(n,e){if(e&&(Lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zpe(n)}function zpe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function k9(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k9=function(){return!!n})()}function lS(n){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lS(n)}function Hpe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&rO(n,e)}function rO(n,e){return rO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},rO(n,e)}function bf(n,e,t){return e=V9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function V9(n){var e=Gpe(n,"string");return Lm(e)=="symbol"?e:e+""}function Gpe(n,e){if(Lm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Lm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var P0=function(n){function e(){var t;Lpe(this,e);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=Ipe(this,e,[].concat(r)),bf(t,"state",{isAnimationFinished:!1}),bf(t,"id",w0("recharts-bar-")),bf(t,"handleAnimationEnd",function(){var s=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),s&&s()}),bf(t,"handleAnimationStart",function(){var s=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),s&&s()}),t}return Hpe(e,n),Upe(e,[{key:"renderRectanglesStatically",value:function(i){var r=this,a=this.props,s=a.shape,l=a.dataKey,u=a.activeIndex,f=a.activeBar,p=wn(this.props,!1);return i&&i.map(function(v,g){var b=g===u,_=b?f:s,M=ir(ir(ir({},p),v),{},{isActive:b,option:_,index:g,dataKey:l,onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd});return Z.createElement(Ji,{className:"recharts-bar-rectangle",...RA(r.props,v,g),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(g)},F(Kz,{...M}))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,r=this.props,a=r.data,s=r.layout,l=r.isAnimationActive,u=r.animationBegin,f=r.animationDuration,p=r.animationEasing,v=r.animationId,g=this.state.prevData;return F(dc,{begin:u,duration:f,isActive:l,easing:p,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(b){var _=b.t,M=a.map(function(A,S){var w=g&&g[S];if(w){var C=Jo(w.x,A.x),R=Jo(w.y,A.y),D=Jo(w.width,A.width),N=Jo(w.height,A.height);return ir(ir({},A),{},{x:C(_),y:R(_),width:D(_),height:N(_)})}if(s==="horizontal"){var L=Jo(0,A.height),z=L(_);return ir(ir({},A),{},{y:A.y+A.height-z,height:z})}var P=Jo(0,A.width),U=P(_);return ir(ir({},A),{},{width:U})});return F(Ji,{children:i.renderRectanglesStatically(M)})}},"bar-".concat(v))}},{key:"renderRectangles",value:function(){var i=this.props,r=i.data,a=i.isAnimationActive,s=this.state.prevData;return a&&r&&r.length&&(!s||!E1(s,r))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(r)}},{key:"renderBackground",value:function(){var i=this,r=this.props,a=r.data,s=r.dataKey,l=r.activeIndex,u=wn(this.props.background,!1);return a.map(function(f,p){f.value;var v=f.background,g=Npe(f,Dpe);if(!v)return null;var b=ir(ir(ir(ir(ir({},g),{},{fill:"#eee"},v),u),RA(i.props,f,p)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:s,index:p,className:"recharts-bar-background-rectangle"});return F(Kz,{option:i.props.background,isActive:p===l,...b},"background-bar-".concat(p))})}},{key:"renderErrorBar",value:function(i,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,u=a.yAxis,f=a.layout,p=a.children,v=no(p,N0);if(!v)return null;var g=f==="vertical"?s[0].height/2:s[0].width/2,b=function(A,S){var w=Array.isArray(A.value)?A.value[1]:A.value;return{x:A.x,y:A.y,value:w,errorVal:Rs(A,S)}},_={clipPath:i?"url(#clipPath-".concat(r,")"):null};return F(Ji,{..._,children:v.map(function(M){return ut.cloneElement(M,{key:"error-bar-".concat(r,"-").concat(M.props.dataKey),data:s,xAxis:l,yAxis:u,layout:f,offset:g,dataPointFormatter:b})})})}},{key:"render",value:function(){var i=this.props,r=i.hide,a=i.data,s=i.className,l=i.xAxis,u=i.yAxis,f=i.left,p=i.top,v=i.width,g=i.height,b=i.isAnimationActive,_=i.background,M=i.id;if(r||!a||!a.length)return null;var A=this.state.isAnimationFinished,S=Ln("recharts-bar",s),w=l&&l.allowDataOverflow,C=u&&u.allowDataOverflow,R=w||C,D=An(M)?this.id:M;return te(Ji,{className:S,children:[w||C?F("defs",{children:F("clipPath",{id:"clipPath-".concat(D),children:F("rect",{x:w?f:f-v/2,y:C?p:p-g/2,width:w?v:v*2,height:C?g:g*2})})}):null,te(Ji,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(D,")"):null,children:[_?this.renderBackground():null,this.renderRectangles()]}),this.renderErrorBar(R,D),(!b||A)&&Af.renderCallByParent(this.props,a)]})}}],[{key:"getDerivedStateFromProps",value:function(i,r){return i.animationId!==r.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:r.curData}:i.data!==r.curData?{curData:i.data}:null}}])}(Z.PureComponent);G9=P0;bf(P0,"displayName","Bar");bf(P0,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!sv.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});bf(P0,"getComposedData",function(n){var e=n.props,t=n.item,i=n.barPosition,r=n.bandSize,a=n.xAxis,s=n.yAxis,l=n.xAxisTicks,u=n.yAxisTicks,f=n.stackedData,p=n.dataStartIndex,v=n.displayedData,g=n.offset,b=sce(i,t);if(!b)return null;var _=e.layout,M=t.type.defaultProps,A=M!==void 0?ir(ir({},M),t.props):t.props,S=A.dataKey,w=A.children,C=A.minPointSize,R=_==="horizontal"?s:a,D=f?R.scale.domain():null,N=pce({numericAxis:R}),L=no(w,b8),z=v.map(function(P,U){var H,J,V,ne,ee,Y;f?H=oce(f[p+U],D):(H=Rs(P,S),Array.isArray(H)||(H=[N,H]));var re=Bpe(C,G9.defaultProps.minPointSize)(H[1],U);if(_==="horizontal"){var ie,he=[s.scale(H[0]),s.scale(H[1])],q=he[0],se=he[1];J=P4({axis:a,ticks:l,bandSize:r,offset:b.offset,entry:P,index:U}),V=(ie=se??q)!==null&&ie!==void 0?ie:void 0,ne=b.size;var pe=q-se;if(ee=Number.isNaN(pe)?0:pe,Y={x:J,y:s.y,width:ne,height:s.height},Math.abs(re)>0&&Math.abs(ee)<Math.abs(re)){var Se=$o(ee||re)*(Math.abs(re)-Math.abs(ee));V-=Se,ee+=Se}}else{var oe=[a.scale(H[0]),a.scale(H[1])],Te=oe[0],Ue=oe[1];if(J=Te,V=P4({axis:s,ticks:u,bandSize:r,offset:b.offset,entry:P,index:U}),ne=Ue-Te,ee=b.size,Y={x:a.x,y:V,width:a.width,height:ee},Math.abs(re)>0&&Math.abs(ne)<Math.abs(re)){var We=$o(ne||re)*(Math.abs(re)-Math.abs(ne));ne+=We}}return ir(ir(ir({},P),{},{x:J,y:V,width:ne,height:ee,value:f?H:H[1],payload:P,background:Y},L&&L[U]&&L[U].props),{},{tooltipPayload:[E9(t,P)],tooltipPosition:{x:J+ne/2,y:V+ee/2}})});return ir({data:z,layout:_},g)});function i0(n){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i0(n)}function kpe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Qz(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,j9(i.key),i)}}function Vpe(n,e,t){return e&&Qz(n.prototype,e),t&&Qz(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function $z(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Wo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$z(Object(t),!0).forEach(function(i){O1(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$z(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function O1(n,e,t){return e=j9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function j9(n){var e=jpe(n,"string");return i0(e)=="symbol"?e:e+""}function jpe(n,e){if(i0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(i0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var qpe=function(e,t,i,r,a){var s=e.width,l=e.height,u=e.layout,f=e.children,p=Object.keys(t),v={left:i.left,leftMirror:i.left,right:s-i.right,rightMirror:s-i.right,top:i.top,topMirror:i.top,bottom:l-i.bottom,bottomMirror:l-i.bottom},g=!!As(f,P0);return p.reduce(function(b,_){var M=t[_],A=M.orientation,S=M.domain,w=M.padding,C=w===void 0?{}:w,R=M.mirror,D=M.reversed,N="".concat(A).concat(R?"Mirror":""),L,z,P,U,H;if(M.type==="number"&&(M.padding==="gap"||M.padding==="no-gap")){var J=S[1]-S[0],V=1/0,ne=M.categoricalDomain.sort();if(ne.forEach(function(oe,Te){Te>0&&(V=Math.min((oe||0)-(ne[Te-1]||0),V))}),Number.isFinite(V)){var ee=V/J,Y=M.layout==="vertical"?i.height:i.width;if(M.padding==="gap"&&(L=ee*Y/2),M.padding==="no-gap"){var re=bd(e.barCategoryGap,ee*Y),ie=ee*Y/2;L=ie-re-(ie-re)/Y*re}}}r==="xAxis"?z=[i.left+(C.left||0)+(L||0),i.left+i.width-(C.right||0)-(L||0)]:r==="yAxis"?z=u==="horizontal"?[i.top+i.height-(C.bottom||0),i.top+(C.top||0)]:[i.top+(C.top||0)+(L||0),i.top+i.height-(C.bottom||0)-(L||0)]:z=M.range,D&&(z=[z[1],z[0]]);var he=rce(M,a,g),q=he.scale,se=he.realScaleType;q.domain(S).range(z),ace(q);var pe=dce(q,Wo(Wo({},M),{},{realScaleType:se}));r==="xAxis"?(H=A==="top"&&!R||A==="bottom"&&R,P=i.left,U=v[N]-H*M.height):r==="yAxis"&&(H=A==="left"&&!R||A==="right"&&R,P=v[N]-H*M.width,U=i.top);var Se=Wo(Wo(Wo({},M),pe),{},{realScaleType:se,x:P,y:U,scale:q,width:r==="xAxis"?i.width:M.width,height:r==="yAxis"?i.height:M.height});return Se.bandSize=eS(Se,pe),!M.hide&&r==="xAxis"?v[N]+=(H?-1:1)*Se.height:M.hide||(v[N]+=(H?-1:1)*Se.width),Wo(Wo({},b),{},O1({},_,Se))},{})},q9=function(e,t){var i=e.x,r=e.y,a=t.x,s=t.y;return{x:Math.min(i,a),y:Math.min(r,s),width:Math.abs(a-i),height:Math.abs(s-r)}},Xpe=function(e){var t=e.x1,i=e.y1,r=e.x2,a=e.y2;return q9({x:t,y:i},{x:r,y:a})},X9=function(){function n(e){kpe(this,n),this.scale=e}return Vpe(n,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.bandAware,a=i.position;if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(r){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+u}return this.scale(t)}}},{key:"isInRange",value:function(t){var i=this.range(),r=i[0],a=i[i.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}],[{key:"create",value:function(t){return new n(t)}}])}();O1(X9,"EPS",1e-4);var wD=function(e){var t=Object.keys(e).reduce(function(i,r){return Wo(Wo({},i),{},O1({},r,X9.create(e[r])))},{});return Wo(Wo({},t),{},{apply:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return bpe(r,function(u,f){return t[f].apply(u,{bandAware:s,position:l})})},isInRange:function(r){return H9(r,function(a,s){return t[s].isInRange(a)})}})};function Wpe(n){return(n%180+180)%180}var Ype=function(e){var t=e.width,i=e.height,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Wpe(r),s=a*Math.PI/180,l=Math.atan(i/t),u=s>l&&s<Math.PI-l?i/Math.sin(s):t/Math.cos(s);return Math.abs(u)},TC,eH;function Kpe(){if(eH)return TC;eH=1;var n=Of(),e=C0(),t=p1();function i(r){return function(a,s,l){var u=Object(a);if(!e(a)){var f=n(s,3);a=t(a),s=function(v){return f(u[v],v,u)}}var p=r(a,s,l);return p>-1?u[f?a[p]:p]:void 0}}return TC=i,TC}var wC,tH;function Jpe(){if(tH)return wC;tH=1;var n=U9();function e(t){var i=n(t),r=i%1;return i===i?r?i-r:i:0}return wC=e,wC}var CC,nH;function Zpe(){if(nH)return CC;nH=1;var n=a8(),e=Of(),t=Jpe(),i=Math.max;function r(a,s,l){var u=a==null?0:a.length;if(!u)return-1;var f=l==null?0:t(l);return f<0&&(f=i(u+f,0)),n(a,e(s,3),f)}return CC=r,CC}var RC,iH;function Qpe(){if(iH)return RC;iH=1;var n=Kpe(),e=Zpe(),t=n(e);return RC=t,RC}var $pe=Qpe();const eme=Jn($pe);var tme=_6();const nme=Jn(tme);var ime=nme(function(n){return{x:n.left,y:n.top,width:n.width,height:n.height}},function(n){return["l",n.left,"t",n.top,"w",n.width,"h",n.height].join("")}),CD=Z.createContext(void 0),RD=Z.createContext(void 0),W9=Z.createContext(void 0),Y9=Z.createContext({}),K9=Z.createContext(void 0),J9=Z.createContext(0),Z9=Z.createContext(0),rH=function(e){var t=e.state,i=t.xAxisMap,r=t.yAxisMap,a=t.offset,s=e.clipPathId,l=e.children,u=e.width,f=e.height,p=ime(a);return F(CD.Provider,{value:i,children:F(RD.Provider,{value:r,children:F(Y9.Provider,{value:a,children:F(W9.Provider,{value:p,children:F(K9.Provider,{value:s,children:F(J9.Provider,{value:f,children:F(Z9.Provider,{value:u,children:l})})})})})})})},rme=function(){return Z.useContext(K9)},Q9=function(e){var t=Z.useContext(CD);t==null&&_d();var i=t[e];return i==null&&_d(),i},ame=function(){var e=Z.useContext(CD);return gf(e)},sme=function(){var e=Z.useContext(RD),t=eme(e,function(i){return H9(i.domain,Number.isFinite)});return t||gf(e)},$9=function(e){var t=Z.useContext(RD);t==null&&_d();var i=t[e];return i==null&&_d(),i},ome=function(){var e=Z.useContext(W9);return e},lme=function(){return Z.useContext(Y9)},OD=function(){return Z.useContext(Z9)},BD=function(){return Z.useContext(J9)};function Um(n){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(n)}function ume(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function cme(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,tk(i.key),i)}}function fme(n,e,t){return e&&cme(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function hme(n,e,t){return e=uS(e),dme(n,ek()?Reflect.construct(e,t||[],uS(n).constructor):e.apply(n,t))}function dme(n,e){if(e&&(Um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pme(n)}function pme(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ek(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ek=function(){return!!n})()}function uS(n){return uS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uS(n)}function mme(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&aO(n,e)}function aO(n,e){return aO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},aO(n,e)}function aH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function sH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aH(Object(t),!0).forEach(function(i){DD(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function DD(n,e,t){return e=tk(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tk(n){var e=vme(n,"string");return Um(e)=="symbol"?e:e+""}function vme(n,e){if(Um(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Um(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function gme(n,e){return _me(n)||xme(n,e)||bme(n,e)||yme()}function yme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bme(n,e){if(n){if(typeof n=="string")return oH(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oH(n,e)}}function oH(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function xme(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,a,s,l=[],u=!0,f=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(i=a.call(t)).done)&&(l.push(i.value),l.length!==e);u=!0);}catch(p){f=!0,r=p}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw r}}return l}}function _me(n){if(Array.isArray(n))return n}function sO(){return sO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sO.apply(this,arguments)}var Ame=function(e,t){var i;return ut.isValidElement(e)?i=ut.cloneElement(e,t):dn(e)?i=e(t):i=ut.createElement("line",sO({},t,{className:"recharts-reference-line-line"})),i},Sme=function(e,t,i,r,a,s,l,u,f){var p=a.x,v=a.y,g=a.width,b=a.height;if(i){var _=f.y,M=e.y.apply(_,{position:s});if($l(f,"discard")&&!e.y.isInRange(M))return null;var A=[{x:p+g,y:M},{x:p,y:M}];return u==="left"?A.reverse():A}if(t){var S=f.x,w=e.x.apply(S,{position:s});if($l(f,"discard")&&!e.x.isInRange(w))return null;var C=[{x:w,y:v+b},{x:w,y:v}];return l==="top"?C.reverse():C}if(r){var R=f.segment,D=R.map(function(N){return e.apply(N,{position:s})});return $l(f,"discard")&&mpe(D,function(N){return!e.isInRange(N)})?null:D}return null};function Mme(n){var e=n.x,t=n.y,i=n.segment,r=n.xAxisId,a=n.yAxisId,s=n.shape,l=n.className,u=n.alwaysShow,f=rme(),p=Q9(r),v=$9(a),g=ome();if(!f||!g)return null;rc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=wD({x:p.scale,y:v.scale}),_=fr(e),M=fr(t),A=i&&i.length===2,S=Sme(b,_,M,A,g,n.position,p.orientation,v.orientation,n);if(!S)return null;var w=gme(S,2),C=w[0],R=C.x,D=C.y,N=w[1],L=N.x,z=N.y,P=$l(n,"hidden")?"url(#".concat(f,")"):void 0,U=sH(sH({clipPath:P},wn(n,!0)),{},{x1:R,y1:D,x2:L,y2:z});return ut.createElement(Ji,{className:Ln("recharts-reference-line",l)},Ame(s,U),ha.renderCallByParent(n,Xpe({x1:R,y1:D,x2:L,y2:z})))}var ND=function(n){function e(){return ume(this,e),hme(this,e,arguments)}return mme(e,n),fme(e,[{key:"render",value:function(){return ut.createElement(Mme,this.props)}}])}(ut.Component);DD(ND,"displayName","ReferenceLine");DD(ND,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function oO(){return oO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},oO.apply(this,arguments)}function Im(n){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(n)}function lH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function uH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lH(Object(t),!0).forEach(function(i){B1(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Eme(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Tme(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,ik(i.key),i)}}function wme(n,e,t){return e&&Tme(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Cme(n,e,t){return e=cS(e),Rme(n,nk()?Reflect.construct(e,t||[],cS(n).constructor):e.apply(n,t))}function Rme(n,e){if(e&&(Im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ome(n)}function Ome(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function nk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nk=function(){return!!n})()}function cS(n){return cS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cS(n)}function Bme(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&lO(n,e)}function lO(n,e){return lO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},lO(n,e)}function B1(n,e,t){return e=ik(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ik(n){var e=Dme(n,"string");return Im(e)=="symbol"?e:e+""}function Dme(n,e){if(Im(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Im(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Nme=function(e){var t=e.x,i=e.y,r=e.xAxis,a=e.yAxis,s=wD({x:r.scale,y:a.scale}),l=s.apply({x:t,y:i},{bandAware:!0});return $l(e,"discard")&&!s.isInRange(l)?null:l},D1=function(n){function e(){return Eme(this,e),Cme(this,e,arguments)}return Bme(e,n),wme(e,[{key:"render",value:function(){var i=this.props,r=i.x,a=i.y,s=i.r,l=i.alwaysShow,u=i.clipPathId,f=fr(r),p=fr(a);if(rc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var v=Nme(this.props);if(!v)return null;var g=v.x,b=v.y,_=this.props,M=_.shape,A=_.className,S=$l(this.props,"hidden")?"url(#".concat(u,")"):void 0,w=uH(uH({clipPath:S},wn(this.props,!0)),{},{cx:g,cy:b});return ut.createElement(Ji,{className:Ln("recharts-reference-dot",A)},e.renderDot(M,w),ha.renderCallByParent(this.props,{x:g-s,y:b-s,width:2*s,height:2*s}))}}])}(ut.Component);B1(D1,"displayName","ReferenceDot");B1(D1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});B1(D1,"renderDot",function(n,e){var t;return ut.isValidElement(n)?t=ut.cloneElement(n,e):dn(n)?t=n(e):t=ut.createElement(TD,oO({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),t});function uO(){return uO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},uO.apply(this,arguments)}function Fm(n){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(n)}function cH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function fH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cH(Object(t),!0).forEach(function(i){N1(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Pme(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Lme(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,ak(i.key),i)}}function Ume(n,e,t){return e&&Lme(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ime(n,e,t){return e=fS(e),Fme(n,rk()?Reflect.construct(e,t||[],fS(n).constructor):e.apply(n,t))}function Fme(n,e){if(e&&(Fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zme(n)}function zme(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rk=function(){return!!n})()}function fS(n){return fS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fS(n)}function Hme(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&cO(n,e)}function cO(n,e){return cO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},cO(n,e)}function N1(n,e,t){return e=ak(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ak(n){var e=Gme(n,"string");return Fm(e)=="symbol"?e:e+""}function Gme(n,e){if(Fm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Fm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var kme=function(e,t,i,r,a){var s=a.x1,l=a.x2,u=a.y1,f=a.y2,p=a.xAxis,v=a.yAxis;if(!p||!v)return null;var g=wD({x:p.scale,y:v.scale}),b={x:e?g.x.apply(s,{position:"start"}):g.x.rangeMin,y:i?g.y.apply(u,{position:"start"}):g.y.rangeMin},_={x:t?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:r?g.y.apply(f,{position:"end"}):g.y.rangeMax};return $l(a,"discard")&&(!g.isInRange(b)||!g.isInRange(_))?null:q9(b,_)},P1=function(n){function e(){return Pme(this,e),Ime(this,e,arguments)}return Hme(e,n),Ume(e,[{key:"render",value:function(){var i=this.props,r=i.x1,a=i.x2,s=i.y1,l=i.y2,u=i.className,f=i.alwaysShow,p=i.clipPathId;rc(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=fr(r),g=fr(a),b=fr(s),_=fr(l),M=this.props.shape;if(!v&&!g&&!b&&!_&&!M)return null;var A=kme(v,g,b,_,this.props);if(!A&&!M)return null;var S=$l(this.props,"hidden")?"url(#".concat(p,")"):void 0;return ut.createElement(Ji,{className:Ln("recharts-reference-area",u)},e.renderRect(M,fH(fH({clipPath:S},wn(this.props,!0)),A)),ha.renderCallByParent(this.props,A))}}])}(ut.Component);N1(P1,"displayName","ReferenceArea");N1(P1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});N1(P1,"renderRect",function(n,e){var t;return ut.isValidElement(n)?t=ut.cloneElement(n,e):dn(n)?t=n(e):t=ut.createElement(ED,uO({},e,{className:"recharts-reference-area-rect"})),t});function sk(n,e,t){if(e<1)return[];if(e===1&&t===void 0)return n;for(var i=[],r=0;r<n.length;r+=e)i.push(n[r]);return i}function Vme(n,e,t){var i={width:n.width+e.width,height:n.height+e.height};return Ype(i,t)}function jme(n,e,t){var i=t==="width",r=n.x,a=n.y,s=n.width,l=n.height;return e===1?{start:i?r:a,end:i?r+s:a+l}:{start:i?r+s:a+l,end:i?r:a}}function hS(n,e,t,i,r){if(n*e<n*i||n*e>n*r)return!1;var a=t();return n*(e-n*a/2-i)>=0&&n*(e+n*a/2-r)<=0}function qme(n,e){return sk(n,e+1)}function Xme(n,e,t,i,r){for(var a=(i||[]).slice(),s=e.start,l=e.end,u=0,f=1,p=s,v=function(){var _=i==null?void 0:i[u];if(_===void 0)return{v:sk(i,f)};var M=u,A,S=function(){return A===void 0&&(A=t(_,M)),A},w=_.coordinate,C=u===0||hS(n,w,S,p,l);C||(u=0,p=s,f+=1),C&&(p=w+n*(S()/2+r),u+=f)},g;f<=a.length;)if(g=v(),g)return g.v;return[]}function r0(n){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r0(n)}function hH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ca(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hH(Object(t),!0).forEach(function(i){Wme(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Wme(n,e,t){return e=Yme(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Yme(n){var e=Kme(n,"string");return r0(e)=="symbol"?e:e+""}function Kme(n,e){if(r0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(r0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Jme(n,e,t,i,r){for(var a=(i||[]).slice(),s=a.length,l=e.start,u=e.end,f=function(g){var b=a[g],_,M=function(){return _===void 0&&(_=t(b,g)),_};if(g===s-1){var A=n*(b.coordinate+n*M()/2-u);a[g]=b=ca(ca({},b),{},{tickCoord:A>0?b.coordinate-A*n:b.coordinate})}else a[g]=b=ca(ca({},b),{},{tickCoord:b.coordinate});var S=hS(n,b.tickCoord,M,l,u);S&&(u=b.tickCoord-n*(M()/2+r),a[g]=ca(ca({},b),{},{isShow:!0}))},p=s-1;p>=0;p--)f(p);return a}function Zme(n,e,t,i,r,a){var s=(i||[]).slice(),l=s.length,u=e.start,f=e.end;if(a){var p=i[l-1],v=t(p,l-1),g=n*(p.coordinate+n*v/2-f);s[l-1]=p=ca(ca({},p),{},{tickCoord:g>0?p.coordinate-g*n:p.coordinate});var b=hS(n,p.tickCoord,function(){return v},u,f);b&&(f=p.tickCoord-n*(v/2+r),s[l-1]=ca(ca({},p),{},{isShow:!0}))}for(var _=a?l-1:l,M=function(w){var C=s[w],R,D=function(){return R===void 0&&(R=t(C,w)),R};if(w===0){var N=n*(C.coordinate-n*D()/2-u);s[w]=C=ca(ca({},C),{},{tickCoord:N<0?C.coordinate-N*n:C.coordinate})}else s[w]=C=ca(ca({},C),{},{tickCoord:C.coordinate});var L=hS(n,C.tickCoord,D,u,f);L&&(u=C.tickCoord+n*(D()/2+r),s[w]=ca(ca({},C),{},{isShow:!0}))},A=0;A<_;A++)M(A);return s}function PD(n,e,t){var i=n.tick,r=n.ticks,a=n.viewBox,s=n.minTickGap,l=n.orientation,u=n.interval,f=n.tickFormatter,p=n.unit,v=n.angle;if(!r||!r.length||!i)return[];if(mt(u)||sv.isSsr)return qme(r,typeof u=="number"&&mt(u)?u:0);var g=[],b=l==="top"||l==="bottom"?"width":"height",_=p&&b==="width"?uy(p,{fontSize:e,letterSpacing:t}):{width:0,height:0},M=function(C,R){var D=dn(f)?f(C.value,R):C.value;return b==="width"?Vme(uy(D,{fontSize:e,letterSpacing:t}),_,v):uy(D,{fontSize:e,letterSpacing:t})[b]},A=r.length>=2?$o(r[1].coordinate-r[0].coordinate):1,S=jme(a,A,b);return u==="equidistantPreserveStart"?Xme(A,S,M,r,s):(u==="preserveStart"||u==="preserveStartEnd"?g=Zme(A,S,M,r,s,u==="preserveStartEnd"):g=Jme(A,S,M,r,s),g.filter(function(w){return w.isShow}))}var Qme=["viewBox"],$me=["viewBox"],eve=["ticks"];function zm(n){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(n)}function dH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ca(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dH(Object(t),!0).forEach(function(i){LD(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function OC(n,e){if(n==null)return{};var t=tve(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function tve(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function nve(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pH(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,lk(i.key),i)}}function ive(n,e,t){return e&&pH(n.prototype,e),t&&pH(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function rve(n,e,t){return e=dS(e),ave(n,ok()?Reflect.construct(e,t||[],dS(n).constructor):e.apply(n,t))}function ave(n,e){if(e&&(zm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sve(n)}function sve(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ok(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ok=function(){return!!n})()}function dS(n){return dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dS(n)}function ove(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&fO(n,e)}function fO(n,e){return fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},fO(n,e)}function LD(n,e,t){return e=lk(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lk(n){var e=lve(n,"string");return zm(e)=="symbol"?e:e+""}function lve(n,e){if(zm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(zm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var cv=function(n){function e(t){var i;return nve(this,e),i=rve(this,e,[t]),i.state={fontSize:"",letterSpacing:""},i}return ove(e,n),ive(e,[{key:"shouldComponentUpdate",value:function(i,r){var a=i.viewBox,s=OC(i,Qme),l=this.props,u=l.viewBox,f=OC(l,$me);return!cm(a,u)||!cm(s,f)||!cm(r,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var r=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];r&&this.setState({fontSize:window.getComputedStyle(r).fontSize,letterSpacing:window.getComputedStyle(r).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var r=this.props,a=r.x,s=r.y,l=r.width,u=r.height,f=r.orientation,p=r.tickSize,v=r.mirror,g=r.tickMargin,b,_,M,A,S,w,C=v?-1:1,R=i.tickSize||p,D=mt(i.tickCoord)?i.tickCoord:i.coordinate;switch(f){case"top":b=_=i.coordinate,A=s+ +!v*u,M=A-C*R,w=M-C*g,S=D;break;case"left":M=A=i.coordinate,_=a+ +!v*l,b=_-C*R,S=b-C*g,w=D;break;case"right":M=A=i.coordinate,_=a+ +v*l,b=_+C*R,S=b+C*g,w=D;break;default:b=_=i.coordinate,A=s+ +v*u,M=A+C*R,w=M+C*g,S=D;break}return{line:{x1:b,y1:M,x2:_,y2:A},tick:{x:S,y:w}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,r=i.orientation,a=i.mirror,s;switch(r){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,r=i.orientation,a=i.mirror,s="end";switch(r){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var i=this.props,r=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,f=i.mirror,p=i.axisLine,v=Ca(Ca(Ca({},wn(this.props,!1)),wn(p,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var g=+(u==="top"&&!f||u==="bottom"&&f);v=Ca(Ca({},v),{},{x1:r,y1:a+g*l,x2:r+s,y2:a+g*l})}else{var b=+(u==="left"&&!f||u==="right"&&f);v=Ca(Ca({},v),{},{x1:r+b*s,y1:a,x2:r+b*s,y2:a+l})}return F("line",{...v,className:Ln("recharts-cartesian-axis-line",to(p,"className"))})}},{key:"renderTicks",value:function(i,r,a){var s=this,l=this.props,u=l.tickLine,f=l.stroke,p=l.tick,v=l.tickFormatter,g=l.unit,b=PD(Ca(Ca({},this.props),{},{ticks:i}),r,a),_=this.getTickTextAnchor(),M=this.getTickVerticalAnchor(),A=wn(this.props,!1),S=wn(p,!1),w=Ca(Ca({},A),{},{fill:"none"},wn(u,!1)),C=b.map(function(R,D){var N=s.getTickLineCoord(R),L=N.line,z=N.tick,P=Ca(Ca(Ca(Ca({textAnchor:_,verticalAnchor:M},A),{},{stroke:"none",fill:f},S),z),{},{index:D,payload:R,visibleTicksCount:b.length,tickFormatter:v});return te(Ji,{className:"recharts-cartesian-axis-tick",...RA(s.props,R,D),children:[u&&F("line",{...w,...L,className:Ln("recharts-cartesian-axis-tick-line",to(u,"className"))}),p&&e.renderTickItem(p,P,"".concat(dn(v)?v(R.value,D):R.value).concat(g||""))]},"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord))});return F("g",{className:"recharts-cartesian-axis-ticks",children:C})}},{key:"render",value:function(){var i=this,r=this.props,a=r.axisLine,s=r.width,l=r.height,u=r.ticksGenerator,f=r.className,p=r.hide;if(p)return null;var v=this.props,g=v.ticks,b=OC(v,eve),_=g;return dn(u)&&(_=g&&g.length>0?u(this.props):u(b)),s<=0||l<=0||!_||!_.length?null:te(Ji,{className:Ln("recharts-cartesian-axis",f),ref:function(A){i.layerReference=A},children:[a&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),ha.renderCallByParent(this.props)]})}}],[{key:"renderTickItem",value:function(i,r,a){var s;return ut.isValidElement(i)?s=ut.cloneElement(i,r):dn(i)?s=i(r):s=F(HA,{...r,className:"recharts-cartesian-axis-tick-value",children:a}),s}}])}(Z.Component);LD(cv,"displayName","CartesianAxis");LD(cv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uve=["x1","y1","x2","y2","key"],cve=["offset"];function Ad(n){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(n)}function mH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function da(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mH(Object(t),!0).forEach(function(i){fve(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function fve(n,e,t){return e=hve(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hve(n){var e=dve(n,"string");return Ad(e)=="symbol"?e:e+""}function dve(n,e){if(Ad(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Ad(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function td(){return td=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},td.apply(this,arguments)}function vH(n,e){if(n==null)return{};var t=pve(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function pve(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}var mve=function(e){var t=e.fill;if(!t||t==="none")return null;var i=e.fillOpacity,r=e.x,a=e.y,s=e.width,l=e.height,u=e.ry;return ut.createElement("rect",{x:r,y:a,ry:u,width:s,height:l,stroke:"none",fill:t,fillOpacity:i,className:"recharts-cartesian-grid-bg"})};function uk(n,e){var t;if(ut.isValidElement(n))t=ut.cloneElement(n,e);else if(dn(n))t=n(e);else{var i=e.x1,r=e.y1,a=e.x2,s=e.y2,l=e.key,u=vH(e,uve),f=wn(u,!1);f.offset;var p=vH(f,cve);t=ut.createElement("line",td({},p,{x1:i,y1:r,x2:a,y2:s,fill:"none",key:l}))}return t}function vve(n){var e=n.x,t=n.width,i=n.horizontal,r=i===void 0?!0:i,a=n.horizontalPoints;if(!r||!a||!a.length)return null;var s=a.map(function(l,u){var f=da(da({},n),{},{x1:e,y1:l,x2:e+t,y2:l,key:"line-".concat(u),index:u});return uk(r,f)});return ut.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function gve(n){var e=n.y,t=n.height,i=n.vertical,r=i===void 0?!0:i,a=n.verticalPoints;if(!r||!a||!a.length)return null;var s=a.map(function(l,u){var f=da(da({},n),{},{x1:l,y1:e,x2:l,y2:e+t,key:"line-".concat(u),index:u});return uk(r,f)});return ut.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function yve(n){var e=n.horizontalFill,t=n.fillOpacity,i=n.x,r=n.y,a=n.width,s=n.height,l=n.horizontalPoints,u=n.horizontal,f=u===void 0?!0:u;if(!f||!e||!e.length)return null;var p=l.map(function(g){return Math.round(g+r-r)}).sort(function(g,b){return g-b});r!==p[0]&&p.unshift(0);var v=p.map(function(g,b){var _=!p[b+1],M=_?r+s-g:p[b+1]-g;if(M<=0)return null;var A=b%e.length;return ut.createElement("rect",{key:"react-".concat(b),y:g,x:i,height:M,width:a,stroke:"none",fill:e[A],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return ut.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function bve(n){var e=n.vertical,t=e===void 0?!0:e,i=n.verticalFill,r=n.fillOpacity,a=n.x,s=n.y,l=n.width,u=n.height,f=n.verticalPoints;if(!t||!i||!i.length)return null;var p=f.map(function(g){return Math.round(g+a-a)}).sort(function(g,b){return g-b});a!==p[0]&&p.unshift(0);var v=p.map(function(g,b){var _=!p[b+1],M=_?a+l-g:p[b+1]-g;if(M<=0)return null;var A=b%i.length;return ut.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:M,height:u,stroke:"none",fill:i[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ut.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var xve=function(e,t){var i=e.xAxis,r=e.width,a=e.height,s=e.offset;return S9(PD(da(da(da({},cv.defaultProps),i),{},{ticks:Qu(i,!0),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,t)},_ve=function(e,t){var i=e.yAxis,r=e.width,a=e.height,s=e.offset;return S9(PD(da(da(da({},cv.defaultProps),i),{},{ticks:Qu(i,!0),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,t)},em={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ck(n){var e,t,i,r,a,s,l=OD(),u=BD(),f=lme(),p=da(da({},n),{},{stroke:(e=n.stroke)!==null&&e!==void 0?e:em.stroke,fill:(t=n.fill)!==null&&t!==void 0?t:em.fill,horizontal:(i=n.horizontal)!==null&&i!==void 0?i:em.horizontal,horizontalFill:(r=n.horizontalFill)!==null&&r!==void 0?r:em.horizontalFill,vertical:(a=n.vertical)!==null&&a!==void 0?a:em.vertical,verticalFill:(s=n.verticalFill)!==null&&s!==void 0?s:em.verticalFill,x:mt(n.x)?n.x:f.left,y:mt(n.y)?n.y:f.top,width:mt(n.width)?n.width:f.width,height:mt(n.height)?n.height:f.height}),v=p.x,g=p.y,b=p.width,_=p.height,M=p.syncWithTicks,A=p.horizontalValues,S=p.verticalValues,w=ame(),C=sme();if(!mt(b)||b<=0||!mt(_)||_<=0||!mt(v)||v!==+v||!mt(g)||g!==+g)return null;var R=p.verticalCoordinatesGenerator||xve,D=p.horizontalCoordinatesGenerator||_ve,N=p.horizontalPoints,L=p.verticalPoints;if((!N||!N.length)&&dn(D)){var z=A&&A.length,P=D({yAxis:C?da(da({},C),{},{ticks:z?A:C.ticks}):void 0,width:l,height:u,offset:f},z?!0:M);rc(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ad(P),"]")),Array.isArray(P)&&(N=P)}if((!L||!L.length)&&dn(R)){var U=S&&S.length,H=R({xAxis:w?da(da({},w),{},{ticks:U?S:w.ticks}):void 0,width:l,height:u,offset:f},U?!0:M);rc(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ad(H),"]")),Array.isArray(H)&&(L=H)}return ut.createElement("g",{className:"recharts-cartesian-grid"},ut.createElement(mve,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),ut.createElement(vve,td({},p,{offset:f,horizontalPoints:N,xAxis:w,yAxis:C})),ut.createElement(gve,td({},p,{offset:f,verticalPoints:L,xAxis:w,yAxis:C})),ut.createElement(yve,td({},p,{horizontalPoints:N})),ut.createElement(bve,td({},p,{verticalPoints:L})))}ck.displayName="CartesianGrid";var Ave=["type","layout","connectNulls","ref"],Sve=["key"];function Hm(n){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(n)}function gH(n,e){if(n==null)return{};var t=Mve(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Mve(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function yH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function xs(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yH(Object(t),!0).forEach(function(i){Yo(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function tm(n){return Cve(n)||wve(n)||Tve(n)||Eve()}function Eve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tve(n,e){if(n){if(typeof n=="string")return hO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hO(n,e)}}function wve(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Cve(n){if(Array.isArray(n))return hO(n)}function hO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Rve(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function bH(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,hk(i.key),i)}}function Ove(n,e,t){return e&&bH(n.prototype,e),t&&bH(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Bve(n,e,t){return e=pS(e),Dve(n,fk()?Reflect.construct(e,t||[],pS(n).constructor):e.apply(n,t))}function Dve(n,e){if(e&&(Hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nve(n)}function Nve(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function fk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fk=function(){return!!n})()}function pS(n){return pS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pS(n)}function Pve(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&dO(n,e)}function dO(n,e){return dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},dO(n,e)}function Yo(n,e,t){return e=hk(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hk(n){var e=Lve(n,"string");return Hm(e)=="symbol"?e:e+""}function Lve(n,e){if(Hm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Hm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Gm=function(n){function e(){var t;Rve(this,e);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=Bve(this,e,[].concat(r)),Yo(t,"state",{isAnimationFinished:!0,totalLength:0}),Yo(t,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Yo(t,"getStrokeDasharray",function(s,l,u){var f=u.reduce(function(S,w){return S+w});if(!f)return t.generateSimpleStrokeDasharray(l,s);for(var p=Math.floor(s/f),v=s%f,g=l-s,b=[],_=0,M=0;_<u.length;M+=u[_],++_)if(M+u[_]>v){b=[].concat(tm(u.slice(0,_)),[v-M]);break}var A=b.length%2===0?[0,g]:[g];return[].concat(tm(e.repeat(u,p)),tm(b),A).map(function(S){return"".concat(S,"px")}).join(", ")}),Yo(t,"id",w0("recharts-line-")),Yo(t,"pathRef",function(s){t.mainCurve=s}),Yo(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),Yo(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return Pve(e,n),Ove(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();i!==this.state.totalLength&&this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,u=a.yAxis,f=a.layout,p=a.children,v=no(p,N0);if(!v)return null;var g=function(M,A){return{x:M.x,y:M.y,value:M.value,errorVal:Rs(M.payload,A)}},b={clipPath:i?"url(#clipPath-".concat(r,")"):null};return F(Ji,{...b,children:v.map(function(_){return ut.cloneElement(_,{key:"bar-".concat(_.props.dataKey),data:s,xAxis:l,yAxis:u,layout:f,dataPointFormatter:g})})})}},{key:"renderDots",value:function(i,r,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,f=l.points,p=l.dataKey,v=wn(this.props,!1),g=wn(u,!0),b=f.map(function(M,A){var S=xs(xs(xs({key:"dot-".concat(A),r:3},v),g),{},{index:A,cx:M.x,cy:M.y,value:M.value,dataKey:p,payload:M.payload,points:f});return e.renderDotItem(u,S)}),_={clipPath:i?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return F(Ji,{className:"recharts-line-dots",..._,children:b},"dots")}},{key:"renderCurveStatically",value:function(i,r,a,s){var l=this.props,u=l.type,f=l.layout,p=l.connectNulls;l.ref;var v=gH(l,Ave),g=xs(xs(xs({},wn(v,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:r?"url(#clipPath-".concat(a,")"):null,points:i},s),{},{type:u,layout:f,connectNulls:p});return F(jR,{...g,pathRef:this.pathRef})}},{key:"renderCurveWithAnimation",value:function(i,r){var a=this,s=this.props,l=s.points,u=s.strokeDasharray,f=s.isAnimationActive,p=s.animationBegin,v=s.animationDuration,g=s.animationEasing,b=s.animationId,_=s.animateNewValues,M=s.width,A=s.height,S=this.state,w=S.prevPoints,C=S.totalLength;return F(dc,{begin:p,duration:v,isActive:f,easing:g,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(R){var D=R.t;if(w){var N=w.length/l.length,L=l.map(function(J,V){var ne=Math.floor(V*N);if(w[ne]){var ee=w[ne],Y=Jo(ee.x,J.x),re=Jo(ee.y,J.y);return xs(xs({},J),{},{x:Y(D),y:re(D)})}if(_){var ie=Jo(M*2,J.x),he=Jo(A/2,J.y);return xs(xs({},J),{},{x:ie(D),y:he(D)})}return xs(xs({},J),{},{x:J.x,y:J.y})});return a.renderCurveStatically(L,i,r)}var z=Jo(0,C),P=z(D),U;if(u){var H="".concat(u).split(/[,\s]+/gim).map(function(J){return parseFloat(J)});U=a.getStrokeDasharray(P,C,H)}else U=a.generateSimpleStrokeDasharray(C,P);return a.renderCurveStatically(l,i,r,{strokeDasharray:U})}},"line-".concat(b))}},{key:"renderCurve",value:function(i,r){var a=this.props,s=a.points,l=a.isAnimationActive,u=this.state,f=u.prevPoints,p=u.totalLength;return l&&s&&s.length&&(!f&&p>0||!E1(f,s))?this.renderCurveWithAnimation(i,r):this.renderCurveStatically(s,i,r)}},{key:"render",value:function(){var i,r=this.props,a=r.hide,s=r.dot,l=r.points,u=r.className,f=r.xAxis,p=r.yAxis,v=r.top,g=r.left,b=r.width,_=r.height,M=r.isAnimationActive,A=r.id;if(a||!l||!l.length)return null;var S=this.state.isAnimationFinished,w=l.length===1,C=Ln("recharts-line",u),R=f&&f.allowDataOverflow,D=p&&p.allowDataOverflow,N=R||D,L=An(A)?this.id:A,z=(i=wn(s,!1))!==null&&i!==void 0?i:{r:3,strokeWidth:2},P=z.r,U=P===void 0?3:P,H=z.strokeWidth,J=H===void 0?2:H,V=Qte(s)?s:{},ne=V.clipDot,ee=ne===void 0?!0:ne,Y=U*2+J;return te(Ji,{className:C,children:[R||D?te("defs",{children:[F("clipPath",{id:"clipPath-".concat(L),children:F("rect",{x:R?g:g-b/2,y:D?v:v-_/2,width:R?b:b*2,height:D?_:_*2})}),!ee&&F("clipPath",{id:"clipPath-dots-".concat(L),children:F("rect",{x:g-Y/2,y:v-Y/2,width:b+Y,height:_+Y})})]}):null,!w&&this.renderCurve(N,L),this.renderErrorBar(N,L),(w||s)&&this.renderDots(N,ee,L),(!M||S)&&Af.renderCallByParent(this.props,l)]})}}],[{key:"getDerivedStateFromProps",value:function(i,r){return i.animationId!==r.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:r.curPoints}:i.points!==r.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,r){for(var a=i.length%2!==0?[].concat(tm(i),[0]):i,s=[],l=0;l<r;++l)s=[].concat(tm(s),tm(a));return s}},{key:"renderDotItem",value:function(i,r){var a;if(ut.isValidElement(i))a=ut.cloneElement(i,r);else if(dn(i))a=i(r);else{var s=r.key,l=gH(r,Sve),u=Ln("recharts-line-dot",typeof i!="boolean"?i.className:"");a=F(TD,{...l,className:u},s)}return a}}])}(Z.PureComponent);Yo(Gm,"displayName","Line");Yo(Gm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!sv.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Yo(Gm,"getComposedData",function(n){var e=n.props,t=n.xAxis,i=n.yAxis,r=n.xAxisTicks,a=n.yAxisTicks,s=n.dataKey,l=n.bandSize,u=n.displayedData,f=n.offset,p=e.layout,v=u.map(function(g,b){var _=Rs(g,s);return p==="horizontal"?{x:N4({axis:t,ticks:r,bandSize:l,entry:g,index:b}),y:An(_)?null:i.scale(_),value:_,payload:g}:{x:An(_)?null:t.scale(_),y:N4({axis:i,ticks:a,bandSize:l,entry:g,index:b}),value:_,payload:g}});return xs({points:v,layout:p},f)});function km(n){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(n)}function Uve(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ive(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,mk(i.key),i)}}function Fve(n,e,t){return e&&Ive(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function zve(n,e,t){return e=mS(e),Hve(n,dk()?Reflect.construct(e,t||[],mS(n).constructor):e.apply(n,t))}function Hve(n,e){if(e&&(km(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gve(n)}function Gve(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function dk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dk=function(){return!!n})()}function mS(n){return mS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mS(n)}function kve(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&pO(n,e)}function pO(n,e){return pO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},pO(n,e)}function pk(n,e,t){return e=mk(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mk(n){var e=Vve(n,"string");return km(e)=="symbol"?e:e+""}function Vve(n,e){if(km(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(km(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function mO(){return mO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mO.apply(this,arguments)}function jve(n){var e=n.xAxisId,t=OD(),i=BD(),r=Q9(e);return r==null?null:ut.createElement(cv,mO({},r,{className:Ln("recharts-".concat(r.axisType," ").concat(r.axisType),r.className),viewBox:{x:0,y:0,width:t,height:i},ticksGenerator:function(s){return Qu(s,!0)}}))}var L1=function(n){function e(){return Uve(this,e),zve(this,e,arguments)}return kve(e,n),Fve(e,[{key:"render",value:function(){return ut.createElement(jve,this.props)}}])}(ut.Component);pk(L1,"displayName","XAxis");pk(L1,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vm(n){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(n)}function qve(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Xve(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,yk(i.key),i)}}function Wve(n,e,t){return e&&Xve(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Yve(n,e,t){return e=vS(e),Kve(n,vk()?Reflect.construct(e,t||[],vS(n).constructor):e.apply(n,t))}function Kve(n,e){if(e&&(Vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jve(n)}function Jve(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vk=function(){return!!n})()}function vS(n){return vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vS(n)}function Zve(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&vO(n,e)}function vO(n,e){return vO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},vO(n,e)}function gk(n,e,t){return e=yk(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yk(n){var e=Qve(n,"string");return Vm(e)=="symbol"?e:e+""}function Qve(n,e){if(Vm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Vm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function gO(){return gO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gO.apply(this,arguments)}var $ve=function(e){var t=e.yAxisId,i=OD(),r=BD(),a=$9(t);return a==null?null:ut.createElement(cv,gO({},a,{className:Ln("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:i,height:r},ticksGenerator:function(l){return Qu(l,!0)}}))},U1=function(n){function e(){return qve(this,e),Yve(this,e,arguments)}return Zve(e,n),Wve(e,[{key:"render",value:function(){return ut.createElement($ve,this.props)}}])}(ut.Component);gk(U1,"displayName","YAxis");gk(U1,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function xH(n){return ige(n)||nge(n)||tge(n)||ege()}function ege(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tge(n,e){if(n){if(typeof n=="string")return yO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yO(n,e)}}function nge(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ige(n){if(Array.isArray(n))return yO(n)}function yO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var bO=function(e,t,i,r,a){var s=no(e,ND),l=no(e,D1),u=[].concat(xH(s),xH(l)),f=no(e,P1),p="".concat(r,"Id"),v=r[0],g=t;if(u.length&&(g=u.reduce(function(M,A){if(A.props[p]===i&&$l(A.props,"extendDomain")&&mt(A.props[v])){var S=A.props[v];return[Math.min(M[0],S),Math.max(M[1],S)]}return M},g)),f.length){var b="".concat(v,"1"),_="".concat(v,"2");g=f.reduce(function(M,A){if(A.props[p]===i&&$l(A.props,"extendDomain")&&mt(A.props[b])&&mt(A.props[_])){var S=A.props[b],w=A.props[_];return[Math.min(M[0],S,w),Math.max(M[1],S,w)]}return M},g)}return a&&a.length&&(g=a.reduce(function(M,A){return mt(A)?[Math.min(M[0],A),Math.max(M[1],A)]:M},g)),g},BC={exports:{}},_H;function rge(){return _H||(_H=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(u,f,p){this.fn=u,this.context=f,this.once=p||!1}function a(u,f,p,v,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new r(p,v||u,g),_=t?t+f:f;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],b]:u._events[_].push(b):(u._events[_]=b,u._eventsCount++),u}function s(u,f){--u._eventsCount===0?u._events=new i:delete u._events[f]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],p,v;if(this._eventsCount===0)return f;for(v in p=this._events)e.call(p,v)&&f.push(t?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},l.prototype.listeners=function(f){var p=t?t+f:f,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var g=0,b=v.length,_=new Array(b);g<b;g++)_[g]=v[g].fn;return _},l.prototype.listenerCount=function(f){var p=t?t+f:f,v=this._events[p];return v?v.fn?1:v.length:0},l.prototype.emit=function(f,p,v,g,b,_){var M=t?t+f:f;if(!this._events[M])return!1;var A=this._events[M],S=arguments.length,w,C;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),S){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,v),!0;case 4:return A.fn.call(A.context,p,v,g),!0;case 5:return A.fn.call(A.context,p,v,g,b),!0;case 6:return A.fn.call(A.context,p,v,g,b,_),!0}for(C=1,w=new Array(S-1);C<S;C++)w[C-1]=arguments[C];A.fn.apply(A.context,w)}else{var R=A.length,D;for(C=0;C<R;C++)switch(A[C].once&&this.removeListener(f,A[C].fn,void 0,!0),S){case 1:A[C].fn.call(A[C].context);break;case 2:A[C].fn.call(A[C].context,p);break;case 3:A[C].fn.call(A[C].context,p,v);break;case 4:A[C].fn.call(A[C].context,p,v,g);break;default:if(!w)for(D=1,w=new Array(S-1);D<S;D++)w[D-1]=arguments[D];A[C].fn.apply(A[C].context,w)}}return!0},l.prototype.on=function(f,p,v){return a(this,f,p,v,!1)},l.prototype.once=function(f,p,v){return a(this,f,p,v,!0)},l.prototype.removeListener=function(f,p,v,g){var b=t?t+f:f;if(!this._events[b])return this;if(!p)return s(this,b),this;var _=this._events[b];if(_.fn)_.fn===p&&(!g||_.once)&&(!v||_.context===v)&&s(this,b);else{for(var M=0,A=[],S=_.length;M<S;M++)(_[M].fn!==p||g&&!_[M].once||v&&_[M].context!==v)&&A.push(_[M]);A.length?this._events[b]=A.length===1?A[0]:A:s(this,b)}return this},l.prototype.removeAllListeners=function(f){var p;return f?(p=t?t+f:f,this._events[p]&&s(this,p)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,n.exports=l}(BC)),BC.exports}var age=rge();const sge=Jn(age);var DC=new sge,NC="recharts.syncMouseEvents";function a0(n){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a0(n)}function oge(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lge(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,bk(i.key),i)}}function uge(n,e,t){return e&&lge(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function PC(n,e,t){return e=bk(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bk(n){var e=cge(n,"string");return a0(e)=="symbol"?e:e+""}function cge(n,e){if(a0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(a0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var fge=function(){function n(){oge(this,n),PC(this,"activeIndex",0),PC(this,"coordinateList",[]),PC(this,"layout","horizontal")}return uge(n,[{key:"setDetails",value:function(t){var i,r=t.coordinateList,a=r===void 0?null:r,s=t.container,l=s===void 0?null:s,u=t.layout,f=u===void 0?null:u,p=t.offset,v=p===void 0?null:p,g=t.mouseHandlerCallback,b=g===void 0?null:g;this.coordinateList=(i=a??this.coordinateList)!==null&&i!==void 0?i:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=v??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,i;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var r=this.container.getBoundingClientRect(),a=r.x,s=r.y,l=r.height,u=this.coordinateList[this.activeIndex].coordinate,f=((t=window)===null||t===void 0?void 0:t.scrollX)||0,p=((i=window)===null||i===void 0?void 0:i.scrollY)||0,v=a+u+f,g=s+this.offset.top+l/2+p;this.mouseHandlerCallback({pageX:v,pageY:g})}}}])}();function hge(n,e,t){if(t==="number"&&e===!0&&Array.isArray(n)){var i=n==null?void 0:n[0],r=n==null?void 0:n[1];if(i&&r&&mt(i)&&mt(r))return!0}return!1}function dge(n,e,t,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-r:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-r,width:n==="horizontal"?i:t.width-1,height:n==="horizontal"?t.height-1:i}}function xk(n){var e=n.cx,t=n.cy,i=n.radius,r=n.startAngle,a=n.endAngle,s=Kr(e,t,i,r),l=Kr(e,t,i,a);return{points:[s,l],cx:e,cy:t,radius:i,startAngle:r,endAngle:a}}function pge(n,e,t){var i,r,a,s;if(n==="horizontal")i=e.x,a=i,r=t.top,s=t.top+t.height;else if(n==="vertical")r=e.y,s=r,i=t.left,a=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(n==="centric"){var l=e.cx,u=e.cy,f=e.innerRadius,p=e.outerRadius,v=e.angle,g=Kr(l,u,f,v),b=Kr(l,u,p,v);i=g.x,r=g.y,a=b.x,s=b.y}else return xk(e);return[{x:i,y:r},{x:a,y:s}]}function s0(n){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s0(n)}function AH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function A_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AH(Object(t),!0).forEach(function(i){mge(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function mge(n,e,t){return e=vge(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vge(n){var e=gge(n,"string");return s0(e)=="symbol"?e:e+""}function gge(n,e){if(s0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(s0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function yge(n){var e,t,i=n.element,r=n.tooltipEventType,a=n.isActive,s=n.activeCoordinate,l=n.activePayload,u=n.offset,f=n.activeTooltipIndex,p=n.tooltipAxisBandSize,v=n.layout,g=n.chartName,b=(e=i.props.cursor)!==null&&e!==void 0?e:(t=i.type.defaultProps)===null||t===void 0?void 0:t.cursor;if(!i||!b||!a||!s||g!=="ScatterChart"&&r!=="axis")return null;var _,M=jR;if(g==="ScatterChart")_=s,M=mde;else if(g==="BarChart")_=dge(v,s,u,p),M=ED;else if(v==="radial"){var A=xk(s),S=A.cx,w=A.cy,C=A.radius,R=A.startAngle,D=A.endAngle;_={cx:S,cy:w,startAngle:R,endAngle:D,innerRadius:C,outerRadius:C},M=C9}else _={points:pge(v,s,u)},M=jR;var N=A_(A_(A_(A_({stroke:"#ccc",pointerEvents:"none"},u),_),wn(b,!1)),{},{payload:l,payloadIndex:f,className:Ln("recharts-tooltip-cursor",b.className)});return Z.isValidElement(b)?Z.cloneElement(b,N):Z.createElement(M,N)}var bge=["item"],xge=["children","className","width","height","style","compact","title","desc"];function jm(n){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(n)}function SH(n,e){return Sge(n)||Age(n,e)||Ak(n,e)||_ge()}function _ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Age(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,a,s,l=[],u=!0,f=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(i=a.call(t)).done)&&(l.push(i.value),l.length!==e);u=!0);}catch(p){f=!0,r=p}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw r}}return l}}function Sge(n){if(Array.isArray(n))return n}function MH(n,e){if(n==null)return{};var t=Mge(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Mge(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Ege(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Tge(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Sk(i.key),i)}}function wge(n,e,t){return e&&Tge(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Cge(n,e,t){return e=gS(e),Rge(n,_k()?Reflect.construct(e,t||[],gS(n).constructor):e.apply(n,t))}function Rge(n,e){if(e&&(jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oge(n)}function Oge(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _k(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_k=function(){return!!n})()}function gS(n){return gS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gS(n)}function Bge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&xO(n,e)}function xO(n,e){return xO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},xO(n,e)}function qm(n){return Pge(n)||Nge(n)||Ak(n)||Dge()}function Dge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ak(n,e){if(n){if(typeof n=="string")return _O(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _O(n,e)}}function Nge(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Pge(n){if(Array.isArray(n))return _O(n)}function _O(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function EH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ze(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EH(Object(t),!0).forEach(function(i){Vt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Vt(n,e,t){return e=Sk(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Sk(n){var e=Lge(n,"string");return jm(e)=="symbol"?e:e+""}function Lge(n,e){if(jm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(jm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Uge={xAxis:["bottom","top"],yAxis:["left","right"]},Ige={width:"100%",height:"100%"},Mk={x:0,y:0};function S_(n){return n}var Fge=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},zge=function(e,t,i,r){var a=t.find(function(p){return p&&p.index===i});if(a){if(e==="horizontal")return{x:a.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,l=r.radius;return ze(ze(ze({},r),Kr(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=a.coordinate,f=r.angle;return ze(ze(ze({},r),Kr(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return Mk},I1=function(e,t){var i=t.graphicalItems,r=t.dataStartIndex,a=t.dataEndIndex,s=(i??[]).reduce(function(l,u){var f=u.props.data;return f&&f.length?[].concat(qm(l),qm(f)):l},[]);return s.length>0?s:e&&e.length&&mt(r)&&mt(a)?e.slice(r,a+1):[]};function Ek(n){return n==="number"?[0,"auto"]:void 0}var AO=function(e,t,i,r){var a=e.graphicalItems,s=e.tooltipAxis,l=I1(t,e);return i<0||!a||!a.length||i>=l.length?null:a.reduce(function(u,f){var p,v=(p=f.props.data)!==null&&p!==void 0?p:t;v&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=i&&(v=v.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(s.dataKey&&!s.allowDuplicatedCategory){var b=v===void 0?l:v;g=wA(b,s.dataKey,r)}else g=v&&v[i]||l[i];return g?[].concat(qm(u),[E9(f,g)]):u},[])},TH=function(e,t,i,r){var a=r||{x:e.chartX,y:e.chartY},s=Fge(a,i),l=e.orderedTooltipTicks,u=e.tooltipAxis,f=e.tooltipTicks,p=Que(s,l,f,u);if(p>=0&&f){var v=f[p]&&f[p].value,g=AO(e,t,p,v),b=zge(i,l,p,a);return{activeTooltipIndex:p,activeLabel:v,activePayload:g,activeCoordinate:b}}return null},Hge=function(e,t){var i=t.axes,r=t.graphicalItems,a=t.axisType,s=t.axisIdKey,l=t.stackGroups,u=t.dataStartIndex,f=t.dataEndIndex,p=e.layout,v=e.children,g=e.stackOffset,b=A9(p,a);return i.reduce(function(_,M){var A,S=M.type.defaultProps!==void 0?ze(ze({},M.type.defaultProps),M.props):M.props,w=S.type,C=S.dataKey,R=S.allowDataOverflow,D=S.allowDuplicatedCategory,N=S.scale,L=S.ticks,z=S.includeHidden,P=S[s];if(_[P])return _;var U=I1(e.data,{graphicalItems:r.filter(function(pe){var Se,oe=s in pe.props?pe.props[s]:(Se=pe.type.defaultProps)===null||Se===void 0?void 0:Se[s];return oe===P}),dataStartIndex:u,dataEndIndex:f}),H=U.length,J,V,ne;hge(S.domain,R,w)&&(J=zR(S.domain,null,R),b&&(w==="number"||N!=="auto")&&(ne=fy(U,C,"category")));var ee=Ek(w);if(!J||J.length===0){var Y,re=(Y=S.domain)!==null&&Y!==void 0?Y:ee;if(C){if(J=fy(U,C,w),w==="category"&&b){var ie=Vte(J);D&&ie?(V=J,J=sS(0,H)):D||(J=I4(re,J,M).reduce(function(pe,Se){return pe.indexOf(Se)>=0?pe:[].concat(qm(pe),[Se])},[]))}else if(w==="category")D?J=J.filter(function(pe){return pe!==""&&!An(pe)}):J=I4(re,J,M).reduce(function(pe,Se){return pe.indexOf(Se)>=0||Se===""||An(Se)?pe:[].concat(qm(pe),[Se])},[]);else if(w==="number"){var he=ice(U,r.filter(function(pe){var Se,oe,Te=s in pe.props?pe.props[s]:(Se=pe.type.defaultProps)===null||Se===void 0?void 0:Se[s],Ue="hide"in pe.props?pe.props.hide:(oe=pe.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return Te===P&&(z||!Ue)}),C,a,p);he&&(J=he)}b&&(w==="number"||N!=="auto")&&(ne=fy(U,C,"category"))}else b?J=sS(0,H):l&&l[P]&&l[P].hasStack&&w==="number"?J=g==="expand"?[0,1]:M9(l[P].stackGroups,u,f):J=_9(U,r.filter(function(pe){var Se=s in pe.props?pe.props[s]:pe.type.defaultProps[s],oe="hide"in pe.props?pe.props.hide:pe.type.defaultProps.hide;return Se===P&&(z||!oe)}),w,p,!0);if(w==="number")J=bO(v,J,P,a,L),re&&(J=zR(re,J,R));else if(w==="category"&&re){var q=re,se=J.every(function(pe){return q.indexOf(pe)>=0});se&&(J=q)}}return ze(ze({},_),{},Vt({},P,ze(ze({},S),{},{axisType:a,domain:J,categoricalDomain:ne,duplicateDomain:V,originalDomain:(A=S.domain)!==null&&A!==void 0?A:ee,isCategorical:b,layout:p})))},{})},Gge=function(e,t){var i=t.graphicalItems,r=t.Axis,a=t.axisType,s=t.axisIdKey,l=t.stackGroups,u=t.dataStartIndex,f=t.dataEndIndex,p=e.layout,v=e.children,g=I1(e.data,{graphicalItems:i,dataStartIndex:u,dataEndIndex:f}),b=g.length,_=A9(p,a),M=-1;return i.reduce(function(A,S){var w=S.type.defaultProps!==void 0?ze(ze({},S.type.defaultProps),S.props):S.props,C=w[s],R=Ek("number");if(!A[C]){M++;var D;return _?D=sS(0,b):l&&l[C]&&l[C].hasStack?(D=M9(l[C].stackGroups,u,f),D=bO(v,D,C,a)):(D=zR(R,_9(g,i.filter(function(N){var L,z,P=s in N.props?N.props[s]:(L=N.type.defaultProps)===null||L===void 0?void 0:L[s],U="hide"in N.props?N.props.hide:(z=N.type.defaultProps)===null||z===void 0?void 0:z.hide;return P===C&&!U}),"number",p),r.defaultProps.allowDataOverflow),D=bO(v,D,C,a)),ze(ze({},A),{},Vt({},C,ze(ze({axisType:a},r.defaultProps),{},{hide:!0,orientation:to(Uge,"".concat(a,".").concat(M%2),null),domain:D,originalDomain:R,isCategorical:_,layout:p})))}return A},{})},kge=function(e,t){var i=t.axisType,r=i===void 0?"xAxis":i,a=t.AxisComp,s=t.graphicalItems,l=t.stackGroups,u=t.dataStartIndex,f=t.dataEndIndex,p=e.children,v="".concat(r,"Id"),g=no(p,a),b={};return g&&g.length?b=Hge(e,{axes:g,graphicalItems:s,axisType:r,axisIdKey:v,stackGroups:l,dataStartIndex:u,dataEndIndex:f}):s&&s.length&&(b=Gge(e,{Axis:a,graphicalItems:s,axisType:r,axisIdKey:v,stackGroups:l,dataStartIndex:u,dataEndIndex:f})),b},Vge=function(e){var t=gf(e),i=Qu(t,!1,!0);return{tooltipTicks:i,orderedTooltipTicks:QB(i,function(r){return r.coordinate}),tooltipAxis:t,tooltipAxisBandSize:eS(t,i)}},wH=function(e){var t=e.children,i=e.defaultShowTooltip,r=As(t,Pm),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(s=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!i}},jge=function(e){return!e||!e.length?!1:e.some(function(t){var i=ic(t&&t.type);return i&&i.indexOf("Bar")>=0})},CH=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qge=function(e,t){var i=e.props,r=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,l=e.yAxisMap,u=l===void 0?{}:l,f=i.width,p=i.height,v=i.children,g=i.margin||{},b=As(v,Pm),_=As(v,od),M=Object.keys(u).reduce(function(D,N){var L=u[N],z=L.orientation;return!L.mirror&&!L.hide?ze(ze({},D),{},Vt({},z,D[z]+L.width)):D},{left:g.left||0,right:g.right||0}),A=Object.keys(s).reduce(function(D,N){var L=s[N],z=L.orientation;return!L.mirror&&!L.hide?ze(ze({},D),{},Vt({},z,to(D,"".concat(z))+L.height)):D},{top:g.top||0,bottom:g.bottom||0}),S=ze(ze({},A),M),w=S.bottom;b&&(S.bottom+=b.props.height||Pm.defaultProps.height),_&&t&&(S=tce(S,r,i,t));var C=f-S.left-S.right,R=p-S.top-S.bottom;return ze(ze({brushBottom:w},S),{},{width:Math.max(C,0),height:Math.max(R,0)})},Xge=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},Wge=function(e){var t=e.chartName,i=e.GraphicalChild,r=e.defaultTooltipEventType,a=r===void 0?"axis":r,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,u=e.axisComponents,f=e.legendContent,p=e.formatAxisMap,v=e.defaultProps,g=function(S,w){var C=w.graphicalItems,R=w.stackGroups,D=w.offset,N=w.updateId,L=w.dataStartIndex,z=w.dataEndIndex,P=S.barSize,U=S.layout,H=S.barGap,J=S.barCategoryGap,V=S.maxBarSize,ne=CH(U),ee=ne.numericAxisName,Y=ne.cateAxisName,re=jge(C),ie=[];return C.forEach(function(he,q){var se=I1(S.data,{graphicalItems:[he],dataStartIndex:L,dataEndIndex:z}),pe=he.type.defaultProps!==void 0?ze(ze({},he.type.defaultProps),he.props):he.props,Se=pe.dataKey,oe=pe.maxBarSize,Te=pe["".concat(ee,"Id")],Ue=pe["".concat(Y,"Id")],We={},qe=u.reduce(function($,k){var _e=w["".concat(k.axisType,"Map")],Ne=pe["".concat(k.axisType,"Id")];_e&&_e[Ne]||k.axisType==="zAxis"||_d();var Ye=_e[Ne];return ze(ze({},$),{},Vt(Vt({},k.axisType,Ye),"".concat(k.axisType,"Ticks"),Qu(Ye)))},We),Le=qe[Y],De=qe["".concat(Y,"Ticks")],Xe=R&&R[Te]&&R[Te].hasStack&&mce(he,R[Te].stackGroups),fe=ic(he.type).indexOf("Bar")>=0,Ce=eS(Le,De),K=[],st=re&&$ue({barSize:P,stackGroups:R,totalSize:Xge(qe,Y)});if(fe){var Ie,Ze,Je=An(oe)?V:oe,At=(Ie=(Ze=eS(Le,De,!0))!==null&&Ze!==void 0?Ze:Je)!==null&&Ie!==void 0?Ie:0;K=ece({barGap:H,barCategoryGap:J,bandSize:At!==Ce?At:Ce,sizeList:st[Ue],maxBarSize:Je}),At!==Ce&&(K=K.map(function($){return ze(ze({},$),{},{position:ze(ze({},$.position),{},{offset:$.position.offset-At/2})})}))}var rt=he&&he.type&&he.type.getComposedData;rt&&ie.push({props:ze(ze({},rt(ze(ze({},qe),{},{displayedData:se,props:S,dataKey:Se,item:he,bandSize:Ce,barPosition:K,offset:D,stackedData:Xe,layout:U,dataStartIndex:L,dataEndIndex:z}))),{},Vt(Vt(Vt({key:he.key||"item-".concat(q)},ee,qe[ee]),Y,qe[Y]),"animationId",N)),childIndex:tne(he,S.children),item:he})}),ie},b=function(S,w){var C=S.props,R=S.dataStartIndex,D=S.dataEndIndex,N=S.updateId;if(!ZL({props:C}))return null;var L=C.children,z=C.layout,P=C.stackOffset,U=C.data,H=C.reverseStackOrder,J=CH(z),V=J.numericAxisName,ne=J.cateAxisName,ee=no(L,i),Y=hce(U,ee,"".concat(V,"Id"),"".concat(ne,"Id"),P,H),re=u.reduce(function(pe,Se){var oe="".concat(Se.axisType,"Map");return ze(ze({},pe),{},Vt({},oe,kge(C,ze(ze({},Se),{},{graphicalItems:ee,stackGroups:Se.axisType===V&&Y,dataStartIndex:R,dataEndIndex:D}))))},{}),ie=qge(ze(ze({},re),{},{props:C,graphicalItems:ee}),w==null?void 0:w.legendBBox);Object.keys(re).forEach(function(pe){re[pe]=p(C,re[pe],ie,pe.replace("Map",""),t)});var he=re["".concat(ne,"Map")],q=Vge(he),se=g(C,ze(ze({},re),{},{dataStartIndex:R,dataEndIndex:D,updateId:N,graphicalItems:ee,stackGroups:Y,offset:ie}));return ze(ze({formattedGraphicalItems:se,graphicalItems:ee,offset:ie,stackGroups:Y},q),re)},_=function(A){function S(w){var C,R,D;return Ege(this,S),D=Cge(this,S,[w]),Vt(D,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Vt(D,"accessibilityManager",new fge),Vt(D,"handleLegendBBoxUpdate",function(N){if(N){var L=D.state,z=L.dataStartIndex,P=L.dataEndIndex,U=L.updateId;D.setState(ze({legendBBox:N},b({props:D.props,dataStartIndex:z,dataEndIndex:P,updateId:U},ze(ze({},D.state),{},{legendBBox:N}))))}}),Vt(D,"handleReceiveSyncEvent",function(N,L,z){if(D.props.syncId===N){if(z===D.eventEmitterSymbol&&typeof D.props.syncMethod!="function")return;D.applySyncEvent(L)}}),Vt(D,"handleBrushChange",function(N){var L=N.startIndex,z=N.endIndex;if(L!==D.state.dataStartIndex||z!==D.state.dataEndIndex){var P=D.state.updateId;D.setState(function(){return ze({dataStartIndex:L,dataEndIndex:z},b({props:D.props,dataStartIndex:L,dataEndIndex:z,updateId:P},D.state))}),D.triggerSyncEvent({dataStartIndex:L,dataEndIndex:z})}}),Vt(D,"handleMouseEnter",function(N){var L=D.getMouseInfo(N);if(L){var z=ze(ze({},L),{},{isTooltipActive:!0});D.setState(z),D.triggerSyncEvent(z);var P=D.props.onMouseEnter;dn(P)&&P(z,N)}}),Vt(D,"triggeredAfterMouseMove",function(N){var L=D.getMouseInfo(N),z=L?ze(ze({},L),{},{isTooltipActive:!0}):{isTooltipActive:!1};D.setState(z),D.triggerSyncEvent(z);var P=D.props.onMouseMove;dn(P)&&P(z,N)}),Vt(D,"handleItemMouseEnter",function(N){D.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Vt(D,"handleItemMouseLeave",function(){D.setState(function(){return{isTooltipActive:!1}})}),Vt(D,"handleMouseMove",function(N){N.persist(),D.throttleTriggeredAfterMouseMove(N)}),Vt(D,"handleMouseLeave",function(N){D.throttleTriggeredAfterMouseMove.cancel();var L={isTooltipActive:!1};D.setState(L),D.triggerSyncEvent(L);var z=D.props.onMouseLeave;dn(z)&&z(L,N)}),Vt(D,"handleOuterEvent",function(N){var L=ene(N),z=to(D.props,"".concat(L));if(L&&dn(z)){var P,U;/.*touch.*/i.test(L)?U=D.getMouseInfo(N.changedTouches[0]):U=D.getMouseInfo(N),z((P=U)!==null&&P!==void 0?P:{},N)}}),Vt(D,"handleClick",function(N){var L=D.getMouseInfo(N);if(L){var z=ze(ze({},L),{},{isTooltipActive:!0});D.setState(z),D.triggerSyncEvent(z);var P=D.props.onClick;dn(P)&&P(z,N)}}),Vt(D,"handleMouseDown",function(N){var L=D.props.onMouseDown;if(dn(L)){var z=D.getMouseInfo(N);L(z,N)}}),Vt(D,"handleMouseUp",function(N){var L=D.props.onMouseUp;if(dn(L)){var z=D.getMouseInfo(N);L(z,N)}}),Vt(D,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&D.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Vt(D,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&D.handleMouseDown(N.changedTouches[0])}),Vt(D,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&D.handleMouseUp(N.changedTouches[0])}),Vt(D,"handleDoubleClick",function(N){var L=D.props.onDoubleClick;if(dn(L)){var z=D.getMouseInfo(N);L(z,N)}}),Vt(D,"handleContextMenu",function(N){var L=D.props.onContextMenu;if(dn(L)){var z=D.getMouseInfo(N);L(z,N)}}),Vt(D,"triggerSyncEvent",function(N){D.props.syncId!==void 0&&DC.emit(NC,D.props.syncId,N,D.eventEmitterSymbol)}),Vt(D,"applySyncEvent",function(N){var L=D.props,z=L.layout,P=L.syncMethod,U=D.state.updateId,H=N.dataStartIndex,J=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)D.setState(ze({dataStartIndex:H,dataEndIndex:J},b({props:D.props,dataStartIndex:H,dataEndIndex:J,updateId:U},D.state)));else if(N.activeTooltipIndex!==void 0){var V=N.chartX,ne=N.chartY,ee=N.activeTooltipIndex,Y=D.state,re=Y.offset,ie=Y.tooltipTicks;if(!re)return;if(typeof P=="function")ee=P(ie,N);else if(P==="value"){ee=-1;for(var he=0;he<ie.length;he++)if(ie[he].value===N.activeLabel){ee=he;break}}var q=ze(ze({},re),{},{x:re.left,y:re.top}),se=Math.min(V,q.x+q.width),pe=Math.min(ne,q.y+q.height),Se=ie[ee]&&ie[ee].value,oe=AO(D.state,D.props.data,ee),Te=ie[ee]?{x:z==="horizontal"?ie[ee].coordinate:se,y:z==="horizontal"?pe:ie[ee].coordinate}:Mk;D.setState(ze(ze({},N),{},{activeLabel:Se,activeCoordinate:Te,activePayload:oe,activeTooltipIndex:ee}))}else D.setState(N)}),Vt(D,"renderCursor",function(N){var L,z=D.state,P=z.isTooltipActive,U=z.activeCoordinate,H=z.activePayload,J=z.offset,V=z.activeTooltipIndex,ne=z.tooltipAxisBandSize,ee=D.getTooltipEventType(),Y=(L=N.props.active)!==null&&L!==void 0?L:P,re=D.props.layout,ie=N.key||"_recharts-cursor";return F(yge,{activeCoordinate:U,activePayload:H,activeTooltipIndex:V,chartName:t,element:N,isActive:Y,layout:re,offset:J,tooltipAxisBandSize:ne,tooltipEventType:ee},ie)}),Vt(D,"renderPolarAxis",function(N,L,z){var P=to(N,"type.axisType"),U=to(D.state,"".concat(P,"Map")),H=N.type.defaultProps,J=H!==void 0?ze(ze({},H),N.props):N.props,V=U&&U[J["".concat(P,"Id")]];return Z.cloneElement(N,ze(ze({},V),{},{className:Ln(P,V.className),key:N.key||"".concat(L,"-").concat(z),ticks:Qu(V,!0)}))}),Vt(D,"renderPolarGrid",function(N){var L=N.props,z=L.radialLines,P=L.polarAngles,U=L.polarRadius,H=D.state,J=H.radiusAxisMap,V=H.angleAxisMap,ne=gf(J),ee=gf(V),Y=ee.cx,re=ee.cy,ie=ee.innerRadius,he=ee.outerRadius;return Z.cloneElement(N,{polarAngles:Array.isArray(P)?P:Qu(ee,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(U)?U:Qu(ne,!0).map(function(q){return q.coordinate}),cx:Y,cy:re,innerRadius:ie,outerRadius:he,key:N.key||"polar-grid",radialLines:z})}),Vt(D,"renderLegend",function(){var N=D.state.formattedGraphicalItems,L=D.props,z=L.children,P=L.width,U=L.height,H=D.props.margin||{},J=P-(H.left||0)-(H.right||0),V=b9({children:z,formattedGraphicalItems:N,legendWidth:J,legendContent:f});if(!V)return null;var ne=V.item,ee=MH(V,bge);return Z.cloneElement(ne,ze(ze({},ee),{},{chartWidth:P,chartHeight:U,margin:H,onBBoxUpdate:D.handleLegendBBoxUpdate}))}),Vt(D,"renderTooltip",function(){var N,L=D.props,z=L.children,P=L.accessibilityLayer,U=As(z,Xl);if(!U)return null;var H=D.state,J=H.isTooltipActive,V=H.activeCoordinate,ne=H.activePayload,ee=H.activeLabel,Y=H.offset,re=(N=U.props.active)!==null&&N!==void 0?N:J;return Z.cloneElement(U,{viewBox:ze(ze({},Y),{},{x:Y.left,y:Y.top}),active:re,label:ee,payload:re?ne:[],coordinate:V,accessibilityLayer:P})}),Vt(D,"renderBrush",function(N){var L=D.props,z=L.margin,P=L.data,U=D.state,H=U.offset,J=U.dataStartIndex,V=U.dataEndIndex,ne=U.updateId;return Z.cloneElement(N,{key:N.key||"_recharts-brush",onChange:y_(D.handleBrushChange,N.props.onChange),data:P,x:mt(N.props.x)?N.props.x:H.left,y:mt(N.props.y)?N.props.y:H.top+H.height+H.brushBottom-(z.bottom||0),width:mt(N.props.width)?N.props.width:H.width,startIndex:J,endIndex:V,updateId:"brush-".concat(ne)})}),Vt(D,"renderReferenceElement",function(N,L,z){if(!N)return null;var P=D,U=P.clipPathId,H=D.state,J=H.xAxisMap,V=H.yAxisMap,ne=H.offset,ee=N.type.defaultProps||{},Y=N.props,re=Y.xAxisId,ie=re===void 0?ee.xAxisId:re,he=Y.yAxisId,q=he===void 0?ee.yAxisId:he;return Z.cloneElement(N,{key:N.key||"".concat(L,"-").concat(z),xAxis:J[ie],yAxis:V[q],viewBox:{x:ne.left,y:ne.top,width:ne.width,height:ne.height},clipPathId:U})}),Vt(D,"renderActivePoints",function(N){var L=N.item,z=N.activePoint,P=N.basePoint,U=N.childIndex,H=N.isRange,J=[],V=L.props.key,ne=L.item.type.defaultProps!==void 0?ze(ze({},L.item.type.defaultProps),L.item.props):L.item.props,ee=ne.activeDot,Y=ne.dataKey,re=ze(ze({index:U,dataKey:Y,cx:z.x,cy:z.y,r:4,fill:MD(L.item),strokeWidth:2,stroke:"#fff",payload:z.payload,value:z.value},wn(ee,!1)),CA(ee));return J.push(S.renderActiveDot(ee,re,"".concat(V,"-activePoint-").concat(U))),P?J.push(S.renderActiveDot(ee,ze(ze({},re),{},{cx:P.x,cy:P.y}),"".concat(V,"-basePoint-").concat(U))):H&&J.push(null),J}),Vt(D,"renderGraphicChild",function(N,L,z){var P=D.filterFormatItem(N,L,z);if(!P)return null;var U=D.getTooltipEventType(),H=D.state,J=H.isTooltipActive,V=H.tooltipAxis,ne=H.activeTooltipIndex,ee=H.activeLabel,Y=D.props.children,re=As(Y,Xl),ie=P.props,he=ie.points,q=ie.isRange,se=ie.baseLine,pe=P.item.type.defaultProps!==void 0?ze(ze({},P.item.type.defaultProps),P.item.props):P.item.props,Se=pe.activeDot,oe=pe.hide,Te=pe.activeBar,Ue=pe.activeShape,We=!!(!oe&&J&&re&&(Se||Te||Ue)),qe={};U!=="axis"&&re&&re.props.trigger==="click"?qe={onClick:y_(D.handleItemMouseEnter,N.props.onClick)}:U!=="axis"&&(qe={onMouseLeave:y_(D.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:y_(D.handleItemMouseEnter,N.props.onMouseEnter)});var Le=Z.cloneElement(N,ze(ze({},P.props),qe));function De(k){return typeof V.dataKey=="function"?V.dataKey(k.payload):null}if(We)if(ne>=0){var Xe,fe;if(V.dataKey&&!V.allowDuplicatedCategory){var Ce=typeof V.dataKey=="function"?De:"payload.".concat(V.dataKey.toString());Xe=wA(he,Ce,ee),fe=q&&se&&wA(se,Ce,ee)}else Xe=he==null?void 0:he[ne],fe=q&&se&&se[ne];if(Ue||Te){var K=N.props.activeIndex!==void 0?N.props.activeIndex:ne;return[Z.cloneElement(N,ze(ze(ze({},P.props),qe),{},{activeIndex:K})),null,null]}if(!An(Xe))return[Le].concat(qm(D.renderActivePoints({item:P,activePoint:Xe,basePoint:fe,childIndex:ne,isRange:q})))}else{var st,Ie=(st=D.getItemByXY(D.state.activeCoordinate))!==null&&st!==void 0?st:{graphicalItem:Le},Ze=Ie.graphicalItem,Je=Ze.item,At=Je===void 0?N:Je,rt=Ze.childIndex,$=ze(ze(ze({},P.props),qe),{},{activeIndex:rt});return[Z.cloneElement(At,$),null,null]}return q?[Le,null,null]:[Le,null]}),Vt(D,"renderCustomized",function(N,L,z){return Z.cloneElement(N,ze(ze({key:"recharts-customized-".concat(z)},D.props),D.state))}),Vt(D,"renderMap",{CartesianGrid:{handler:S_,once:!0},ReferenceArea:{handler:D.renderReferenceElement},ReferenceLine:{handler:S_},ReferenceDot:{handler:D.renderReferenceElement},XAxis:{handler:S_},YAxis:{handler:S_},Brush:{handler:D.renderBrush,once:!0},Bar:{handler:D.renderGraphicChild},Line:{handler:D.renderGraphicChild},Area:{handler:D.renderGraphicChild},Radar:{handler:D.renderGraphicChild},RadialBar:{handler:D.renderGraphicChild},Scatter:{handler:D.renderGraphicChild},Pie:{handler:D.renderGraphicChild},Funnel:{handler:D.renderGraphicChild},Tooltip:{handler:D.renderCursor,once:!0},PolarGrid:{handler:D.renderPolarGrid,once:!0},PolarAngleAxis:{handler:D.renderPolarAxis},PolarRadiusAxis:{handler:D.renderPolarAxis},Customized:{handler:D.renderCustomized}}),D.clipPathId="".concat((C=w.id)!==null&&C!==void 0?C:w0("recharts"),"-clip"),D.throttleTriggeredAfterMouseMove=y8(D.triggeredAfterMouseMove,(R=w.throttleDelay)!==null&&R!==void 0?R:1e3/60),D.state={},D}return Bge(S,A),wge(S,[{key:"componentDidMount",value:function(){var C,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,R=C.children,D=C.data,N=C.height,L=C.layout,z=As(R,Xl);if(z){var P=z.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,H=AO(this.state,D,P,U),J=this.state.tooltipTicks[P].coordinate,V=(this.state.offset.top+N)/2,ne=L==="horizontal",ee=ne?{x:J,y:V}:{y:J,x:V},Y=this.state.formattedGraphicalItems.find(function(ie){var he=ie.item;return he.type.name==="Scatter"});Y&&(ee=ze(ze({},ee),Y.props.points[P].tooltipPosition),H=Y.props.points[P].tooltipPayload);var re={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:U,activePayload:H,activeCoordinate:ee};this.setState(re),this.renderCursor(z),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var D,N;this.accessibilityManager.setDetails({offset:{left:(D=this.props.margin.left)!==null&&D!==void 0?D:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(C){uR([As(C.children,Xl)],[As(this.props.children,Xl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=As(this.props.children,Xl);if(C&&typeof C.props.shared=="boolean"){var R=C.props.shared?"axis":"item";return l.indexOf(R)>=0?R:a}return a}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var R=this.container,D=R.getBoundingClientRect(),N=kae(D),L={chartX:Math.round(C.pageX-N.left),chartY:Math.round(C.pageY-N.top)},z=D.width/R.offsetWidth||1,P=this.inRange(L.chartX,L.chartY,z);if(!P)return null;var U=this.state,H=U.xAxisMap,J=U.yAxisMap,V=this.getTooltipEventType(),ne=TH(this.state,this.props.data,this.props.layout,P);if(V!=="axis"&&H&&J){var ee=gf(H).scale,Y=gf(J).scale,re=ee&&ee.invert?ee.invert(L.chartX):null,ie=Y&&Y.invert?Y.invert(L.chartY):null;return ze(ze({},L),{},{xValue:re,yValue:ie},ne)}return ne?ze(ze({},L),ne):null}},{key:"inRange",value:function(C,R){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,L=C/D,z=R/D;if(N==="horizontal"||N==="vertical"){var P=this.state.offset,U=L>=P.left&&L<=P.left+P.width&&z>=P.top&&z<=P.top+P.height;return U?{x:L,y:z}:null}var H=this.state,J=H.angleAxisMap,V=H.radiusAxisMap;if(J&&V){var ne=gf(J);return H4({x:L,y:z},ne)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,R=this.getTooltipEventType(),D=As(C,Xl),N={};D&&R==="axis"&&(D.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var L=CA(this.props,this.handleOuterEvent);return ze(ze({},L),N)}},{key:"addListener",value:function(){DC.on(NC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){DC.removeListener(NC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,R,D){for(var N=this.state.formattedGraphicalItems,L=0,z=N.length;L<z;L++){var P=N[L];if(P.item===C||P.props.key===C.key||R===ic(P.item.type)&&D===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,R=this.state.offset,D=R.left,N=R.top,L=R.height,z=R.width;return F("defs",{children:F("clipPath",{id:C,children:F("rect",{x:D,y:N,height:L,width:z})})})}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(R,D){var N=SH(D,2),L=N[0],z=N[1];return ze(ze({},R),{},Vt({},L,z.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(R,D){var N=SH(D,2),L=N[0],z=N[1];return ze(ze({},R),{},Vt({},L,z.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[C])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(C){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[C])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(C){var R=this.state,D=R.formattedGraphicalItems,N=R.activeItem;if(D&&D.length)for(var L=0,z=D.length;L<z;L++){var P=D[L],U=P.props,H=P.item,J=H.type.defaultProps!==void 0?ze(ze({},H.type.defaultProps),H.props):H.props,V=ic(H.type);if(V==="Bar"){var ne=(U.data||[]).find(function(ie){return ade(C,ie)});if(ne)return{graphicalItem:P,payload:ne}}else if(V==="RadialBar"){var ee=(U.data||[]).find(function(ie){return H4(C,ie)});if(ee)return{graphicalItem:P,payload:ee}}else if(C1(P,N)||R1(P,N)||e0(P,N)){var Y=Kde({graphicalItem:P,activeTooltipItem:N,itemData:J.data}),re=J.activeIndex===void 0?Y:J.activeIndex;return{graphicalItem:ze(ze({},P),{},{childIndex:re}),payload:e0(P,N)?J.data[Y]:P.props.data[Y]}}}return null}},{key:"render",value:function(){var C=this;if(!ZL(this))return null;var R=this.props,D=R.children,N=R.className,L=R.width,z=R.height,P=R.style,U=R.compact,H=R.title,J=R.desc,V=MH(R,xge),ne=wn(V,!1);if(U)return F(rH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId,children:te(fR,{...ne,width:L,height:z,title:H,desc:J,children:[this.renderClipPath(),$L(D,this.renderMap)]})});if(this.props.accessibilityLayer){var ee,Y;ne.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,ne.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",ne.onKeyDown=function(ie){C.accessibilityManager.keyboardEvent(ie)},ne.onFocus=function(){C.accessibilityManager.focus()}}var re=this.parseEventsOfWrapper();return F(rH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId,children:te("div",{className:Ln("recharts-wrapper",N),style:ze({position:"relative",cursor:"default",width:L,height:z},P),...re,ref:function(he){C.container=he},children:[te(fR,{...ne,width:L,height:z,title:H,desc:J,style:Ige,children:[this.renderClipPath(),$L(D,this.renderMap)]}),this.renderLegend(),this.renderTooltip()]})})}}])}(Z.Component);Vt(_,"displayName",t),Vt(_,"defaultProps",ze({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},v)),Vt(_,"getDerivedStateFromProps",function(A,S){var w=A.dataKey,C=A.data,R=A.children,D=A.width,N=A.height,L=A.layout,z=A.stackOffset,P=A.margin,U=S.dataStartIndex,H=S.dataEndIndex;if(S.updateId===void 0){var J=wH(A);return ze(ze(ze({},J),{},{updateId:0},b(ze(ze({props:A},J),{},{updateId:0}),S)),{},{prevDataKey:w,prevData:C,prevWidth:D,prevHeight:N,prevLayout:L,prevStackOffset:z,prevMargin:P,prevChildren:R})}if(w!==S.prevDataKey||C!==S.prevData||D!==S.prevWidth||N!==S.prevHeight||L!==S.prevLayout||z!==S.prevStackOffset||!cm(P,S.prevMargin)){var V=wH(A),ne={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},ee=ze(ze({},TH(S,C,L)),{},{updateId:S.updateId+1}),Y=ze(ze(ze({},V),ne),ee);return ze(ze(ze({},Y),b(ze({props:A},Y),S)),{},{prevDataKey:w,prevData:C,prevWidth:D,prevHeight:N,prevLayout:L,prevStackOffset:z,prevMargin:P,prevChildren:R})}if(!uR(R,S.prevChildren)){var re,ie,he,q,se=As(R,Pm),pe=se&&(re=(ie=se.props)===null||ie===void 0?void 0:ie.startIndex)!==null&&re!==void 0?re:U,Se=se&&(he=(q=se.props)===null||q===void 0?void 0:q.endIndex)!==null&&he!==void 0?he:H,oe=pe!==U||Se!==H,Te=!An(C),Ue=Te&&!oe?S.updateId:S.updateId+1;return ze(ze({updateId:Ue},b(ze(ze({props:A},S),{},{updateId:Ue,dataStartIndex:pe,dataEndIndex:Se}),S)),{},{prevChildren:R,dataStartIndex:pe,dataEndIndex:Se})}return null}),Vt(_,"renderActiveDot",function(A,S,w){var C;return Z.isValidElement(A)?C=Z.cloneElement(A,S):dn(A)?C=A(S):C=F(TD,{...S}),F(Ji,{className:"recharts-active-dot",children:C},w)});var M=Z.forwardRef(function(S,w){return F(_,{...S,ref:w})});return M.displayName=_.displayName,M},Yge=Wge({chartName:"LineChart",GraphicalChild:Gm,axisComponents:[{axisType:"xAxis",AxisComp:L1},{axisType:"yAxis",AxisComp:U1}],formatAxisMap:qpe});const RH=[{date:"1/1/2025",value1:64},{date:"1/7/2025",value1:63.61667},{date:"1/23/2025",value1:63.34736},{date:"2/8/2025",value1:63.11652},{date:"2/25/2025",value1:62.92416},{date:"3/13/2025",value1:62.7895},{date:"3/29/2025",value1:62.5779},{date:"4/15/2025",value1:62.44324},{date:"5/1/2025",value1:62.2124},{date:"5/18/2025",value1:62.05851},{date:"6/3/2025",value1:61.86614},{date:"6/19/2025",value1:61.75072},{date:"7/6/2025",value1:61.59683},{date:"7/22/2025",value1:61.4237},{date:"8/7/2025",value1:61.25057},{date:"8/24/2025",value1:61.11592},{date:"9/9/2025",value1:61.0005},{date:"9/25/2025",value1:60.80813},{date:"10/12/2025",value1:60.67348},{date:"10/28/2025",value1:60.57729},{date:"11/13/2025",value1:60.36569},{date:"11/30/2025",value1:60.26951},{date:"12/16/2025",value1:60.15409},{date:"1/1/2026",value1:60.00019},{date:"1/18/2026",value1:59.92325},{date:"2/3/2026",value1:59.73088},{date:"2/19/2026",value1:59.69241},{date:"3/8/2026",value1:59.51928},{date:"3/24/2026",value1:59.40386},{date:"4/9/2026",value1:59.30768},{date:"4/26/2026",value1:59.19226},{date:"5/12/2026",value1:59.09608},{date:"5/29/2026",value1:58.90371},{date:"6/14/2026",value1:58.88447},{date:"6/30/2026",value1:58.76905},{date:"7/14/2026",value1:59.78378},{date:"7/23/2026",value1:64.73881},{date:"7/25/2026",value1:69.7291},{date:"7/30/2026",value1:77.14274},{date:"8/2/2026",value1:85.46174},{date:"8/8/2026",value1:97.58292},{date:"8/12/2026",value1:105.39469},{date:"8/16/2026",value1:112.03196},{date:"8/20/2026",value1:117.83692},{date:"8/25/2026",value1:123.33858},{date:"8/30/2026",value1:128.57221},{date:"9/4/2026",value1:133.88243},{date:"9/12/2026",value1:139.99875},{date:"9/18/2026",value1:144.93614},{date:"9/25/2026",value1:150.15106},{date:"10/5/2026",value1:154.68278},{date:"10/11/2026",value1:157.85498},{date:"10/18/2026",value1:161.93353},{date:"10/22/2026",value1:165.55891},{date:"10/27/2026",value1:167.3716},{date:"11/6/2026",value1:170.99698},{date:"11/15/2026",value1:174.16918},{date:"11/25/2026",value1:176.88822},{date:"12/1/2026",value1:178.70091},{date:"12/12/2026",value1:181.87311},{date:"12/27/2026",value1:185.04532},{date:"1/7/2027",value1:187.31118},{date:"1/18/2027",value1:189.48166},{date:"2/4/2027",value1:192.23249},{date:"2/20/2027",value1:195.04103},{date:"3/8/2027",value1:197.56102},{date:"3/25/2027",value1:199.85018},{date:"4/10/2027",value1:201.94697},{date:"4/26/2027",value1:203.81292},{date:"5/13/2027",value1:205.60192},{date:"5/29/2027",value1:207.23703},{date:"6/15/2027",value1:208.71824},{date:"7/1/2027",value1:209.93015},{date:"7/17/2027",value1:211.219},{date:"8/3/2027",value1:212.31549},{date:"8/19/2027",value1:213.33503},{date:"9/4/2027",value1:214.29686},{date:"9/21/2027",value1:215.12403},{date:"10/7/2027",value1:215.89349},{date:"10/23/2027",value1:216.56677},{date:"11/9/2027",value1:217.1054},{date:"11/25/2027",value1:217.68249},{date:"12/11/2027",value1:218.12494},{date:"12/28/2027",value1:218.49043},{date:"1/13/2028",value1:218.85593},{date:"1/29/2028",value1:219.04829},{date:"2/15/2028",value1:219.27913},{date:"3/2/2028",value1:219.27913},{date:"3/18/2028",value1:219.27913},{date:"4/4/2028",value1:219.27913},{date:"4/20/2028",value1:219.22142},{date:"5/6/2028",value1:218.8944},{date:"5/23/2028",value1:218.62509},{date:"6/8/2028",value1:218.20188},{date:"6/25/2028",value1:217.70173},{date:"7/11/2028",value1:217.06692},{date:"7/27/2028",value1:216.35517},{date:"8/13/2028",value1:215.43181},{date:"8/29/2028",value1:214.43151},{date:"9/14/2028",value1:213.23884},{date:"10/1/2028",value1:211.93075},{date:"10/17/2028",value1:210.4303},{date:"11/2/2028",value1:208.56435},{date:"11/19/2028",value1:206.56375},{date:"12/5/2028",value1:204.29383},{date:"12/21/2028",value1:201.77384},{date:"1/7/2029",value1:198.73446},{date:"1/21/2029",value1:196.42607},{date:"5/18/2029",value1:147.36075},{date:"5/24/2029",value1:141.92332},{date:"5/29/2029",value1:136.54257},{date:"6/3/2029",value1:131.6334},{date:"6/7/2029",value1:125.82138},{date:"6/12/2029",value1:119.89651},{date:"6/15/2029",value1:114.27141},{date:"6/18/2029",value1:109.52799},{date:"6/21/2029",value1:105.28701},{date:"6/29/2029",value1:96.67674},{date:"7/3/2029",value1:91.68285},{date:"7/19/2029",value1:86.89294},{date:"8/4/2029",value1:83.77662},{date:"8/21/2029",value1:81.60288},{date:"9/6/2029",value1:79.83312},{date:"9/22/2029",value1:78.39037},{date:"10/9/2029",value1:77.13999},{date:"10/25/2029",value1:76.04351},{date:"11/10/2029",value1:75.08168},{date:"11/27/2029",value1:74.21603},{date:"12/13/2029",value1:73.4081},{date:"12/27/2029",value1:72.62688},{date:"12/31/2029",value1:66.92537}],OH=[{date:"1/1/2025",value2:226},{date:"1/6/2025",value2:228.57553},{date:"1/23/2025",value2:233.05253},{date:"2/8/2025",value2:236.48946},{date:"2/24/2025",value2:240.24405},{date:"3/13/2025",value2:243.30563},{date:"3/29/2025",value2:245.59478},{date:"4/15/2025",value2:247.2876},{date:"5/1/2025",value2:248.63416},{date:"5/18/2025",value2:249.53828},{date:"6/3/2025",value2:249.98072},{date:"6/19/2025",value2:249.99996},{date:"7/6/2025",value2:249.55752},{date:"7/22/2025",value2:248.82653},{date:"8/7/2025",value2:247.53768},{date:"8/24/2025",value2:245.97951},{date:"9/9/2025",value2:243.9212},{date:"9/25/2025",value2:241.63204},{date:"10/12/2025",value2:238.86198},{date:"10/28/2025",value2:235.86107},{date:"11/9/2025",value2:232.21711},{date:"11/22/2025",value2:229.91215},{date:"12/3/2025",value2:226.36781},{date:"12/16/2025",value2:224.45634},{date:"12/24/2025",value2:220.74523},{date:"1/8/2026",value2:217.38479},{date:"1/23/2026",value2:214.20067},{date:"1/26/2026",value2:210.94199},{date:"2/11/2026",value2:206.44606},{date:"2/23/2026",value2:204.04375},{date:"2/27/2026",value2:199.82798},{date:"3/12/2026",value2:196.02637},{date:"3/25/2026",value2:191.08622},{date:"4/4/2026",value2:184.85847},{date:"4/12/2026",value2:184.99953},{date:"4/15/2026",value2:179.99161},{date:"4/23/2026",value2:180.34428},{date:"4/25/2026",value2:175.09877},{date:"5/4/2026",value2:170.39896},{date:"5/13/2026",value2:165.39104},{date:"5/22/2026",value2:160.4272},{date:"5/29/2026",value2:155.64423},{date:"6/5/2026",value2:150.33905},{date:"6/12/2026",value2:145.31826},{date:"6/18/2026",value2:140.43606},{date:"6/22/2026",value2:135.59998},{date:"6/30/2026",value2:129.71487},{date:"7/5/2026",value2:123.96184},{date:"7/11/2026",value2:119.19117},{date:"7/17/2026",value2:113.87995},{date:"7/25/2026",value2:108.03972},{date:"7/31/2026",value2:102.19244},{date:"8/7/2026",value2:97.29536},{date:"8/15/2026",value2:92.24713},{date:"8/27/2026",value2:87.04684},{date:"9/13/2026",value2:83.98822},{date:"9/29/2026",value2:81.9299},{date:"10/15/2026",value2:80.27556},{date:"11/1/2026",value2:78.90976},{date:"11/17/2026",value2:77.73633},{date:"12/3/2026",value2:76.67832},{date:"12/20/2026",value2:75.69725},{date:"1/5/2027",value2:74.87008},{date:"1/21/2027",value2:74.10061},{date:"2/7/2027",value2:73.33115},{date:"2/23/2027",value2:72.69634},{date:"3/11/2027",value2:72.0423},{date:"3/28/2027",value2:71.50367},{date:"4/13/2027",value2:70.92658},{date:"4/29/2027",value2:70.38795},{date:"5/16/2027",value2:69.90704},{date:"6/1/2027",value2:69.44536},{date:"6/17/2027",value2:69.00292},{date:"7/4/2027",value2:68.59895},{date:"7/20/2027",value2:68.17574},{date:"8/6/2027",value2:67.81025},{date:"8/22/2027",value2:67.38704},{date:"9/7/2027",value2:67.07926},{date:"9/24/2027",value2:66.71376},{date:"10/10/2027",value2:66.3675},{date:"10/26/2027",value2:66.04048},{date:"11/12/2027",value2:65.82888},{date:"11/28/2027",value2:65.44415},{date:"12/14/2027",value2:65.17484},{date:"12/31/2027",value2:64.92476},{date:"1/16/2028",value2:64.59774},{date:"2/1/2028",value2:64.3669},{date:"2/18/2028",value2:64.17453},{date:"3/5/2028",value2:63.77057},{date:"3/21/2028",value2:63.67438},{date:"4/7/2028",value2:63.32812},{date:"4/23/2028",value2:63.2127},{date:"5/9/2028",value2:62.90492},{date:"5/26/2028",value2:62.7895},{date:"6/11/2028",value2:62.48171},{date:"6/27/2028",value2:62.46248},{date:"7/14/2028",value2:62.05851},{date:"7/30/2028",value2:62.05851},{date:"8/16/2028",value2:61.69301},{date:"9/1/2028",value2:61.6353},{date:"9/17/2028",value2:61.44294},{date:"10/4/2028",value2:61.2121},{date:"10/20/2028",value2:61.15439},{date:"11/5/2028",value2:60.78889},{date:"11/22/2028",value2:60.80813},{date:"12/8/2028",value2:60.59653},{date:"12/24/2028",value2:60.36569},{date:"1/10/2029",value2:60.36569},{date:"1/26/2029",value2:60.00019},{date:"2/11/2029",value2:59.94248},{date:"2/28/2029",value2:59.94248},{date:"3/16/2029",value2:59.57699},{date:"4/1/2029",value2:59.51928},{date:"4/18/2029",value2:59.50004},{date:"5/4/2029",value2:59.13455},{date:"5/20/2029",value2:59.09608},{date:"6/2/2029",value2:60.08355},{date:"6/10/2029",value2:65.78271},{date:"6/14/2029",value2:71.5912},{date:"6/19/2029",value2:78.3519},{date:"6/23/2029",value2:85.25014},{date:"6/25/2029",value2:88.64988},{date:"6/29/2029",value2:93.36812},{date:"7/1/2029",value2:98.89657},{date:"7/6/2029",value2:106.38922},{date:"7/10/2029",value2:113.44465},{date:"7/15/2029",value2:120.67239},{date:"7/21/2029",value2:128.00794},{date:"7/25/2029",value2:134.48426},{date:"7/30/2029",value2:140.13981},{date:"8/4/2029",value2:146.12239},{date:"8/8/2029",value2:151.5399},{date:"8/14/2029",value2:156.97984},{date:"8/20/2029",value2:162.22785},{date:"8/27/2029",value2:167.22493},{date:"9/2/2029",value2:172.2127},{date:"9/10/2029",value2:177.0715},{date:"9/16/2029",value2:181.8396},{date:"9/25/2029",value2:186.51416},{date:"10/3/2029",value2:186.90396},{date:"10/5/2029",value2:191.74854},{date:"10/14/2029",value2:196.55971},{date:"10/24/2029",value2:201.97228},{date:"11/3/2029",value2:201.92773},{date:"11/6/2029",value2:207.69977},{date:"11/19/2029",value2:213.01335},{date:"12/3/2029",value2:218.04515},{date:"12/18/2029",value2:222.64361},{date:"12/29/2029",value2:226.49901}],Kge=()=>{const[n,e]=Z.useState([]);Z.useEffect(()=>{const i=new Set;RH.forEach(a=>i.add(a.date)),OH.forEach(a=>i.add(a.date));const r=Array.from(i).map(a=>{const s=RH.find(u=>u.date===a),l=OH.find(u=>u.date===a);return{date:a,value1:s?s.value1:null,value2:l?l.value2:null}});r.sort((a,s)=>{const l=new Date(a.date),u=new Date(s.date);return l-u}),e(r)},[]);const t=i=>{const r=new Date(i);return`${r.getMonth()+1}/${r.getDate()}/${r.getFullYear()}`};return te("div",{className:"p-6 bg-white rounded-lg shadow-lg",children:[F("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Estimated Seasonal Temperature Variations on 16 Psyches Surface"}),F("div",{className:"h-96",children:F(Lae,{width:"100%",height:"100%",children:te(Yge,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[F(ck,{strokeDasharray:"3 3"}),F(L1,{dataKey:"date",tickFormatter:t,tick:{fill:"#6b7280"},angle:-45,textAnchor:"end",height:80,interval:"preserveStartEnd"}),F(U1,{tick:{fill:"#6b7280"},domain:[0,"auto"],allowDataOverflow:!1}),F(Xl,{labelFormatter:i=>`Date: ${t(i)}`,contentStyle:{backgroundColor:"#f3f4f6",borderRadius:"0.375rem",border:"none"},cursor:{strokeWidth:2,stroke:"#9ca3af"}}),F(od,{}),F(Gm,{type:"monotone",dataKey:"value1",stroke:"#2563eb",strokeWidth:6,dot:!1,activeDot:{r:6,fill:"#2563eb",stroke:"#fff",strokeWidth:6},name:"90 Latitude Temperatures",connectNulls:!0}),F(Gm,{type:"monotone",dataKey:"value2",stroke:"#dc2626",strokeWidth:6,dot:!1,activeDot:{r:6,fill:"#dc2626",stroke:"#fff",strokeWidth:6},name:"-90 Latitude Temperatures",connectNulls:!0})]})})})]})};function Jge(){return te("div",{className:"h-screen flex flex-col bg-gray-900 font-mono",children:[F(Md,{}),F("hr",{className:"border-t border-gray-700 w-full"}),F("main",{className:"flex-1 overflow-y-auto p-8 text-gray-300",children:te("div",{className:"max-w-6xl mx-auto space-y-12",children:[te("div",{className:"space-y-4",children:[F("h1",{className:"text-4xl font-bold text-white",children:"Impacts of Psyche's Unique Characteristics"}),F("p",{className:"text-lg border-b border-gray-700 pb-4",children:"How Psyche's physical properties shape its environmental conditions"})]}),te("section",{className:"space-y-4",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Metal-Rich Composition"}),te("ul",{className:"list-disc pl-6 space-y-2",children:[te("li",{children:[F("span",{className:"font-semibold",children:"Lateral Temperature Variations:"}),te("span",{className:"text-white",children:[" ","Metal vs silicate regions create 100K+ differences"]})]}),te("li",{children:[F("span",{className:"font-semibold",children:"Thermal Anomalies:"}),te("span",{className:"text-white",children:[" ","Observed inconsistencies in heat retention"]})]}),te("li",{children:[F("span",{className:"font-semibold",children:"Material Response:"}),te("span",{className:"text-white",children:[" ","Metals heat/cool faster than silicates"]})]})]})]}),te("section",{className:"space-y-4",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Irregular Topography"}),te("ul",{className:"list-disc pl-6 space-y-2",children:[te("li",{children:[F("span",{className:"font-semibold",children:"Shadow Effects:"}),te("span",{className:"text-white",children:[" ","Depressions trap heat or remain cooler"]})]}),te("li",{children:[F("span",{className:"font-semibold",children:"Local Microclimates:"}),te("span",{className:"text-white",children:[" ","80km craters create temperature pockets"]})]}),te("li",{children:[F("span",{className:"font-semibold",children:"Global Heat Distribution:"}),te("span",{className:"text-white",children:[" ","Non-spherical shape disrupts thermal flow"]})]})]})]}),te("section",{className:"space-y-4",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"4.2-Hour Rotation"}),te("ul",{className:"list-disc pl-6 space-y-2",children:[te("li",{children:[F("span",{className:"font-semibold",children:"Rapid Diurnal Cycle:"}),te("span",{className:"text-white",children:[" ","Full temperature swing every 2.1 hours"]})]}),te("li",{children:[F("span",{className:"font-semibold",children:"Thermal Stress:"}),te("span",{className:"text-white",children:[" ","Extreme heating/cooling rates fracture surface material"]})]}),te("li",{children:[F("span",{className:"font-semibold",children:"Surface Processing:"}),te("span",{className:"text-white",children:[" ","Accelerated regolith formation"]})]})]})]}),te("section",{className:"space-y-4",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"95 Obliquity"}),te("ul",{className:"list-disc pl-6 space-y-2",children:[te("li",{children:[F("span",{className:"font-semibold",children:"Extreme Seasons:"}),te("span",{className:"text-white",children:[" ","Poles alternate between constant sun/darkness"]})]}),te("li",{children:[F("span",{className:"font-semibold",children:"Polar Temperature Swings:"}),te("span",{className:"text-white",children:[" ","100K+ variation between seasonal extremes"]})]}),te("li",{children:[F("span",{className:"font-semibold",children:"Precession Effects:"}),te("span",{className:"text-white",children:[" ","Warming pole shifts every 6 months (Earth time)"]})]})]}),F(Kge,{})]}),te("section",{className:"space-y-4",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Eccentric Orbit"}),te("ul",{className:"list-disc pl-6 space-y-2",children:[te("li",{children:[F("span",{className:"font-semibold",children:"Seasonal Asymmetry:"}),te("span",{className:"text-white",children:[" ","Closest approach creates hotter summers"]})]}),te("li",{children:[F("span",{className:"font-semibold",children:"Polar Dichotomy:"}),te("span",{className:"text-white",children:[" ","Opposing pole temperatures during perihelion"]})]}),te("li",{children:[F("span",{className:"font-semibold",children:"Long-term Cycling:"}),te("span",{className:"text-white",children:[" ","Precession modulates temperature patterns over decades"]})]})]})]}),te("section",{className:"space-y-4",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Cumulative Impacts"}),F("div",{className:"p-4 border border-gray-700 rounded-lg",children:te("ul",{className:"list-disc pl-6 space-y-2",children:[F("li",{children:"No stable water ice - mean temperatures too high"}),F("li",{children:"Global porous regolith from thermal fracturing"}),F("li",{children:"Unique crater preservation patterns"}),F("li",{children:"Instrumentation challenges due to rapid thermal changes"})]})})]})]})})]})}function Zge(){return te("div",{className:"h-screen flex flex-col bg-gray-900 font-mono",children:[F(Md,{}),F("hr",{className:"border-t border-gray-700 w-full"}),F("main",{className:"flex-1 overflow-y-auto p-8 text-gray-300",children:te("div",{className:"max-w-6xl mx-auto space-y-12",children:[te("div",{className:"space-y-4",children:[F("h1",{className:"text-4xl font-bold text-white",children:"Learn More"}),F("hr",{className:"border-b border-gray-700"})]}),te("section",{className:"space-y-6",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Team 23C Iridium"}),te("div",{className:"space-y-4",children:[F("h3",{className:"text-xl font-semibold",children:"University of Georgia"}),te("ul",{className:"list-disc pl-6 space-y-2",children:[te("li",{children:[F("span",{className:"font-semibold",children:"Venn Reddy"})," ","- Team Leader, Development, Research",F("br",{}),F("span",{className:"text-gray-400",children:"Computer Science"})]}),te("li",{children:[F("span",{className:"font-semibold",children:"Dylan Carter"})," ","- Development, Research",F("br",{}),F("span",{className:"text-gray-400",children:"Computer Science"})]}),te("li",{children:[F("span",{className:"font-semibold",children:"Connor Morris"})," ","- Research",F("br",{}),F("span",{className:"text-gray-400",children:"Mechanical Engineering"})]}),te("li",{children:[F("span",{className:"font-semibold",children:"Warner Johnson"})," ","- Research",F("br",{}),F("span",{className:"text-gray-400",children:"Mechanical Engineering"})]}),te("li",{children:[F("span",{className:"font-semibold",children:"Zoe Wagner"})," ","- Research",F("br",{}),F("span",{className:"text-gray-400",children:"Mechanical Engineering"})]})]})]})]}),te("section",{className:"space-y-6",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Academic Sources"}),te("ol",{className:"list-decimal pl-6 space-y-4 text-sm",children:[F("li",{children:F("a",{href:"https://www.jpl.nasa.gov/press-kits/psyche/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"NASA (2023). Psyche Press Kit"})}),F("li",{children:F("a",{href:"https://iopscience.iop.org/article/10.3847/PSJ/ac83a7",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Bierson, C. J., et al. (2022). The Geologic Impact of 16 Psyche's Surface Temperatures"})}),F("li",{children:F("a",{href:"https://agupubs.onlinelibrary.wiley.com/doi/10.1029/2021JE007091",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Cambioni, S., et al. (2022). The Heterogeneous Surface of Asteroid (16) Psyche"})}),F("li",{children:F("a",{href:"https://onlinelibrary.wiley.com/doi/10.1111/maps.13891",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Dibb, S. D., et al. (2022). Spectral reflectance variations of aubrites, metal-rich meteorites, and sulfides: Implications for exploration of (16) Psyche and other spectrally featureless asteroids"})}),F("li",{children:F("a",{href:"https://agupubs.onlinelibrary.wiley.com/doi/10.1029/2022EA002694",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Dibb, S. D., et al. (2023). Visible to Near-Infrared Reflectance Spectroscopy of Asteroid (16) Psyche: Implications for the Psyche Mission's Science Investigations"})}),F("li",{children:F("a",{href:"https://agupubs.onlinelibrary.wiley.com/doi/10.1029/2023AV001077",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Dibb, S. D., et al. (2024). A PostLaunch Summary of the Science of NASA's Psyche Mission"})}),F("li",{children:F("a",{href:"https://agupubs.onlinelibrary.wiley.com/doi/10.1029/2019JE006296",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Elkins-Tanton, L. T., et al. (2020). Observations, Meteorites, and Models: A Preflight Assessment of the Composition and Formation of (16) Psyche"})}),F("li",{children:F("a",{href:"https://link.springer.com/article/10.1007/s11214-022-00880-9",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Elkins-Tanton, L. T., et al. (2022). Distinguishing the Origin of Asteroid (16) Psyche"})}),F("li",{children:F("a",{href:"https://link.springer.com/article/10.1007/s11214-022-00874-7",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Jaumann, R., et al. (2022). The Psyche Topography and Geomorphology Investigation"})}),F("li",{children:F("a",{href:"https://link.springer.com/article/10.1007/s11214-022-00891-6",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Marchi, S., et al. (2022). Determining the Relative Cratering Ages of Regions of Psyches Surface"})}),F("li",{children:F("a",{href:"https://www.sciencedirect.com/science/article/abs/pii/S0019103516300288?via%3Dihub",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Shepard, M. K., et al. (2016) Radar observations and shape model of asteroid 16 Psyche"})}),F("li",{children:F("a",{href:"https://iopscience.iop.org/article/10.3847/PSJ/abfdba",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Shepard, M. K., et al. (2021). Asteroid 16 Psyche: Shape, Features, and Global Map"})}),F("li",{children:F("a",{href:"https://link.springer.com/article/10.1007/s11214-023-00965-z",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Weiss, B. P., et al. (2023). The Psyche Magnetometry Investigation"})}),F("li",{children:F("a",{href:"https://link.springer.com/article/10.1007/s11214-022-00905-3",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Zuber, M. T., et al. (2022). The Psyche Gravity Investigation"})})]})]}),te("section",{className:"space-y-6",children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Additional Resources"}),te("ul",{className:"list-disc pl-6 space-y-2",children:[F("li",{children:F("a",{href:"https://science.nasa.gov/mission/psyche/#:~:text=Psyche%20was%20discovered%20in%201852,a%20butterfly%2Dwinged%20female%20figure.",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"NASA: Comprehensive Psyche Website"})}),F("li",{children:F("a",{href:"https://science.nasa.gov/mission/psyche/#:~:text=Psyche%20was%20discovered%20in%201852,a%20butterfly%2Dwinged%20female%20figure.",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"NASA/ASU: Asteroid & Mission Info"})}),F("li",{children:F("a",{href:"https://psyche.asu.edu/gallery/psyche-asteroid-rotation-animation/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"NASA/ASU: Psyche Rotation Animation"})})]})]}),te("section",{children:[F("h2",{className:"text-3xl font-bold border-b border-gray-700 pb-2",children:"Disclaimer"}),F("p",{className:"pt-2",children:"This work was created in partial fulfillment of The University of Georgia Capstone Course CSCI/MCHE 4910. The work is a result of the Psyche Student Collaborations component of NASAs Psyche Mission (https://psyche.asu.edu). Psyche: A Journey to a Metal World [Contract number NNM16AA09C] is part of the NASA Discovery Program mission to solar system targets. Trade names and trademarks of ASU and NASA are used in this work for identification only. Their usage does not constitute an official endorsement, either expressed or implied, by Arizona State University or National Aeronautics and Space Administration. The content is solely the responsibility of the authors and does not necessarily represent the official views of ASU or NASA."})]})]})})]})}function Qge(){const[n,e]=Z.useState([{id:"initial-greeting",sender:"bot",text:"Hello! Ask me anything about the 16 Psyche mission."}]),[t,i]=Z.useState(""),[r,a]=Z.useState(!1),s=Z.useRef(null),l=()=>{var p;(p=s.current)==null||p.scrollIntoView({behavior:"smooth"})};Z.useEffect(()=>{l()},[n]);const u=async()=>{const p=t.trim();if(!p||r)return;const v={id:Date.now(),sender:"user",text:p};e(g=>[...g,v]),i(""),a(!0);try{const g=await fetch("http://localhost:3001/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:p})});if(!g.ok){let M=`HTTP error! Status: ${g.status}`;try{M=(await g.json()).error||M}catch{}throw new Error(M)}const b=await g.json(),_={id:Date.now()+1,sender:"bot",text:b.answer};e(M=>[...M,_])}catch(g){console.error("Failed to send message:",g);const b={id:Date.now()+1,sender:"bot",text:`Sorry, I encountered an error. ${g.message||"Please try again later."}`};e(_=>[..._,b])}finally{a(!1)}},f=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),u())};return te("div",{className:"flex flex-col h-full bg-gray-900 text-white",children:[te("div",{className:"p-4 border-b border-gray-700 text-center",children:[" ",F("h1",{className:"text-xl font-bold",children:"Psyche Assistant"})]}),te("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[" ",n.map(p=>F("div",{className:`flex ${p.sender==="user"?"justify-end":"justify-start"}`,children:F("div",{className:`max-w-xs md:max-w-md lg:max-w-lg px-3 py-2 rounded-lg shadow ${p.sender==="user"?"bg-blue-600 text-white":"bg-gray-700 text-white"}`,children:F("span",{style:{whiteSpace:"pre-wrap"},children:p.text})})},p.id)),r&&F("div",{className:"flex justify-start",children:F("div",{className:"px-3 py-2 rounded-lg shadow bg-gray-700 text-gray-400 italic",children:"Thinking..."})}),F("div",{ref:s})]}),te("div",{className:"p-4 border-t border-gray-700 flex items-center",children:[" ",F("textarea",{rows:1,placeholder:r?"Waiting for response...":"Ask a question about Psyche...",value:t,onChange:p=>{i(p.target.value),p.target.style.height="auto",p.target.style.height=`${p.target.scrollHeight}px`},onKeyDown:f,disabled:r,className:"flex-1 p-2 rounded bg-gray-800 text-white focus:outline-none resize-none overflow-y-auto max-h-28 mr-2",style:{overflowWrap:"break-word"}}),F("button",{onClick:u,disabled:r||!t.trim(),className:`p-2 rounded ${r||!t.trim()?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:"Send"})]})]})}function $ge(){return te("div",{className:"flex flex-col h-screen",children:[F(Md,{}),F("div",{className:"flex-1",children:F(Qge,{})})]})}function eye(){return F(wj,{basename:"/iridium_23c_year_sim-uga",children:te(rj,{children:[F(ql,{path:"/",element:F(Xj,{})}),F(ql,{path:"/instructions",element:F(Kj,{})}),F(ql,{path:"/mission-overview",element:F(Lee,{})}),F(ql,{path:"/shape-rotation",element:F(kee,{})}),F(ql,{path:"/orbit-year",element:F(Jee,{})}),F(ql,{path:"/scc",element:F(tte,{})}),F(ql,{path:"/impact",element:F(Jge,{})}),F(ql,{path:"/chatbot",element:F($ge,{}),children:" "}),F(ql,{path:"/learn-more",element:F(Zge,{})})]})})}BH.createRoot(document.getElementById("root")).render(F(Z.StrictMode,{children:F(eye,{})}));
